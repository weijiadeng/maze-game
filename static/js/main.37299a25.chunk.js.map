{"version":3,"sources":["components/guide.module.css","components/helperPage.module.css","components/welcome.module.css","components/playerStatusPanel.module.css","components/gamePanel.module.css","components/bigPopUpWindow.module.css","components/miniMap.module.css","components/smallPopUpWindow.module.css","components/labyrinthView.module.css","components/labyrinthGame.module.css","reducers/controlSlice.js","music/mixkit-game-level-completed-2059.wav","music/mixkit-video-game-health-recharge-2837.wav","music/mixkit-negative-guitar-tone-2324.wav","music/mixkit-bonus-extra-in-a-video-game-2064.wav","music/mixkit-small-hit-in-a-game-2072.wav","music/mixkit-arcade-retro-jump-223.wav","music/mixkit-player-losing-or-failing-2042.wav","commons/SoundHooks.jsx","components/GamePanel.jsx","reducers/elapseTimerSlice.js","components/ElapseTimer.jsx","reducers/playerStatusSlice.js","components/LabyrinthCamera.jsx","commons/utils.js","components/Walls.jsx","components/LabyrinthView.jsx","reducers/popUpWindowSlice.js","components/BigPopUpWindow.jsx","components/SmallPopUpWindow.jsx","images/bigWindowBackground.png","reducers/leaderboardSlice.js","reducers/gameModeSlice.js","music/mixkit-game-level-music-689.wav","commons/BackgroundMusic.jsx","components/EventManager.jsx","components/MiniMap.jsx","images/heart-icon.png","images/normalclock.png","images/outoftimeclock.png","images/mapicon.png","images/sun.png","images/night.png","images/rocket.png","images/turtleicon.png","components/PlayerStatusPanel.jsx","components/LabyrinthGame.jsx","reducers/programWindowSlice.js","components/Welcome.jsx","components/ModeSelection.jsx","components/GameModeDescription.jsx","images/movesGuide.png","images/miniMap.png","components/MiniMapEventDescription.jsx","images/darkMode.png","components/DarkModeEventDescription.jsx","components/SpeedChangeEventDescription.jsx","components/HPChangeEventDescription.jsx","components/Guide.jsx","App.js","reducers/backgroundMusicSlice.js","reducers/helperPageSlice.js","store.js","index.js"],"names":["module","exports","controlSlice","createSlice","name","initialState","direction","posX","posZ","currentAction","isInit","wallTop","wallLeft","numX","numZ","lastMoveHitWall","isResetCamera","resetEvent","reducers","moveForward","state","moveBackward","resetLastMoveHitWall","turnLeft","turnRight","occurEvent","resetCurrentAction","assignResetEvent","action","payload","popEvent","assignPosX","assignPosZ","assignWallTop","assignWallLeft","assignNumX","assignNumZ","assignInit","assignResetCamera","actions","selectDirection","control","selectPosX","selectPosZ","selectAction","selectIsInit","selectWallTop","selectWallLeft","selectLastMoveHitWall","selectIsResetCamera","selectResetEvent","useGameCompletionSound","useSound","GameCompletionSound","interrupt","volume","play","stop","usePositiveEffectSound","PositiveEffectSound","useNegativeEffectSound","NegativeEffectSound","useNeutralEffectSound","NeutralEffectSound","useGameOverSound","GameOverSound","useHitWallSound","HitWallSound","GamePanel","dispatch","useDispatch","handleMoveForward","handleMoveBackward","handleTurnLeft","handleTurnRight","isPlayHitWall","useSelector","document","addEventListener","event","key","className","styles","panelContainer","forwardButton","icon","faChevronCircleUp","onClick","backwardButton","faChevronCircleDown","turnLeftButton","faChevronCircleLeft","turnRightButton","faChevronCircleRight","elapseTimerSlice","curNumSeconds","status","intervalHasSet","countUp","pauseCount","resumeCount","readyCount","resetCount","adjustCountByAmount","markIntervalSet","selectCurNumSeconds","elapseTimer","selectStatus","selectIntervalHasSet","ElapseTimer","setInterval","x","elapseTime","Math","floor","playerStatusSlice","HP","buff","debuff","speedModifier","decreaseHP","increaseHP","resetBuffAndDebuff","addABuff","removeABuff","addADebuff","removeADebuff","resetPlayerStatus","selectHP","playerStatus","selectBuff","selectDebuff","extend","TrackballControls","DIRECTION_ADJUSTER","LabyrinthCamera","blockWidth","startCoordX","startCoordZ","cameraInitCoordX","cameraInitCoordZ","moveSpeed","turnSpeed","useThree","camera","gl","controls","React","actualMoveSpeed","actualTurnSpeed","currentAngle","setCurrentAngle","localAngle","coordX","coordZ","useFrame","position","z","lookAt","abs","rotateY","THREE","degToRad","updateProjectionMatrix","ref","args","domElement","dynamicDampingFactor","mouseButtons","LEFT","PAN","MIDDLE","ZOOM","RIGHT","ROTATE","UnionFind","elementNum","this","partsCount","parent","Array","apply","length","map","Number","call","rank","index","left","right","leftRoot","find","rightRoot","partialApply","fn","bind","genRandomInt","max","random","compareNumbers","a","b","getWallNeighbourCells","numCells","wallIndex","initLabyrinthWalls","numCellPlusBorder","unionFind","wallArray","resArray","i","push","currentPos","targetArray","j","tmp","shuffleArray","currentWall","neighborA","neighborB","union","fill","convertIndex","val","GenVerticalWall","width","height","depth","rotation","PI","color","attach","String","Walls","blockHeight","blockDepth","mazeWidth","mazeDepth","walls","LabyrinthView","darkModeIsOn","posCoordX","posCoordZ","ContextBridge","useContextBridge","ReactReduxContext","canvasDiv","fov","intensity","Sky","distance","sunPosition","inclination","azimuth","Stars","radius","count","factor","saturation","fade","rotation-x","opacity","INITIAL_PRESENSE","popUpWindowSlice","smallPopUpPresense","smallPopIsToOpen","bigPopUpPresense","bigPopUpIsToOpen","enableSmallPopUpPresense","disableSmallPopUpPresense","enableSmallPopUpIsToOpen","disableSmallPopUpIsToOpen","enableBigPopUpPresense","disableBigPopUpPresense","enableBigPopUpIsToOpen","disableBigPopUpIsToOpen","selectSmallPopUpPresense","popUpWindow","selectSmallPopUpIsToOpen","selectBigPopUpPresense","selectBigPopUpIsToOpen","BigPopUpWindow","props","isToOpen","useEffect","isOpen","popup","overlayClassName","overlay","closeTimeoutMS","src","background","backgroundPic","alt","content","children","buttonsection","buttons","SmallPopUpWindow","handlePresenseChange","setTimeout","leaderboardSlice","list","appendToLeaderBoard","sort","pop","gameModeSlice","gameMode","setGameMode","selectGameMode","useBgmPlay","bgm","loop","BackgroundMusic","useState","Fragment","StartEventRender","startEventCallback","EndEventRender","time","hasAppend","setHasAppend","FailGameEventRender","endEventCallback","strongWindEventCallBack","StrongWindEventRender","smellyWindEventCallBack","debuffId","SmellyWindEventRender","specificEventContent","freshWindEventCallBack","buffId","FreshWindEventRender","Event","toRender","callBack","eventTypeId","initEventMap","eventMap","NUM_DEBUFF_TYPE","NUM_BUFF_TYPE","EventManager","discovered","isResetEvent","isGameFail","setEventMap","currentRender","useRef","playGameCompletionSound","playPositiveEffectSound","playNegativeEffectSound","playNeutralEffectSound","playGameOverSound","currentIndex","currentCallback","current","MiniMap","miniMapIsOn","display","currentRow","square","style","borderTop","borderLeft","borderBottom","borderRight","backgroundColor","border","broadRow","container","ProgressBar","progressBar","percentage","Filler","filler","PlayerStatusPanel","hp","clock","progressBarSection","heart","normalclock","outoftimeclock","buffSection","dayIcon","nightIcon","mapicon","rocket","turtleicon","LabyrinthGame","currentHP","currentCurNumSeconds","visContainer","programWindowSlice","window","displayWelcome","displayModeSelection","displayGame","displayGuide","selectWindow","programWindow","WelcomeScreens","title","Welcome","options","ModeSelection","handleModeSelect","mode","footnote","GameModeDescription","description","smallHeader","gameModeName","MiniMapEventDescription","liHeaderContainer","liHeader","liHeaderText","eventIcon","miniMapIcon","eventDetail","eventPicture","mimiMapEventPicture","miniMap","DarkModeEventDescription","darkModeIcon","brightModeIcon","darkModePicture","SpeedChangeEventDescription","speedUpIcon","speedDownIcon","HPChangeEventDescription","heartIcon","Guide","handleGoBack","goBack","guide","goBackButton","topGoBackButton","bigHeader","plainText","moveGuide","movesGuide","App","Modal","setAppElement","backgroundMusicSlice","IsMuted","toggleIsMuted","helperPageSlice","shown","toggleShown","configureStore","reducer","controlReducer","elapseTimerReducer","backgroundMusic","backgroundMusicReducer","playerStatusReducer","popUpWindowReducer","programWindowReducer","leaderboard","leaderboardReducer","gameModeReducer","helperPage","helperPageReducer","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,UAAY,yBAAyB,UAAY,yBAAyB,aAAe,4BAA4B,oBAAsB,mCAAmC,kBAAoB,iCAAiC,YAAc,2BAA2B,UAAY,yBAAyB,YAAc,2BAA2B,UAAY,yBAAyB,KAAO,oBAAoB,SAAW,wBAAwB,aAAe,4BAA4B,aAAe,4BAA4B,YAAc,2BAA2B,gBAAkB,+BAA+B,aAAe,8B,mBCA3qBD,EAAOC,QAAU,CAAC,oBAAsB,wCAAwC,UAAY,8BAA8B,qBAAuB,yCAAyC,yBAA2B,6CAA6C,iBAAmB,qCAAqC,UAAY,8BAA8B,UAAY,gC,mBCAhXD,EAAOC,QAAU,CAAC,UAAY,2BAA2B,MAAQ,uBAAuB,QAAU,yBAAyB,QAAU,2B,mBCArID,EAAOC,QAAU,CAAC,kBAAoB,6CAA6C,UAAY,qCAAqC,YAAc,uCAAuC,KAAO,gCAAgC,mBAAqB,8CAA8C,OAAS,oC,mBCA5SD,EAAOC,QAAU,CAAC,eAAiB,kCAAkC,cAAgB,iCAAiC,eAAiB,kCAAkC,eAAiB,kCAAkC,gBAAkB,qC,mBCA9OD,EAAOC,QAAU,CAAC,MAAQ,8BAA8B,QAAU,gCAAgC,cAAgB,sCAAsC,QAAU,gCAAgC,cAAgB,wC,mBCAlND,EAAOC,QAAU,CAAC,UAAY,2BAA2B,IAAM,qBAAqB,SAAW,0BAA0B,OAAS,0B,mBCAlID,EAAOC,QAAU,CAAC,QAAU,kCAAkC,cAAgB,0C,mBCA9ED,EAAOC,QAAU,CAAC,UAAY,mC,mBCA9BD,EAAOC,QAAU,CAAC,aAAe,sC,wHCYpBC,EAAeC,YAAY,CACtCC,KAAM,UACNC,aAAc,CACZC,UAAW,EACXC,KAAM,EACNC,KAAM,EAENC,cAlBwB,EAmBxBC,QAAQ,EACRC,QAAS,GACTC,SAAU,GACVC,KAAM,EACNC,KAAM,EACNC,iBAAiB,EACjBC,eAAe,EACfC,YAAY,GAEdC,SAAU,CACRC,YAAa,SAAAC,GACX,GAzBiB,IAyBbA,EAAMX,cAER,OADAW,EAAMX,cA/Bc,EAgCZW,EAAMd,WACZ,KA3BQ,EA6BAc,EAAMb,MAAQ,GAAKa,EAAMb,MAAQa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,MAAQY,EAAMN,MAAQM,EAAMT,QAAQS,EAAMb,KAAOa,EAAMZ,MAAQY,EAAMP,KAAO,IAGxJO,EAAML,iBAAkB,EAFxBK,EAAMZ,MAAQ,EAIhB,MACF,KAlCW,EAmCHY,EAAMb,MAAQ,GAAKa,EAAMb,KAAOa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,KAAOY,EAAMN,MAAQM,EAAMR,SAASQ,EAAMb,KAAO,EAAIa,EAAMZ,MAAQY,EAAMP,KAAO,IAG3JO,EAAML,iBAAkB,EAFxBK,EAAMb,MAAQ,EAIhB,MACF,KAxCU,EAyCFa,EAAMb,MAAQ,GAAKa,EAAMb,KAAOa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,KAAOY,EAAMN,MAAQM,EAAMT,QAAQS,EAAMb,MAAQa,EAAMZ,KAAO,IAAMY,EAAMP,KAAO,IAG5JO,EAAML,iBAAkB,EAFxBK,EAAMZ,MAAQ,EAIhB,MACF,KA9CU,EA+CFY,EAAMb,MAAQ,GAAKa,EAAMb,MAAQa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,MAAQY,EAAMN,MAAQM,EAAMR,SAASQ,EAAMb,KAAOa,EAAMZ,MAAQY,EAAMP,KAAO,IAGzJO,EAAML,iBAAkB,EAFxBK,EAAMb,MAAQ,IAUxBc,aAAc,SAAAD,GACZ,GA/DiB,IA+DbA,EAAMX,cAER,OADAW,EAAMX,cAlEe,EAmEbW,EAAMd,WACZ,KAjEQ,EAkEAc,EAAMb,MAAQ,GAAKa,EAAMb,MAAQa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,MAAQY,EAAMN,MAAQM,EAAMT,QAAQS,EAAMb,MAAQa,EAAMZ,KAAO,IAAMY,EAAMP,KAAO,IAG9JO,EAAML,iBAAkB,EAFxBK,EAAMZ,MAAQ,EAIhB,MACF,KAvEW,EAwEHY,EAAMb,MAAQ,GAAKa,EAAMb,KAAOa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,MAAQY,EAAMN,MAAQM,EAAMR,SAASQ,EAAMb,KAAOa,EAAMZ,MAAQY,EAAMP,KAAO,IAGxJO,EAAML,iBAAkB,EAFxBK,EAAMb,MAAQ,EAIhB,MACF,KA7EU,EA8EFa,EAAMb,MAAQ,GAAKa,EAAMb,KAAOa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,MAAQY,EAAMN,MAAQM,EAAMT,QAAQS,EAAMb,KAAOa,EAAMZ,MAAQY,EAAMP,KAAO,IAGvJO,EAAML,iBAAkB,EAFxBK,EAAMZ,MAAQ,EAIhB,MACF,KAnFU,EAoFFY,EAAMb,MAAQ,GAAKa,EAAMb,MAAQa,EAAMP,MAAQO,EAAMZ,MAAQ,GAAKY,EAAMZ,MAAQY,EAAMN,MAAQM,EAAMR,SAASQ,EAAMb,KAAO,EAAIa,EAAMZ,MAAQY,EAAMP,KAAO,IAG7JO,EAAML,iBAAkB,EAFxBK,EAAMb,MAAQ,IAUxBe,qBAAsB,SAAAF,GACpBA,EAAML,iBAAkB,GAE1BQ,SAAU,SAAAH,GAtGS,IAuGbA,EAAMX,gBACRW,EAAMX,cA5GW,EA6GjBW,EAAMd,WAAac,EAAMd,UAAY,GAAK,IAG9CkB,UAAW,SAAAJ,GA5GQ,IA6GbA,EAAMX,gBACRW,EAAMX,cAjHY,EAkHlBW,EAAMd,YAAcc,EAAMd,UAAY,GAAK,EAAI,GAAK,IAGxDmB,WAAY,SAAAL,GAlHO,IAmHbA,EAAMX,gBACRW,EAAMX,cArHc,IAwHxBiB,mBAAoB,SAAAN,GAClBA,EAAMX,cA7HgB,GA+HxBkB,iBAAkB,SAACP,EAAOQ,GACxBR,EAAMH,WAAaW,EAAOC,SAE5BC,SAAU,SAAAV,GACRA,EAAMX,cA9HW,GAgInBsB,WAAY,SAACX,EAAOQ,GAClBR,EAAMb,KAAOqB,EAAOC,SAEtBG,WAAY,SAACZ,EAAOQ,GAClBR,EAAMZ,KAAOoB,EAAOC,SAEtBI,cAAe,SAACb,EAAOQ,GACrBR,EAAMT,QAAUiB,EAAOC,SAEzBK,eAAgB,SAACd,EAAOQ,GACtBR,EAAMR,SAAWgB,EAAOC,SAE1BM,WAAY,SAACf,EAAOQ,GAClBR,EAAMP,KAAOe,EAAOC,SAEtBO,WAAY,SAAChB,EAAOQ,GAClBR,EAAMN,KAAOc,EAAOC,SAEtBQ,WAAY,SAACjB,EAAOQ,GAClBR,EAAMV,OAASkB,EAAOC,SAExBS,kBAAmB,SAAClB,EAAOQ,GACzBR,EAAMJ,cAAgBY,EAAOC,QACxBD,EAAOC,UACVT,EAAMd,UAvJI,O,EA+KdJ,EAAaqC,QAjBfpB,E,EAAAA,YACAE,E,EAAAA,aACAE,E,EAAAA,SACAC,E,EAAAA,UACAF,E,EAAAA,qBACAG,E,EAAAA,WACAK,E,EAAAA,SACAC,E,EAAAA,WACAC,E,EAAAA,WACAC,E,EAAAA,cACAC,E,EAAAA,eACAC,E,EAAAA,WACAC,E,EAAAA,WACAC,E,EAAAA,WACAC,E,EAAAA,kBACAZ,E,EAAAA,mBACAC,E,EAAAA,iBAGWa,EAAkB,SAAApB,GAAK,OAAIA,EAAMqB,QAAQnC,WACzCoC,EAAa,SAAAtB,GAAK,OAAIA,EAAMqB,QAAQlC,MACpCoC,EAAa,SAAAvB,GAAK,OAAIA,EAAMqB,QAAQjC,MACpCoC,EAAe,SAAAxB,GAAK,OAAIA,EAAMqB,QAAQhC,eACtCoC,EAAe,SAAAzB,GAAK,OAAIA,EAAMqB,QAAQ/B,QACtCoC,EAAgB,SAAA1B,GAAK,OAAIA,EAAMqB,QAAQ9B,SACvCoC,EAAiB,SAAA3B,GAAK,OAAIA,EAAMqB,QAAQ7B,UAGxCoC,EAAwB,SAAA5B,GAAK,OAAIA,EAAMqB,QAAQ1B,iBAC/CkC,EAAsB,SAAA7B,GAAK,OAAIA,EAAMqB,QAAQzB,eAC7CkC,EAAmB,SAAA9B,GAAK,OAAEA,EAAMqB,QAAQxB,YAEtCf,IAAf,Q,yBCtMe,MAA0B,6DCA1B,MAA0B,mECA1B,MAA0B,6DCA1B,MAA0B,oECA1B,GCAA,IDAA,IAA0B,6DEA1B,MAA0B,iE,OCWlC,SAASiD,IAA0B,IAAD,EACZC,YAASC,EAAqB,CACnDC,WAAW,EACXC,OAAQ,MAHyB,mBAKrC,MAAO,CAAEC,KAL4B,KAKtBC,KALsB,KACtBA,MAOZ,SAASC,IAA0B,IAAD,EACZN,YAASO,EAAqB,CACnDL,WAAW,EACXC,OAAQ,MAHyB,mBAKrC,MAAO,CAAEC,KAL4B,KAKtBC,KALsB,KACtBA,MAOZ,SAASG,IAA0B,IAAD,EACZR,YAASS,EAAqB,CACnDP,WAAW,EACXC,OAAQ,MAHyB,mBAKrC,MAAO,CAAEC,KAL4B,KAKtBC,KALsB,KACtBA,MAQZ,SAASK,IAAyB,IAAD,EACXV,YAASW,EAAoB,CAClDT,WAAW,EACXC,OAAQ,MAHwB,mBAKpC,MAAO,CAAEC,KAL2B,KAKrBC,KALqB,KACrBA,MAcZ,SAASO,KAAoB,IAAD,EACNZ,YAASa,EAAe,CAC7CX,WAAW,EACXC,OAAQ,MAHmB,mBAK/B,MAAO,CAAEC,KALsB,KAKhBC,KALgB,KAChBA,MAOZ,SAASS,KAAmB,IAAD,EACLd,YAASe,EAAc,CAC5Cb,WAAW,EACXC,OAAQ,MAHkB,mBAK9B,MAAO,CAAEC,KALqB,KAKfC,KALe,KACfA,MAOnB,I,kBCpDO,SAASW,KAEd,IAAMC,EAAWC,cAEXC,EAAoB,WACxBF,EAASlD,MAELqD,EAAqB,WACzBH,EAAShD,MAGLoD,EAAiB,WACrBJ,EAAS9C,MAELmD,EAAkB,WACtBL,EAAS7C,MAuBLmD,EAAgBC,YAAY5B,GAC1BQ,EAASU,KAATV,KASR,OARImB,IACFnB,IACAa,EAAS/C,MAGXuD,SAASC,iBAAiB,WA1BJ,SAACC,GACrB,OAAQA,EAAMC,KACZ,IAAK,IACHP,IACA,MACF,IAAK,IACHC,IACA,MACF,IAAK,IACHH,IACA,MACF,IAAK,IACHC,QAkBJ,sBAAKS,UAAWC,IAAOC,eAAvB,UACE,cAAC,KAAD,CAAiBF,UAAWC,IAAOE,cAAeC,KAAMC,KAAmBC,QAAS,kBAAIhB,OACxF,cAAC,KAAD,CAAiBU,UAAWC,IAAOM,eAAgBH,KAAMI,KAAsBF,QAAS,kBAAIf,OAC5F,cAAC,KAAD,CAAiBS,UAAWC,IAAOQ,eAAgBL,KAAMM,KAAqBJ,QAAS,kBAAId,OAC3F,cAAC,KAAD,CAAiBQ,UAAWC,IAAOU,gBAAiBP,KAAMQ,KAAsBN,QAAS,kBAAIb,UClE5F,IAKMoB,GAAmB3F,YAAY,CACxCC,KAAM,cACNC,aAAc,CACV0F,cAAe,EACfC,OATc,EAUdC,gBAAgB,GAEpB/E,SAAU,CACNgF,QAAS,SAAA9E,GAXM,IAYPA,EAAM4E,SACN5E,EAAM2E,eAAiB,IAG/BI,WAAY,SAAA/E,GACRA,EAAM4E,OAhBG,GAkBbI,YAAa,SAAAhF,GACTA,EAAM4E,OApBK,GAsBfK,WAAY,SAAAjF,GACRA,EAAM4E,OAxBG,GA0BbM,WAAY,SAAAlF,GACRA,EAAM2E,cAAgB,GAE1BQ,oBAAqB,SAACnF,EAAOQ,GACzBR,EAAM2E,eAAiBnE,EAAOC,SAElC2E,gBAAiB,SAAApF,GACbA,EAAM6E,gBAAiB,M,GAc/BH,GAAiBvD,QAPjB2D,G,GAAAA,QACAC,G,GAAAA,WACAC,G,GAAAA,YACAE,G,GAAAA,WACAD,G,GAAAA,WAEAG,I,GADAD,oB,GACAC,iBAGSC,GAAsB,SAAArF,GAAK,OAAIA,EAAMsF,YAAYX,eACjDY,GAAe,SAAAvF,GAAK,OAAIA,EAAMsF,YAAYV,QAC1CY,GAAuB,SAAAxF,GAAK,OAAIA,EAAMsF,YAAYT,gBAGhDH,MAAf,QCpDe,SAASe,KACpB,IAAMb,EAASpB,YAAY+B,IACrBV,EAAiBrB,YAAYgC,IAC7BvC,EAAWC,cDLA,ICUb0B,IACA3B,EAAS+B,MACJH,IACDa,aAPsB,WAC1BzC,EAAS6B,QAM8B,KACnC7B,EAASmC,QAIjB,IAAMO,EAAInC,YAAY6B,IAChBO,EAAU,wBAAoBC,KAAKC,MAAMH,EAAI,MAAnC,cAA8CE,KAAKC,MAAMH,EAAI,IAA7D,cAAsEA,EAAI,GAA1E,MAEhB,OACI,qBAAK9B,UAAU,eAAf,SACI,4BAAI+B,M,kECdHG,GAAoBhH,YAAY,CACzCC,KAAM,eACNC,aAAc,CACV+G,GAbW,IAcXC,KAAM,EACNC,OAAQ,EACRC,cAAe,GAEnBrG,SAAU,CACNsG,WAAY,SAACpG,EAAOQ,GAChBR,EAAMgG,IAAMxF,EAAOC,QACfT,EAAMgG,GAAK,IACXhG,EAAMgG,GAAK,IAGnBK,WAAY,SAACrG,EAAOQ,GAzBT,MA0BHR,EAAMgG,KAGVhG,EAAMgG,IAAMxF,EAAOC,UAEvB6F,mBAAoB,SAAAtG,GAChBA,EAAMiG,KAAO,EACbjG,EAAMkG,OAAS,GAEnBK,SAAU,SAACvG,EAAOQ,GACdR,EAAMiG,MAAQzF,EAAOC,SAEzB+F,YAAa,SAACxG,EAAOQ,GACjBR,EAAMiG,OAAUzF,EAAOC,SAE3BgG,WAAY,SAACzG,EAAOQ,GAChBR,EAAMkG,QAAU1F,EAAOC,SAE3BiG,cAAe,SAAC1G,EAAOQ,GACnBR,EAAMkG,SAAY1F,EAAOC,SAE7BkG,kBAAmB,SAAA3G,GACfA,EAAMgG,GAhDC,IAiDPhG,EAAMiG,KAAO,EACbjG,EAAMkG,OAAS,M,GAcvBH,GAAkB5E,QARlBiF,G,GAAAA,WACAC,G,GAAAA,WACAC,G,GAAAA,mBACAC,G,GAAAA,SACAC,G,GAAAA,YACAC,G,GAAAA,WACAC,G,GAAAA,cACAC,G,GAAAA,kBAGSC,GAAW,SAAA5G,GAAK,OAAIA,EAAM6G,aAAab,IACvCc,GAAa,SAAA9G,GAAK,OAAIA,EAAM6G,aAAaZ,MACzCc,GAAe,SAAA/G,GAAK,OAAIA,EAAM6G,aAAaX,QAEzCH,MAAf,QC5CAiB,aAAO,CAAEC,yBAGT,IAAMC,GAAqB,GAGdC,GAAkB,SAAC,GAQzB,IAPLC,EAOI,EAPJA,WACAC,EAMI,EANJA,YACAC,EAKI,EALJA,YACAC,EAII,EAJJA,iBACAC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,UACAC,EACI,EADJA,UACI,EACmBC,eAAfC,EADJ,EACIA,OAAQC,EADZ,EACYA,GACVC,EAAWC,WAEX1I,EAAgBmE,YAAYhC,GAC5BrC,EAAOqE,YAAYlC,GACnBlC,EAAOoE,YAAYjC,GACnBrC,EAAYsE,YAAYpC,GACxB6E,EAAOzC,YAAYsD,IACnBZ,EAAS1C,YAAYuD,IACvBZ,EAAgB,ED9CG,EC+CnBF,EACFE,EAtBmB,EDtBI,EC6CdD,IACTC,EAAgB,IAElB,IAAM6B,EAAkBP,EAAYtB,EAC9B8B,EAAkBP,EAAYvB,EAjBhC,EAmBoC4B,WAAe,GAnBnD,mBAmBGG,EAnBH,KAmBiBC,EAnBjB,KAoBAC,EAAaF,EAEXG,GAAWjB,EAAa,GAAKjI,EAAO,GAAKiI,EAAaC,EACtDiB,GAAWlB,EAAa,GAAKhI,EAAO,GAAKgI,EAAaE,EACtD1H,EAAgB4D,YAAY3B,GAE5BoB,EAAWC,cA+HjB,OA7HAqF,cAAS,WAUP,OALK3I,IACHgI,EAAOY,SAAS7C,EAAI4B,EACpBK,EAAOY,SAASC,EAAIjB,EACpBvE,EAAS/B,GAAkB,KAErB7B,GACN,Kb/EsB,EagFpB,OAAQH,GACN,Kb3EQ,Ea4EF0I,EAAOY,SAASC,EAAIH,IACtBV,EAAOY,SAASC,GAAKT,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAG,EAAGiC,EAAOY,SAASC,EAAIvB,KAE1D,MACF,Kb9EU,Ea+EJU,EAAOY,SAAS7C,EAAI0C,IACtBT,EAAOY,SAAS7C,GAAKqC,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAIuB,GAAoB,EAAGU,EAAOY,SAASC,IAE3E,MACF,KbrFU,EasFJb,EAAOY,SAASC,EAAIH,IACtBV,EAAOY,SAASC,GAAKT,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAG,EAAGiC,EAAOY,SAASC,EAAIvB,KAE1D,MACF,Kb5FW,Ea6FLU,EAAOY,SAAS7C,EAAI0C,IACtBT,EAAOY,SAAS7C,GAAKqC,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAIuB,GAAoB,EAAGU,EAAOY,SAASC,IAM3E5C,KAAK8C,IAAIf,EAAOY,SAAS7C,EAAI0C,GAAUL,GACrCnC,KAAK8C,IAAIf,EAAOY,SAASC,EAAIH,GAAUN,IACzCJ,EAAOY,SAAS7C,EAAI0C,EACpBT,EAAOY,SAASC,EAAIH,EACpBrF,EAASvC,MAGb,MACF,KbjHuB,EakHrB,OAAQxB,GACN,KbhHQ,EaiHF0I,EAAOY,SAASC,EAAIH,IACtBV,EAAOc,OAAOd,EAAOY,SAAS7C,EAAG,EAAGiC,EAAOY,SAASC,EAAIvB,IACxDU,EAAOY,SAASC,GAAKT,GAEvB,MACF,KbnHU,EaoHJJ,EAAOY,SAAS7C,EAAI0C,IACtBT,EAAOY,SAAS7C,GAAKqC,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAIuB,GAAoB,EAAGU,EAAOY,SAASC,IAE3E,MACF,Kb1HU,Ea2HJb,EAAOY,SAASC,EAAIH,IACtBV,EAAOY,SAASC,GAAKT,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAG,EAAGiC,EAAOY,SAASC,EAAIvB,KAE1D,MACF,KbjIW,EakILU,EAAOY,SAAS7C,EAAI0C,IACtBT,EAAOY,SAAS7C,GAAKqC,EACrBJ,EAAOc,OAAOd,EAAOY,SAAS7C,EAAIuB,GAAoB,EAAGU,EAAOY,SAASC,IAM3E5C,KAAK8C,IAAIf,EAAOY,SAAS7C,EAAI0C,GAAUL,GACrCnC,KAAK8C,IAAIf,EAAOY,SAASC,EAAIH,GAAUN,IACzCJ,EAAOY,SAAS7C,EAAI0C,EACpBT,EAAOY,SAASC,EAAIH,EACpBrF,EAASvC,MAGb,MACF,KbxJmB,EayJI,IAAjBwH,GAEFC,EADAC,EAAaF,EAAe,IAG1BE,EAAa,IACfR,EAAOgB,QAAQC,QAAWC,SAASb,IAEnCE,EADAC,GAAcH,IAGZpC,KAAK8C,IAAIP,GAAcH,IACzBhF,EAASvC,KACTyH,EAAgB,IAElB,MACF,KbtKoB,EauKG,IAAjBD,IACFC,EAAgBD,EAAe,IAC/BE,EAAaF,EAAe,IAE1BE,EAAa,IACfR,EAAOgB,QAAQC,QAAWC,UAAUb,IAEpCE,EADAC,GAAcH,IAGZpC,KAAK8C,IAAIP,GAAcH,IACzBhF,EAASvC,KACTyH,EAAgB,IAUtBP,EAAOmB,4BAIP,mCACEC,IAAKlB,EACLmB,KAAM,CAACrB,EAAQC,EAAGqB,YAClBC,qBAAsB,GACtBC,aAAc,CACZC,KAAMR,SAAYS,IAClBC,OAAQV,SAAYW,KACpBC,MAAOZ,SAAYa,W,gBC1MdC,GAAb,WAKI,WAAYC,GAAa,qBACrBC,KAAKC,WAAaF,EAClBC,KAAKE,OAASC,MAAMC,MAAM,KAAM,CAAEC,OAAQN,IAAcO,IAAIC,OAAOC,KAAMD,QACzEP,KAAKS,KAAON,MAAMC,MAAM,EAAG,CAAEC,OAAQN,IAR7C,yCAYI,SAAKW,GACD,KAAOA,IAAUV,KAAKE,OAAOQ,IACzBV,KAAKE,OAAOQ,GAASV,KAAKE,OAAOF,KAAKE,OAAOQ,IAC7CA,EAAQV,KAAKE,OAAOQ,GAExB,OAAOA,IAjBf,mBAqBI,SAAMC,EAAMC,GACR,IAAMC,EAAWb,KAAKc,KAAKH,GACrBI,EAAYf,KAAKc,KAAKF,GACxBC,IAAaE,IAGjBf,KAAKC,YAAc,EACfD,KAAKS,KAAKI,GAAYb,KAAKS,KAAKM,GAChCf,KAAKE,OAAOW,GAAYE,EACjBf,KAAKS,KAAKI,GAAYb,KAAKS,KAAKM,GACvCf,KAAKE,OAAOa,GAAaF,GAEzBb,KAAKE,OAAOW,GAAYE,EACxBf,KAAKS,KAAKM,IAAc,QAlCpC,KAmDO,SAASC,GAAaC,GAAc,IAAD,uBAAN7B,EAAM,iCAANA,EAAM,kBAEtC,OAAO6B,EAAGC,KAAH,MAAAD,EAAE,CAAM,MAAN,OAAe7B,IAIrB,SAAS+B,GAAaC,GACzB,OAAOpF,KAAKC,MAAMD,KAAKqF,SAAWD,GAG/B,SAASE,GAAeC,EAAGC,GAC9B,OAAOD,EAAIC,EC5Cf,SAASC,GAAsB7L,EAAM8L,EAAUC,GAC7C,OAAIA,EAAYD,EAEP,CAACC,EAAY/L,EAAM+L,GAEnB,CAACA,EAAYD,EAAW,EAAGC,EAAYD,GAI3C,SAASE,GAAmBhM,EAAMC,GAYvC,IALA,IAAM6L,EAAW9L,EAAOC,EAClBgM,GAAqBjM,EAAK,IAAMC,EAAK,GACrCiM,EAAY,IAAIhC,GAAU4B,GAC5BK,EAAY,GACZC,EAAW,GACNC,EAAIrM,EAAMqM,EAAIP,EAAUO,IAC/BF,EAAUG,KAAKD,GAEjB,IAAK,IAAIA,EAAIP,EAAUO,EAAe,EAAXP,EAAcO,IACnCA,EAAIrM,IAAS,GACfmM,EAAUG,KAAKD,GAInB,IAAIE,GADJJ,EDRK,SAAsBK,GAGzB,IADA,IACSH,EADMG,EAAY/B,OACL,EAAG4B,EAAI,EAAGA,IAAK,CACjC,IAAII,EAAIrG,KAAKC,MAAMD,KAAKqF,UAAYY,EAAI,IACpCK,EAAMF,EAAYH,GACtBG,EAAYH,GAAKG,EAAYC,GAC7BD,EAAYC,GAAKC,EAErB,OAAOF,ECDGG,CAAaR,IACE1B,OAAS,EAEpC,EAAG,CACD,IAAMmC,EAAcT,EAAUI,GAD7B,EAE8BV,GAC7B7L,EACA8L,EACAc,GALD,mBAEMC,EAFN,KAEiBC,EAFjB,KAOGZ,EAAUhB,KAAK2B,KAAeX,EAAUhB,KAAK4B,GAC/CV,EAASE,KAAKM,GAEdV,EAAUa,MAAMF,EAAWC,GAE7BP,GAAc,QACkB,IAAzBL,EAAU7B,YACnB,KAAOkC,GAAc,GACnBH,EAASE,KAAKH,EAAUI,IACxBA,GAAc,EAKhB,IAFA,IAAMxM,EAAWwK,MAAMC,MAAM,KAAM,CAAEC,OAAQwB,IAAqBe,MAAK,GACjElN,EAAUyK,MAAMC,MAAM,KAAM,CAAEC,OAAQwB,IAAqBe,MAAK,GAC7DX,EAAI,EAAGA,EAAIrM,EAAMqM,IAExBvM,EAAQuM,IAAK,EAEbvM,EAAQuM,EAAIpM,GAAMD,EAAK,KAAM,EAE/B,IAAK,IAAIqM,EAAI,EAAGA,EAAIpM,EAAMoM,IAExBtM,EAASsM,GAAKrM,EAAK,KAAM,EAEzBD,EAASsM,GAAKrM,EAAK,GAAKA,IAAQ,EAIlC,IADA,IAAMiN,EAAe,SAAAC,GAAG,SAAQA,EAAMlN,IAAQA,EAAK,GAAKkN,EAAIlN,GACnDqM,EAAI,EAAGA,EAAID,EAAS3B,OAAQ4B,IAC/BD,EAASC,GAAKP,EAChBhM,EAAQmN,EAAab,EAASC,MAAO,EAErCtM,EAASkN,EAAab,EAASC,GAAKP,KAAa,EAQrD,OAJA/L,EAAS,IAAK,EACdA,EAASkM,EAAkB,IAAK,EAChCnM,EAAQmM,EAAkB,IAAK,EAC/BnM,EAAQmM,EAAkB,IAAK,EACxB,CAAClM,EAAUD,GAcpB,SAASqN,GAAgBjH,EAAG8C,EAAGoE,EAAOC,EAAQC,GAC5C,OACE,cAAC,KAAD,CACE9D,KAAM,CAAC4D,EAAOC,EAAQC,GACtBC,SAAU,CAAC,EAAa,GAAVnH,KAAKoH,GAAU,GAC7BzE,SAAU,CAAC7C,EAAG,EAAG8C,EAAIoE,EAAQ,GAH/B,SAIE,mCAAmBK,MAAM,SAASC,OAAO,cAJjCC,OAAOzH,GAAK,IAAMyH,OAAO3E,GAAK,QASrC,SAAS4E,GAAT,GAYL,IAFC,IAhCwB1H,EAAG8C,EAAGoE,EAAOC,EAAQC,EAuB5CtN,EASF,EATEA,KACAC,EAQF,EAREA,KACAH,EAOF,EAPEA,QACAC,EAMF,EANEA,SACA4H,EAKF,EALEA,WACAkG,EAIF,EAJEA,YACAC,EAGF,EAHEA,WACAC,EAEF,EAFEA,UACAC,EACF,EADEA,UAEIC,EAAQ,GACL5B,EAAI,EAAGA,EAAIrM,EAAK,EAAGqM,IAC1B,IAAK,IAAII,EAAI,EAAGA,EAAIxM,EAAK,EAAGwM,IACtB3M,EAAQuM,GAAKrM,EAAK,GAAKyM,IACzBwB,EAAM3B,MArCapG,GAuCd6H,EAAU,EAAI1B,EAAI1E,EAAamG,EAAa,EAvC3B9E,GAwCjBgF,EAAU,EAAIvB,EAAI9E,EAxCEyF,EAyCrBzF,EAAamG,EAzCeT,EA0C5BQ,EA1CoCP,EA2CpCQ,EAzCR,cAAC,KAAD,CACEtE,KAAM,CAAC4D,EAAOC,EAAQC,GACtBC,SAAU,CAAC,EAAG,EAAG,GACjBxE,SAAU,CAAC7C,EAAIkH,EAAQ,EAAG,EAAGpE,GAH/B,SAIE,mCAAmByE,MAAM,SAASC,OAAO,cAJjCC,OAAOzH,GAAK,IAAMyH,OAAO3E,GAAK,SA6ClCjJ,EAASsM,GAAKrM,EAAK,GAAKyM,IAC1BwB,EAAM3B,KACJa,IACGY,EAAU,EAAI1B,EAAI1E,GAClBqG,EAAU,EAAIvB,EAAI9E,EAAamG,EAAa,EAC7CnG,EAAamG,EACbD,EACAC,IAOV,OACE,uBAAOvO,KAAK,QAAZ,SACG0O,I,wBC5JA,SAASC,GAAT,GAWH,IAVFlO,EAUC,EAVDA,KACAC,EASC,EATDA,KACA0H,EAQC,EARDA,WACAkG,EAOC,EAPDA,YACAC,EAMC,EANDA,WACAC,EAKC,EALDA,UACAC,EAIC,EAJDA,UACAlO,EAGC,EAHDA,QACAC,EAEC,EAFDA,SACAoO,EACC,EADDA,aA8BMvG,GAAe5H,EAAO2H,EAAa,EACnCE,GAAe5H,EAAO0H,EAAa,EAEnCyG,GAAazG,EAAa,EAAI3H,EAAO2H,EAAaC,EAClDyG,GAAa1G,EAAa,GAAK1H,EAAO,GAAK0H,EAAaE,EAGxDyG,EAAgBC,aAAiBC,KACvC,OACE,qBAAKpK,UAAWC,KAAOoK,UAAvB,SACE,eAAC,KAAD,CAAQtG,OAAQ,CACduG,IAAK,GAAI3F,SAAU,CAACqF,EAAW,EAAGC,EAAY1G,IADhD,UAGE,cAAC2G,EAAD,UACE,cAAC,GAAD,CACE3G,WAAYA,EACZC,YAAaA,EACbC,YAAaA,EACbC,iBAAkBsG,EAClBrG,iBAAkBsG,EAClBrG,UAAW,GACXC,UAAW,MAGf,8BAAcwF,MAAM,UAAUkB,UAAW,KAIxCR,EAAe,KAAO,kCACrBpF,SAAU,EAAE,IAAK,GAAIlB,EAAcF,EAAa,GAChDgH,UAAW,MAEb,cAACf,GAAD,CACE5N,KAAMA,EACNC,KAAMA,EACNH,QAASA,EACTC,SAAUA,EACV4H,WAAYA,EACZkG,YAAaA,EACbC,WAAYA,EACZC,UAAWA,EACXC,UAAWA,IAEZG,EAAe,KAAO,cAACS,GAAA,EAAD,CACrBC,SAAU,IAGVC,YAAa,EAAE,IAAKjB,EAAahG,EAAcF,EAAa,GAC5DoH,YAAa,EACbC,QAAS,MAGX,cAACC,GAAA,EAAD,CACEC,OAAoB,EAAZnB,EACRT,MAAO,GACP6B,MAAO,IACPC,OAAcpP,EAAO,EAAb,GACRqP,WAAY,EACZC,MAAI,IAEN,cAAC,KAAD,CAAOC,cAAanJ,KAAKoH,GAAK,EAAGzE,SAAU,CAAC,GAAI8E,EAAc,EAAG,GAAIrE,KAAM,CAACuE,EAAWC,EAAW,EAAG,GAArG,SACE,mCAAmBN,OAAO,WAAW8B,QAAS,GAAK/B,MAAM,cAE1DU,EAAe,qBAAKT,OAAO,MAAMlE,KAAM,CAAC,QAAS,EAAG7B,KAAkB,UC7G/E,IAAM8H,IAAmB,EACZC,GAAmBpQ,YAAY,CACxCC,KAAM,cACNC,aAAc,CACVmQ,mBAAoBF,GACpBG,iBAAkBH,GAClBI,iBAAkBJ,GAClBK,iBAAkBL,IAEtBpP,SAAU,CACN0P,yBAA0B,SAAAxP,GACtBA,EAAMoP,oBAAqB,GAE/BK,0BAA2B,SAAAzP,GACvBA,EAAMoP,oBAAqB,GAE/BM,yBAA0B,SAAA1P,GACtBA,EAAMqP,kBAAmB,GAE7BM,0BAA2B,SAAA3P,GACvBA,EAAMqP,kBAAmB,GAE7BO,uBAAwB,SAAA5P,GACpBA,EAAMsP,kBAAmB,GAE7BO,wBAAyB,SAAA7P,GACrBA,EAAMsP,kBAAmB,GAE7BQ,uBAAwB,SAAA9P,GACpBA,EAAMuP,kBAAmB,GAE7BQ,wBAAyB,SAAA/P,GACrBA,EAAMuP,kBAAmB,M,GAcjCJ,GAAiBhO,QARjBqO,G,GAAAA,yBACAC,G,GAAAA,0BACAC,G,GAAAA,yBACAC,G,GAAAA,0BACAC,G,GAAAA,uBACAC,G,GAAAA,wBACAC,G,GAAAA,uBACAC,G,GAAAA,wBAGSC,GAA2B,SAAAhQ,GAAK,OAAIA,EAAMiQ,YAAYb,oBACtDc,GAA2B,SAAAlQ,GAAK,OAAIA,EAAMiQ,YAAYZ,kBACtDc,GAAyB,SAAAnQ,GAAK,OAAIA,EAAMiQ,YAAYX,kBACpDc,GAAyB,SAAApQ,GAAK,OAAIA,EAAMiQ,YAAYV,kBAGlDJ,MAAf,Q,wCCXekB,GArCQ,SAACC,GACpB,IAAMrN,EAAWC,cACXqN,EAAW/M,YAAY4M,IAC7BI,qBAAU,WACFD,IACAtN,EAAS2M,MACT3M,EAAS5C,KACT4C,EAAS8M,UAIjB,IAAMU,EAASjN,YAAY2M,IAO3B,OANAK,qBAAU,WACFC,GACAxN,EAAS8B,SAKb,eAAC,KAAD,CACI0L,OAAQA,EACR5M,UAAWC,KAAO4M,MAClBC,iBAAkB7M,KAAO8M,QACzBC,eAAgB,IAJpB,UAKI,qBAAKC,IAAKR,EAAMS,WAAYlN,UAAWC,KAAOkN,cAAeC,IAAK,KAElE,sBAAKpN,UAAWC,KAAOoN,QAAvB,UAEKZ,EAAMa,SACP,qBAAKtN,UAAWC,KAAOsN,cAAvB,SACKd,EAAMe,iB,oBCFZC,GA7BU,SAAChB,GACtB,IAAMrN,EAAWC,cACXqN,EAAW/M,YAAY0M,IAC7BM,qBAAU,WACFD,IACAtN,EAASuM,MACTvM,EAAS0M,UAGjB,IAAM4B,EAAuB,WACzBtO,EAASwM,OAQb,OALAe,qBAAU,WACNgB,WAAWD,EAAsB,QAEtB/N,YAAYwM,KAIvB,sBAAKnM,UAAWC,KAAOoN,QAAvB,UACKZ,EAAMa,SACP,qBAAKtN,UAAWC,KAAOsN,cAAvB,SACKd,EAAMe,cC9BR,OAA0B,gDCG5BI,GAAmB1S,YAAY,CACxCC,KAAM,cACNC,aAAc,CACVyS,KAAM,IAEV5R,SAAU,CACN6R,oBAAqB,SAAC3R,EAAOQ,GACzBR,EAAM0R,KAAK3F,KAAKvL,EAAOC,SACvBT,EAAM0R,KAAKE,KAAKzG,IACZnL,EAAM0R,KAAKxH,OAAS,IACpBlK,EAAM0R,KAAKG,UAOvBF,GACAF,GAAiBtQ,QADjBwQ,oBAMWF,MAAf,QClBaK,GAAgB/S,YAAY,CACrCC,KAAM,WACNC,aAAc,CACV8S,SAAU,GAEdjS,SAAU,CACNkS,YAAa,SAAChS,EAAOQ,GACjBR,EAAM+R,SAAWvR,EAAOC,YAMhCuR,GACAF,GAAc3Q,QADd6Q,YAGSC,GAAiB,SAAAjS,GAAK,OAAIA,EAAM+R,SAASA,UAEvCD,MAAf,QC1Be,OAA0B,wDCKlC,SAASI,KAAc,IAAD,EACAlQ,YAASmQ,GAAK,CACnCjQ,WAAW,EACXC,OAAQ,IACRiQ,MAAM,IAJe,mBAMzB,MAAO,CAAEhQ,KANgB,KAMVC,KANU,KACVA,MAQZ,IAAMgQ,GAAkB,WAAO,IAAD,EACZH,KADY,EAC1B9P,KAD0B,EACpBC,KACKiQ,oBAAS,GAC3B,OACI,cAAC,IAAMC,SAAP,KCiCR,SAASC,KACP,IAAMvP,EAAWC,cACXmO,EAAW,qBAAKlN,QAAS,WAC7BlB,EAAS+B,MACT/B,EAASvC,KACTuC,EAAS4M,OAHM,uBAKjB,OAAQ,eAAC,GAAD,CAAgBwB,QAASA,EAASN,WAAYA,GAA9C,UACN,mDACA,0EAIJ,SAAS0B,GAAmBxP,GAC1BA,EAASgC,MAGX,SAASyN,KACP,IAAMC,EAAOnP,YAAY6B,IADD,EAEUiN,oBAAS,GAFnB,mBAEjBM,EAFiB,KAENC,EAFM,KAGlB5P,EAAWC,cACjBsN,qBAAU,WACHoC,GACH3P,EAAS0O,GAAoBgB,OAG5BC,GACHC,GAAa,GAEf,IAAMxB,EACJ,eAAC,IAAMkB,SAAP,WACE,qBAAKpO,QAAS,WACZlB,EAASvC,KACTuC,EAAS0D,MACT1D,EAASiC,MACTjC,EAAShC,GAAW,IACpBgC,EAAS4M,OALX,+BAQA,2DAIJ,OAAQ,eAAC,GAAD,CAAgBwB,QAASA,EAASN,WAAYA,GAA9C,UACN,2CACA,iEAAoC4B,EAApC,kBAIJ,SAASG,KACP,IAAM7P,EAAWC,cACXmO,EACJ,eAAC,IAAMkB,SAAP,WACE,qBAAKpO,QAAS,WACZlB,EAASvC,KACTuC,EAAS0D,MACT1D,EAASiC,MACTjC,EAAShC,GAAW,IACpBgC,EAAS4M,OALX,yBAQA,2DAIJ,OAAQ,eAAC,GAAD,CAAgBwB,QAASA,EAASN,WAAYA,GAA9C,UACN,uCACA,8FAKJ,SAASgC,GAAiB9P,EAAUb,GAClCA,IACAa,EAAS8B,IACT9B,EAASvC,GAKX,SAASsS,GAAwB/P,EAAUb,EAAM2P,GAC/C3P,IACAa,EAASqD,MHnIS,IGoIdyL,GACF9O,EAASsD,Gb9HiB,Ia+H1BtD,EAASyD,GbnIgB,IaoIzBzD,EAASsD,GbrIe,IasIxBtD,EAASyD,GblIgB,KUJT,IGuIPqL,IACT9O,EAASwD,GbvIgB,IawIzBxD,EAASuD,GbpIiB,IaqI1BvD,EAASwD,GbtIgB,IauIzBxD,EAASuD,Gb3Ie,Ka+I5B,SAASyM,KACP,OACE,eAAC,GAAD,WACE,sCACA,qEACA,8DAQN,SAASC,GAAwBC,EAAUlQ,EAAUb,GAGnD,OAFAA,IAEQ+Q,GACN,KArIiB,EAsIflQ,EAASwD,GbhKc,IaiKvBxD,EAASuD,Gb7Je,Ia8JxB,MACF,KAxIkB,EAyIhBvD,EAASwD,Gb/JY,IagKrBxD,EAASuD,GbpKU,IaqKnB,MACF,KA3IkB,EA4IhBvD,EAASwD,GbrKc,IasKvBxD,EAASuD,Gb1Ka,Ia2KtB,MACF,KA9ImB,EA+IjBvD,EAASmD,GAAW,MAO1B,SAASgN,GAAT,GAA8C,IACxCC,EAAuB,KAC3B,OAF2C,EAAZF,UAG7B,KA5JiB,EA6JfE,EAAuB,mBACvB,MACF,KA9JkB,EA+JhBA,EAAuB,6BACvB,MACF,KAhKkB,EAiKhBA,EAAuB,oBACvB,MACF,KAlKmB,EAmKjBA,EAAuB,mBAK3B,OAAQ,eAAC,GAAD,WACN,wCACA,2DACA,8BAAMA,OAMV,SAASC,GAAuBC,EAAQtQ,EAAUb,GAGhD,OAFAA,IAEQmR,GACN,KAlLmB,EAmLjBtQ,EAASsD,Gb/Me,IagNxBtD,EAASyD,GbpNc,IaqNvB,MACF,KArLgB,EAsLdzD,EAASsD,GbtNU,IauNnBtD,EAASyD,GbnNY,IaoNrB,MACF,KAxLkB,EAyLhBzD,EAASsD,Gb5Na,Ia6NtBtD,EAASyD,GbzNc,Ia0NvB,MACF,KA3LiB,EA4LfzD,EAASoD,GAAW,MAO1B,SAASmN,GAAT,GAA2C,IACrCH,EAAuB,KAC3B,OAFwC,EAAVE,QAG5B,KAzMmB,EA0MjBF,EAAuB,qBACvB,MACF,KA3MgB,EA4MdA,EAAuB,oBACvB,MACF,KA7MkB,EA8MhBA,EAAuB,6BACvB,MACF,KA/MiB,EAgNfA,EAAuB,kBAK3B,OAAQ,eAAC,GAAD,WACN,wCACA,+EACA,8BAAMA,O,IAIJI,GACJ,WAAYC,EAAUC,EAAUC,GAAc,qBAC5C/J,KAAK6J,SAAWA,EAChB7J,KAAK8J,SAAWA,EAChB9J,KAAK+J,YAAcA,GAIvB,SAASC,GAAapU,EAAMC,EAAMqS,GAEhC,IAAM+B,EAAW9J,MAAMvK,EAAOC,EAAO,GAAG+M,KAAK,MAI7C,GAHAqH,EAASrU,GAAQC,EAAO,GAAKD,EAAO,GAAK,IAAIgU,GAAM,cAACjB,GAAD,IAAsBC,GApOlD,GAqOvBqB,EAAS,GAAK,IAAIL,GAAM,cAACf,GAAD,IAAoBK,GApOvB,GAqOrBe,EAASrU,EAAOC,EAAO,GAAK,IAAI+T,GAAM,cAACX,GAAD,IAAyBC,GAhOzC,GH3CJ,IG4QdhB,EACF,IAAK,IAAIjG,EAAIrM,GAAQC,EAAO,GAAKD,EAAO,EAAGqM,EAAI,EAAGA,IAAK,CAErD,OADgBd,GA1OC,IA4Of,KAxOsB,EAyOpB,GHrRU,IGqRN+G,EAAmB,CACrB,IAAMoB,EAAWnI,GAAa+I,GAC9BD,EAAShI,GAAK,IAAI2H,GAAM,cAACL,GAAD,CAAuBD,SAAUA,IAActI,GAAaqI,GAAyBC,GA3O3F,GA6OpB,MACF,KA/OsB,EAgPpB,GHzRU,IGyRNpB,EAAmB,CACrB,IAAMwB,EAASvI,GAAagJ,GAC5BF,EAAShI,GAAK,IAAI2H,GAAM,cAACD,GAAD,CAAsBD,OAAQA,IAAY1I,GAAayI,GAAwBC,GAlPrF,GAoPpB,MACF,KAnPqB,EAoPnBO,EAAShI,GAAK,IAAI2H,GAAM,cAACR,GAAD,IAA2BD,GApPhC,IA2P3B,OAAOc,EAGF,SAASG,GAAT,GAAuG,IAA/EC,EAA8E,EAA9EA,WAAY/U,EAAkE,EAAlEA,KAAMC,EAA4D,EAA5DA,KAAMK,EAAsD,EAAtDA,KAAMC,EAAgD,EAAhDA,KAAML,EAA0C,EAA1CA,cAAe8U,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,WACxFrC,EAAWvO,YAAYyO,IAD8E,EAE3EK,mBAASuB,GAAapU,EAAMC,EAAMqS,IAFyC,mBAEpG+B,EAFoG,KAE1FO,EAF0F,KAIrGC,EAAgBC,iBAAO,MACvBtR,EAAWC,cACjBsN,qBAAU,WACJ2D,IACFE,EAAYR,GAAapU,EAAMC,EAAMqS,IACrC9O,EAAS1C,GAAiB,QAT6E,IAY7FiU,EAA4BzS,IAAlCK,KACMqS,EAA4BnS,IAAlCF,KACMsS,EAA4BlS,IAAlCJ,KACMuS,EAA2BjS,IAAjCN,KACAA,EAAS8P,KAAT9P,KAIMwS,EAAsBhS,KAA5BR,KAEJyS,EAAezV,EAAOK,EAAON,EAE7BiV,IACFS,EAAepV,EAAKC,EAAO,GAG7B,IAAIoV,EAAkB,aAEtB,IzBpUqB,IyBoUjBzV,GzBrUsB,IyBqUOA,IAC3ByU,EAASe,KACNX,EAAWa,QAAQF,GAAe,CAAC,IAAD,EACOf,EAASe,GAA7CnB,EAD6B,EAC7BA,SAAUC,EADmB,EACnBA,SAAUC,EADS,EACTA,YAO5B,OALAU,EAAcS,QAAUrB,EAKhBE,GACN,KA3Se,EA4SbkB,EAAkB,WAAQnB,EAAS1Q,GAAWb,IAAQa,EAAS6M,OAC/D,MACF,KA7Sa,EA+SXgF,EAAkB,WAAQnB,EAAS1Q,EAAUuR,GAA0BvR,EAAS6M,OAChF,MACF,KAhToB,EAiTlBgF,EAAkB,WAAQnB,EAAS1Q,EAAUwR,GAA0BxR,EAASyM,OAChF,MACF,KAlToB,EAmTlBoF,EAAkB,WAAQnB,EAAS1Q,EAAUyR,GAA0BzR,EAASyM,OAChF,MACF,KApTmB,EAqTjBoF,EAAkB,WAAQnB,EAAS1Q,EAAU0R,EAAwB5C,GAAW9O,EAASyM,OACzF,MACF,KArTc,EAsTZoF,EAAkB,WAAQnB,EAAS1Q,EAAU2R,GAAoB3R,EAAS6M,QAapF,OADAU,oBAAUsE,GACHR,EAAcS,Q,wBC/WhB,SAASC,GAAT,GAWH,IAVAd,EAUD,EAVCA,WACAzU,EASD,EATCA,KACAC,EAQD,EARCA,KACAP,EAOD,EAPCA,KACAC,EAMD,EANCA,KACAI,EAKD,EALCA,SACAD,EAID,EAJCA,QACAF,EAGD,EAHCA,cACA4V,EAED,EAFCA,YACAb,EACD,EADCA,WAEMc,EAAU,G1BVG,I0BWf7V,IACA6U,EAAWa,QAAQ3V,EAAOK,EAAON,IAAQ,GAEzCiV,IACAF,EAAWa,QAAQtV,EAAKC,EAAO,IAAK,GAExC,IAAK,IAAIoM,EAAI,EAAGA,EAAIpM,EAAMoM,IAAK,CAE3B,IADA,IAAIqJ,EAAa,GACRjJ,EAAI,EAAGA,EAAIzM,EAAMyM,IAClBgI,EAAWa,QAAQjJ,EAAIrM,EAAOyM,IAAO/M,IAAS+M,GAAK9M,IAAS0M,EAC5DqJ,EAAWpJ,KACP,wBAAQlI,UAAWC,KAAOsR,OACtBC,MAAO,CACHC,UAAW/V,EAAQuM,GAAKrM,EAAO,GAAKyM,GAAK,oBAAsB,wCAC/DqJ,WAAY/V,EAASsM,GAAKrM,EAAO,GAAKyM,GAAK,oBAAsB,wCACjEsJ,aAAcjW,GAASuM,EAAI,IAAMrM,EAAO,GAAKyM,GAAK,oBAAsB,wCACxEuJ,YAAajW,EAASsM,GAAKrM,EAAO,GAAKyM,EAAI,GAAK,oBAAsB,wCACtEwJ,gBAAkBvW,IAAS+M,GAAK9M,IAAS0M,EAAK,oBAAsB,6BANrCsB,OAAOtB,GAAK,IAAMsB,OAAOlB,KAYpEiJ,EAAWpJ,KACP,wBAAQlI,UAAWC,KAAOsR,OACtBC,MAAO,CACHM,OAAQ,iCACRD,gBAAiB,uBAHctI,OAAOtB,GAAK,IAAMsB,OAAOlB,KAS5EgJ,EAAQnJ,KAAK,qBAAKlI,UAAWC,KAAO8R,SAAvB,SAA6DT,GAAvB,SAAW/H,OAAOtB,KAGzE,OACI,sBAAKjI,UAAWC,KAAO+R,UAAvB,UACI,wBACA,qBAAKhS,UAAWC,KAAOqG,IAAvB,SACK8K,EAAcC,EAAU,U,wBC1D1B,OAA0B,uCCA1B,OAA0B,wCCA1B,OAA0B,2CCA1B,OAA0B,oCCA1B,OAA0B,gCCA1B,OAA0B,kCCA1B,OAA0B,mCCA1B,OAA0B,uCCuBnCY,GAAc,SAACxF,GACjB,OACI,qBAAKzM,UAAWC,KAAOiS,YAAvB,SACI,cAAC,GAAD,CAAQC,WAAY1F,EAAM0F,WAAY9I,MAAOoD,EAAMpD,WAKzD+I,GAAS,SAAC3F,GACZ,OAAO,qBAAKzM,UAAWC,KAAOoS,OAAQb,MAAO,CAAExI,MAAM,GAAD,OAAKyD,EAAM0F,WAAX,KAA0BjF,WAAYT,EAAMpD,UA2BrFiJ,GAvBW,SAAC,GAAoB,IAAnBlQ,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,OACxBkQ,EAAK5S,YAAYoD,IACjByP,EAAQ,IAAM7S,YAAY6B,IAChC,OACI,sBAAKxB,UAAWC,KAAO+R,UAAvB,UACI,sBAAKhS,UAAWC,KAAOwS,mBAAvB,UACI,qBAAKzS,UAAWC,KAAOG,KAAM6M,IAAKyF,GAAOtF,IAAI,OAC7C,cAAC,GAAD,CAAa+E,WAAYI,OAE7B,sBAAKvS,UAAWC,KAAOwS,mBAAvB,UACI,qBAAKzS,UAAWC,KAAOG,KAAM6M,IAAKuF,EAAQ,GAAKG,GAAcC,GAAgBxF,IAAI,mBACjF,cAAC,GAAD,CAAa+E,WAAYK,EAAOnJ,MAAM,YAE1C,sBAAKrJ,UAAWC,KAAO4S,YAAvB,UACI,qBAAK7S,UAAWC,KAAOG,KAAM6M,IvBzCf,EuByCoB7K,EAAuB0Q,GAAUC,GAAW3F,IAAI,avB9CtE,EuB+CXhL,EAAqB,qBAAKpC,UAAWC,KAAOG,KAAM6M,IAAK+F,GAAS5F,IAAI,iBAAoB,KvB7ChF,EuB8CRhL,EAAkB,qBAAKpC,UAAWC,KAAOG,KAAM6M,IAAKgG,GAAQ7F,IAAI,aAAgB,KvB1CtE,EuB2CV/K,EAAsB,qBAAKrC,UAAWC,KAAOG,KAAM6M,IAAKiG,GAAY9F,IAAI,eAAkB,Y,oBCT5F,SAAS+F,KACtB,IACIvX,EACAC,EAFEqS,EAAWvO,YAAYyO,IAG7B,OAAQF,GACN,Kd/CgB,EcgDdtS,EAAO,EACPC,EAAO,EACP,MACF,KdlDkB,EcmDhBD,EAAO,GACPC,EAAO,GACP,MACF,KdrDgB,EcsDdD,EAAO,GACPC,EAAO,GAOX,IAGMwU,EAAaK,iBAAOvK,MAAMvK,EAAOC,EAAO,GAAG+M,MAAK,IAChDnN,EAASkE,YAAY/B,GACrBwB,EAAWC,cAEjB,IAAK5D,EAAQ,CACX2D,EAASlC,EAAWtB,IACpBwD,EAASjC,EAAWtB,IACpBuD,EAAStC,EAAWlB,EAAO,IAC3BwD,EAASrC,EAAWlB,EAAO,IAC3BuD,EAAS/B,GAAkB,IALhB,MAMiBuK,GAAmBhM,EAAMC,GAN1C,mBAMJF,EANI,KAMMD,EANN,KAOX0D,EAASnC,EAAetB,IACxByD,EAASpC,EAActB,IACvB0D,EAAS3C,KdhFO,IciFZyR,GACF9O,EAASsD,GxBhFa,IwBiFtBtD,EAASsD,GxB5Ee,KULV,IckFLwL,GACT9O,EAASwD,GxB/Ec,IwBgFvBxD,EAASwD,GxBnFc,KUFP,IcsFPsL,IACT9O,EAASsD,GxBjFe,IwBkFxBtD,EAASwD,GxBnFc,KwBqFzBxD,EAAShC,GAAW,IACpBgC,EAAS1C,GAAiB,IAC1B2T,EAAWa,QAAU/K,MAAMvK,EAAOC,EAAO,GAAG+M,MAAK,GAEnD,IAAMtN,EAAOqE,YAAYlC,GACnBlC,EAAOoE,YAAYjC,GACnB/B,EAAWgE,YAAY7B,GACvBpC,EAAUiE,YAAY9B,GACtBrC,EAAgBmE,YAAYhC,GAC5ByE,EAAOzC,YAAYsD,IACnBZ,EAAS1C,YAAYuD,IACrBoN,EAAe3Q,YAAY1B,GAC3BmV,EAAYzT,YAAYoD,IACxBsQ,EAAuB1T,YAAY6B,IACnC+O,EAAc6C,GAAY,GAAK,IAAMC,GAAwB,EAEnE,OACE,sBAAKrT,UAAWC,KAAOqT,aAAvB,UACE,cAACxJ,GAAD,CACElO,KAAMA,EACNC,KAAMA,EACN0H,WAhDa,GAiDbkG,YA/Cc,GAgDdC,WAjDa,GAkDbE,UAnDa,GAmDFhO,EACX+N,UApDa,GAoDF9N,EACXF,SAAUA,EACVD,QAASA,EACTqO,axBpHqB,EwBoHP1H,IAEhB,cAAClD,GAAD,IACA,cAACiR,GAAD,CACEC,WAAYA,EACZ/U,KAAMA,EACNC,KAAMA,EACNK,KAAMA,EACNC,KAAMA,EACNL,cAAeA,EACf8U,aAAcA,EACdC,WAAYA,IAEd,cAACY,GAAD,CACEd,WAAYA,EACZ/U,KAAMA,EACNC,KAAMA,EACNK,KAAMA,EACNC,KAAMA,EACNF,SAAUA,EACVD,QAASA,EACTF,cAAeA,EACf4V,YxB3IoB,EwB2IPhP,EACbmO,WAAYA,IAEd,cAAC3O,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CAAmBQ,KAAMA,EAAMC,OAAQA,O,UC7IhCkR,GAAqBrY,YAAY,CAC1CC,KAAM,gBACNC,aAAc,CACVoY,OARe,GAUnBvX,SAAU,CACNwX,eAAgB,SAAAtX,GACZA,EAAMqX,OAZK,GAcfE,qBAAsB,SAAAvX,GAClBA,EAAMqX,OAdY,GAgBtBG,YAAa,SAAAxX,GACTA,EAAMqX,OAhBE,GAkBZI,aAAc,SAAAzX,GACVA,EAAMqX,OAlBG,M,GA4BjBD,GAAmBjW,QAJnBmW,G,GAAAA,eACAC,G,GAAAA,qBACAC,G,GAAAA,YACAC,G,GAAAA,aAGSC,GAAe,SAAA1X,GAAK,OAAIA,EAAM2X,cAAcN,QAE1CD,MAAf,Q,oBC/BO,SAASQ,GAAetH,GAC3B,OACI,sBAAKzM,UAAWC,KAAO+R,UAAvB,UACI,oBAAIhS,UAAWC,KAAO+T,MAAtB,kBACCvH,EAAMa,YAIZ,SAAS2G,KACZ,IAAM7U,EAAWC,cAUjB,OACI,cAAC0U,GAAD,UACI,sBAAK/T,UAAWC,KAAOiU,QAAvB,UACI,oBAAIlU,UAAWC,KAAOuN,QAASlN,QAAS,WAVhDlB,EAASsU,OAUD,wBACA,oBAAI1T,UAAWC,KAAOuN,QAASlN,QAAS,WAPhDlB,EAASwU,OAOD,mBACA,oBAAI5T,UAAWC,KAAOuN,QAAtB,wBCtBT,SAAS2G,KACZ,IAAM/U,EAAWC,cAEX+U,EAAmB,SAACC,GACtBjV,EAAS+O,GAAYkG,IACrBjV,EAASuU,OAOb,OACI,eAACI,GAAD,WACI,sBAAK/T,UAAWC,KAAOiU,QAAvB,UACI,oBAAIlU,UAAWC,KAAOuN,QAASlN,QAAS,kBAAM8T,EjBrB1C,IiBqBJ,kBACA,oBAAIpU,UAAWC,KAAOuN,QAASlN,QAAS,kBAAM8T,EjBrBxC,IiBqBN,oBACA,oBAAIpU,UAAWC,KAAOuN,QAASlN,QAAS,kBAAM8T,EjBrB1C,IiBqBJ,kBACA,oBAAIpU,UAAWC,KAAOuN,QAASlN,QAAS,kBAAM8T,EjBpB1C,IiBoBJ,uBACA,oBAAIpU,UAAWC,KAAOuN,QAASlN,QAAS,WAVhDlB,EAASqU,OAUD,wBAEJ,qBAAKzT,UAAWC,KAAOqU,c,wBCJpBC,GAtBa,WACxB,OACI,sBAAKvU,UAAWC,KAAOuU,YAAvB,UACI,oBAAIxU,UAAWC,KAAOwU,YAAtB,uBACA,qBAAIzU,UAAWC,KAAO4N,KAAtB,UACI,+BAAI,sBAAM7N,UAAWC,KAAOyU,aAAxB,wBACA,uBADJ,4FAIA,+BAAI,sBAAM1U,UAAWC,KAAOyU,aAAxB,0BACA,uBADJ,6EAIA,+BAAK,sBAAM1U,UAAWC,KAAOyU,aAAxB,uBACD,uBADJ,mHChBD,I,MAAA,IAA0B,wCCA1B,OAA0B,oCC0B1BC,GArBiB,WAC5B,OACI,eAAC,IAAMjG,SAAP,WACI,qBAAK1O,UAAWC,KAAO2U,kBAAvB,SACI,oBAAG5U,UAAWC,KAAO4U,SAArB,UACI,sBAAM7U,UAAWC,KAAO6U,aAAxB,8BADJ,IACkE,oDAC9D,qBAAK9U,UAAWC,KAAO8U,UAAW9H,IAAK+H,GAAa5H,IAAI,iBACxD,4BAGR,oBAAGpN,UAAWC,KAAOgV,YAArB,8IAIc,uBACV,+BAAM,qBAAKjV,UAAS,UAAKC,KAAOiV,aAAZ,YAA4BjV,KAAOkV,qBAAuBlI,IAAKmI,GAAShI,IAAI,qBCpBjG,OAA0B,qCC6B1BiI,GAvBkB,WAC7B,OACI,eAAC,IAAM3G,SAAP,WACI,qBAAK1O,UAAWC,KAAO2U,kBAAvB,SACI,oBAAG5U,UAAWC,KAAO4U,SAArB,UACI,sBAAM7U,UAAWC,KAAO6U,aAAxB,qCADJ,IACyE,oDACrE,qBAAK9U,UAAWC,KAAO8U,UAAW9H,IAAKqI,GAAclI,IAAI,mBACzD,qBAAKpN,UAAWC,KAAO8U,UAAW9H,IAAKsI,GAAgBnI,IAAI,qBAC3D,4BAGR,oBAAGpN,UAAWC,KAAOgV,YAArB,iNAKc,uBACV,+BAAM,qBAAKjV,UAAWC,KAAOiV,aAAcjI,IAAKuI,GAAiBpI,IAAI,qBCGtEqI,GArBqB,WAChC,OACI,eAAC,IAAM/G,SAAP,WACI,qBAAK1O,UAAWC,KAAO2U,kBAAvB,SACI,oBAAG5U,UAAWC,KAAO4U,SAArB,UACI,sBAAM7U,UAAWC,KAAO6U,aAAxB,oCADJ,IACwE,oDACpE,qBAAK9U,UAAWC,KAAO8U,UAAW9H,IAAKyI,GAAatI,IAAI,kBACxD,qBAAKpN,UAAWC,KAAO8U,UAAW9H,IAAK0I,GAAevI,IAAI,oBAC1D,4BAGR,mBAAGpN,UAAWC,KAAOgV,YAArB,iJCOGW,GAnBkB,WAC7B,OACI,eAAC,IAAMlH,SAAP,WACI,qBAAK1O,UAAWC,KAAO2U,kBAAvB,SACI,oBAAG5U,UAAWC,KAAO4U,SAArB,UACI,sBAAM7U,UAAWC,KAAO6U,aAAxB,0BAAyD,oDACzD,qBAAK9U,UAAWC,KAAO8U,UAAW9H,IAAK4I,GAAWzI,IAAI,eACtD,4BAGR,mBAAGpN,UAAWC,KAAOgV,YAArB,yLC4DGa,GA7DD,WACV,IAAM1W,EAAWC,cACX0W,EAAe,WACjB3W,EAASqU,OAEPuC,EAAS,YAEf,OACI,sBAAKhW,UAAWC,KAAOgW,MAAvB,UACI,sBAAMjW,UAAS,UAAKC,KAAOiW,aAAZ,YAA4BjW,KAAOkW,iBAAmB7V,QAAS,kBAAMyV,KAApF,SAAqGC,IAErG,gCACI,oBAAIhW,UAAWC,KAAOmW,UAAtB,0DACA,mBAAGpW,UAAWC,KAAOoW,UAArB,6DAEJ,sBAAKrW,UAAWC,KAAOuU,YAAvB,UACI,oBAAIxU,UAAWC,KAAOwU,YAAtB,2BACA,qBAAIzU,UAAWC,KAAO4N,KAAtB,UACI,gGACA,qBAAK7N,UAAWC,KAAOqW,UAAWrJ,IAAKsJ,GAAYnJ,IAAI,qBAI/D,sBAAKpN,UAAWC,KAAOuU,YAAvB,UACI,oBAAIxU,UAAWC,KAAOwU,YAAtB,oBACA,qBAAIzU,UAAWC,KAAO4N,KAAtB,UACI,iKAEA,yFACA,wCACA,8HAGR,sBAAK7N,UAAWC,KAAOuU,YAAvB,UACI,oBAAIxU,UAAWC,KAAOwU,YAAtB,uCACA,qBAAIzU,UAAWC,KAAO4N,KAAtB,UACI,6BACI,cAAC,GAAD,MAEJ,6BACI,cAAC,GAAD,MAEJ,6BACI,cAAC,GAAD,MAEJ,6BACI,cAAC,GAAD,YAIZ,cAAC,GAAD,IACA,uBACA,uBACA,uBACA,sBAAM7N,UAAWC,KAAOiW,aAAc5V,QAAS,kBAAMyV,KAArD,SAAsEC,IACtE,uBACA,2BC1DG,SAASQ,KACtB,IAAI3G,EAAW,KAGf,OAFsBlQ,YAAYkU,KAGhC,KZdmB,EYejBhE,EAAW,cAACoE,GAAD,IACX,MACF,KZhB0B,EYiBxBpE,EAAW,cAACsE,GAAD,IACX,MACF,KZlBgB,EYmBdtE,EAAW,cAACsD,GAAD,IACX,MACF,KZpBiB,EYqBftD,EAAW,cAAC,GAAD,IAKf,OAAOA,EAtBT4G,KAAMC,cAAc,SCRpB,IAEaC,GAAuBzb,YAAY,CAC5CC,KAAM,kBACNC,aAAc,CACVwb,SALqB,GAOzB3a,SAAU,CACN4a,cAAe,SAAA1a,GACXA,EAAMya,SAAWza,EAAMya,YAapBD,IALXA,GAAqBrZ,QADrBuZ,cAMWF,GAAf,SCpBaG,GAAkB5b,YAAY,CACvCC,KAAM,aACNC,aAAc,CACV2b,OALiC,GAOrC9a,SAAU,CACN+a,YAAa,SAAA7a,GACTA,EAAM4a,OAAS5a,EAAM4a,UAYlBD,IALXA,GAAgBxZ,QADhB0Z,YAMWF,GAAf,SCVeG,eAAe,CAC5BC,QAAS,CACP1Z,QAAS2Z,EACT1V,YAAa2V,GACbC,gBAAiBC,GACjBtU,aAAcuU,GACdnL,YAAaoL,GACb1D,cAAe2D,GACfC,YAAaC,GACbzJ,SAAU0J,GACVC,WAAYC,MCfhBC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUC,MAAOA,GAAjB,SACI,cAAC1B,GAAD,QAGR5W,SAASuY,eAAe,W","file":"static/js/main.37299a25.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"guide\":\"guide_guide__dA5n0\",\"moveGuide\":\"guide_moveGuide__4KCOA\",\"eventIcon\":\"guide_eventIcon__2IPZM\",\"eventPicture\":\"guide_eventPicture__1ps0u\",\"mimiMapEventPicture\":\"guide_mimiMapEventPicture__1Y4Dx\",\"liHeaderContainer\":\"guide_liHeaderContainer__1YYdp\",\"eventDetail\":\"guide_eventDetail__2U7Rh\",\"bigHeader\":\"guide_bigHeader__386L4\",\"smallHeader\":\"guide_smallHeader__2L7yM\",\"plainText\":\"guide_plainText__2w_Ub\",\"list\":\"guide_list__36ooW\",\"liHeader\":\"guide_liHeader__3lbn5\",\"liHeaderText\":\"guide_liHeaderText__3Tc4o\",\"gameModeName\":\"guide_gameModeName__3j-Cq\",\"description\":\"guide_description__b3T-f\",\"topGoBackButton\":\"guide_topGoBackButton__2Kake\",\"goBackButton\":\"guide_goBackButton__1eT02\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"helperPageContainer\":\"helperPage_helperPageContainer__1eM9p\",\"moveGuide\":\"helperPage_moveGuide__30Pob\",\"operationDescription\":\"helperPage_operationDescription__nn3h2\",\"iconDescriptionContainer\":\"helperPage_iconDescriptionContainer__3KEOE\",\"twoIconContainer\":\"helperPage_twoIconContainer__3apiz\",\"eventIcon\":\"helperPage_eventIcon__2huNr\",\"plainText\":\"helperPage_plainText__DKd71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"welcome_container__1zouN\",\"title\":\"welcome_title__2C8Sf\",\"options\":\"welcome_options__IosI2\",\"buttons\":\"welcome_buttons__mJTC9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerStatusPanel\":\"playerStatusPanel_playerStatusPanel__1cmZa\",\"container\":\"playerStatusPanel_container__3gKUU\",\"progressBar\":\"playerStatusPanel_progressBar__2OczX\",\"icon\":\"playerStatusPanel_icon__LoCU4\",\"progressBarSection\":\"playerStatusPanel_progressBarSection__25ZUm\",\"filler\":\"playerStatusPanel_filler__A1WSr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelContainer\":\"gamePanel_panelContainer__2I-11\",\"forwardButton\":\"gamePanel_forwardButton__3wqGa\",\"backwardButton\":\"gamePanel_backwardButton__2mBmK\",\"turnLeftButton\":\"gamePanel_turnLeftButton__1neex\",\"turnRightButton\":\"gamePanel_turnRightButton__8HIPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"bigPopUpWindow_popup__3Y6BH\",\"overlay\":\"bigPopUpWindow_overlay__2vXM3\",\"backgroundPic\":\"bigPopUpWindow_backgroundPic__JlTZ5\",\"content\":\"bigPopUpWindow_content__3lEcr\",\"buttonsection\":\"bigPopUpWindow_buttonsection__DsooY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"miniMap_container__203Xp\",\"map\":\"miniMap_map__3sY0k\",\"broadRow\":\"miniMap_broadRow__ccNrJ\",\"square\":\"miniMap_square__z_h7H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"smallPopUpWindow_content__1_Cd_\",\"buttonsection\":\"smallPopUpWindow_buttonsection__1qAGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasDiv\":\"labyrinthView_canvasDiv__1DGyV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"visContainer\":\"labyrinthGame_visContainer__2ZVSS\"};","import { createSlice } from '@reduxjs/toolkit';\n\nexport const MOVE_FORWARD = 0;\nexport const TURN_LEFT = 2;\nexport const TURN_RIGHT = 1;\nexport const MOVE_BACKWARD = 3;\nexport const RANDOM_EVENT = 4;\nexport const NOTHING = 5;\nexport const UP = 0;\nexport const RIGHT = 3;\nexport const DOWN = 2;\nexport const LEFT = 1;\n\nexport const controlSlice = createSlice({\n  name: 'control',\n  initialState: {\n    direction: 0,\n    posX: 0,\n    posZ: 0,\n    // Used to block a new action when an action is exectuting\n    currentAction: MOVE_FORWARD,\n    isInit: false,\n    wallTop: [],\n    wallLeft: [],\n    numX: 5,\n    numZ: 5,\n    lastMoveHitWall: false,\n    isResetCamera: false,\n    resetEvent: true,\n  },\n  reducers: {\n    moveForward: state => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = MOVE_FORWARD;\n        switch (state.direction) {\n          case UP:\n            // Check if there is a wall\n            if (!(state.posX >= 0 && state.posX <= state.numX && state.posZ >= 0 && state.posZ <= state.numZ && state.wallTop[state.posX + state.posZ * (state.numX + 1)])) {\n              state.posZ -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case RIGHT:\n            if (!(state.posX >= 0 && state.posX < state.numX && state.posZ >= 0 && state.posZ < state.numZ && state.wallLeft[state.posX + 1 + state.posZ * (state.numX + 1)])) {\n              state.posX += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case DOWN:\n            if (!(state.posX >= 0 && state.posX < state.numX && state.posZ >= 0 && state.posZ < state.numZ && state.wallTop[state.posX + (state.posZ + 1) * (state.numX + 1)])) {\n              state.posZ += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case LEFT:\n            if (!(state.posX >= 0 && state.posX <= state.numX && state.posZ >= 0 && state.posZ <= state.numZ && state.wallLeft[state.posX + state.posZ * (state.numX + 1)])) {\n              state.posX -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          default:\n          // console.log(\"Direction error: \", state.direction);\n        }\n      }\n    },\n    moveBackward: state => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = MOVE_BACKWARD;\n        switch (state.direction) {\n          case UP:\n            if (!(state.posX >= 0 && state.posX <= state.numX && state.posZ >= 0 && state.posZ <= state.numZ && state.wallTop[state.posX + (state.posZ + 1) * (state.numX + 1)])) {\n              state.posZ += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case RIGHT:\n            if (!(state.posX >= 0 && state.posX < state.numX && state.posZ >= 0 && state.posZ <= state.numZ && state.wallLeft[state.posX + state.posZ * (state.numX + 1)])) {\n              state.posX -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case DOWN:\n            if (!(state.posX >= 0 && state.posX < state.numX && state.posZ >= 0 && state.posZ <= state.numZ && state.wallTop[state.posX + state.posZ * (state.numX + 1)])) {\n              state.posZ -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case LEFT:\n            if (!(state.posX >= 0 && state.posX <= state.numX && state.posZ >= 0 && state.posZ <= state.numZ && state.wallLeft[state.posX + 1 + state.posZ * (state.numX + 1)])) {\n              state.posX += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          default:\n          // console.log(\"Direction error: \", state.direction);\n        }\n      }\n    },\n    resetLastMoveHitWall: state => {\n      state.lastMoveHitWall = false;\n    },\n    turnLeft: state => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = TURN_LEFT;\n        state.direction = (state.direction + 1) % 4;\n      }\n    },\n    turnRight: state => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = TURN_RIGHT;\n        state.direction = ((state.direction - 1) % 4 + 4) % 4;\n      }\n    },\n    occurEvent: state => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = RANDOM_EVENT;\n      }\n    },\n    resetCurrentAction: state=> {\n      state.currentAction = MOVE_FORWARD;\n    },\n    assignResetEvent: (state, action) => {\n      state.resetEvent = action.payload;\n    },\n    popEvent: state => {\n      state.currentAction = NOTHING;\n    },\n    assignPosX: (state, action) => {\n      state.posX = action.payload;\n    },\n    assignPosZ: (state, action) => {\n      state.posZ = action.payload;\n    },\n    assignWallTop: (state, action) => {\n      state.wallTop = action.payload;\n    },\n    assignWallLeft: (state, action) => {\n      state.wallLeft = action.payload;\n    },\n    assignNumX: (state, action) => {\n      state.numX = action.payload;\n    },\n    assignNumZ: (state, action) => {\n      state.numZ = action.payload;\n    },\n    assignInit: (state, action) => {\n      state.isInit = action.payload;\n    },\n    assignResetCamera: (state, action) => {\n      state.isResetCamera = action.payload;\n      if (!action.payload) {\n        state.direction = UP;\n      }\n    },\n  },\n});\n\nexport const {\n  moveForward,\n  moveBackward,\n  turnLeft,\n  turnRight,\n  resetLastMoveHitWall,\n  occurEvent,\n  popEvent,\n  assignPosX,\n  assignPosZ,\n  assignWallTop,\n  assignWallLeft,\n  assignNumX,\n  assignNumZ,\n  assignInit,\n  assignResetCamera,\n  resetCurrentAction,\n  assignResetEvent\n} = controlSlice.actions;\n\nexport const selectDirection = state => state.control.direction;\nexport const selectPosX = state => state.control.posX;\nexport const selectPosZ = state => state.control.posZ;\nexport const selectAction = state => state.control.currentAction;\nexport const selectIsInit = state => state.control.isInit;\nexport const selectWallTop = state => state.control.wallTop;\nexport const selectWallLeft = state => state.control.wallLeft;\nexport const selectNumX = state => state.control.numX;\nexport const selectNumZ = state => state.control.numZ;\nexport const selectLastMoveHitWall = state => state.control.lastMoveHitWall;\nexport const selectIsResetCamera = state => state.control.isResetCamera;\nexport const selectResetEvent = state=>state.control.resetEvent;\n\nexport default controlSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/mixkit-game-level-completed-2059.9b5b1a62.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-video-game-health-recharge-2837.1196415e.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-negative-guitar-tone-2324.cab1c2b6.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-bonus-extra-in-a-video-game-2064.fc57cf28.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-small-hit-in-a-game-2072.63f0b124.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-arcade-retro-jump-223.ec530168.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-player-losing-or-failing-2042.183e2b8a.wav\";","import React from 'react';\nimport useSound from 'use-sound';\n// The following 7 music pieces credit to https://mixkit.co/free-sound-effects/game/.\nimport GameCompletionSound from '../music/mixkit-game-level-completed-2059.wav'\nimport PositiveEffectSound from '../music/mixkit-video-game-health-recharge-2837.wav'\nimport NegativeEffectSound from '../music/mixkit-negative-guitar-tone-2324.wav'\nimport NeutralEffectSound from '../music/mixkit-bonus-extra-in-a-video-game-2064.wav'\nimport ConfrontBattleSound from '../music/mixkit-arcade-retro-jump-223.wav'\nimport HitWallSound from '../music/mixkit-small-hit-in-a-game-2072.wav'\nimport GameOverSound from '../music/mixkit-player-losing-or-failing-2042.wav'\n\nexport function useGameCompletionSound() {\n    const [play, { stop }] = useSound(GameCompletionSound, {\n        interrupt: true,\n        volume: 0.75,\n    });\n    return { play, stop };\n}\n\nexport function usePositiveEffectSound() {\n    const [play, { stop }] = useSound(PositiveEffectSound, {\n        interrupt: true,\n        volume: 0.45,\n    });\n    return { play, stop };\n}\n\nexport function useNegativeEffectSound() {\n    const [play, { stop }] = useSound(NegativeEffectSound, {\n        interrupt: true,\n        volume: 0.65,\n    });\n    return { play, stop };\n}\n\n// Clears all effects, no matter positive or negative.\nexport function useNeutralEffectSound() {\n    const [play, { stop }] = useSound(NeutralEffectSound, {\n        interrupt: true,\n        volume: 0.65,\n    });\n    return { play, stop };\n}\n\nexport function useConfrontBattleSound() {\n    const [play, { stop }] = useSound(ConfrontBattleSound, {\n        interrupt: true,\n        volume: 0.65,\n    });\n    return { play, stop };\n}\nexport function useGameOverSound() {\n    const [play, { stop }] = useSound(GameOverSound, {\n        interrupt: true,\n        volume: 0.65,\n    });\n    return { play, stop };\n}\n\nexport function useHitWallSound() {\n    const [play, { stop }] = useSound(HitWallSound, {\n        interrupt: true,\n        volume: 0.65,\n    });\n    return { play, stop };\n}\n\nconst EffectSoundTestContainer = () => {\n    const { play: playGameCompletionSound, stop: stopGameCompletionSound } = useGameCompletionSound();\n    const { play: playPositiveEffectSound, stop: stopPositiveEffectSound } = usePositiveEffectSound();\n    const { play: playNegativeEffectSound, stop: stopNegativeEffectSound } = useNegativeEffectSound();\n    const { play: playNeutralEffectSound, stop: stopNeutralEffectSound } = useNeutralEffectSound();\n    const { play: playConfrontBattleSound, stop: stopConfrontBattleSound } = useConfrontBattleSound();\n    const { play: playGameOverSound, stop: stopGameOverSound } = useGameOverSound();\n    const { play: playHitWallSound, stop: stopHitWallSound } = useHitWallSound();\n\n    return (\n        <div>\n            <button onClick={() => playGameCompletionSound()}>Play Game Compeletion Sound</button>\n            <button onClick={() => stopGameCompletionSound()}>Stop Game Compeletion Sound</button>\n            <button onClick={() => playPositiveEffectSound()}>Play PositiveEffectSound</button>\n            <button onClick={() => stopPositiveEffectSound()}>Stop PositiveEffectSound</button>\n            <button onClick={() => playNegativeEffectSound()}>Play NegativeEffectSound</button>\n            <button onClick={() => stopNegativeEffectSound()}>Stop NegativeEffectSound</button>\n            <button onClick={() => playNeutralEffectSound()}>Play NeutralEffectSound</button>\n            <button onClick={() => stopNeutralEffectSound()}>Stop NeutralEffectSound</button>\n            <button onClick={() => playConfrontBattleSound()}>Play ConfrontBattleSound</button>\n            <button onClick={() => stopConfrontBattleSound()}>Stop ConfrontBattleSound</button>\n            <button onClick={() => playGameOverSound()}>Play GameOverSound</button>\n            <button onClick={() => stopGameOverSound()}>Stop GameOverSound</button>\n            <button onClick={() => playHitWallSound()}>Play HitWallSound</button>\n            <button onClick={() => stopHitWallSound()}>Stop HitWallSound</button>\n        </div>\n\n    );\n}\n\n\nexport default EffectSoundTestContainer;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  moveBackward,\n  moveForward,\n  resetLastMoveHitWall,\n  selectLastMoveHitWall,\n  turnLeft,\n  turnRight,\n} from '../reducers/controlSlice';\nimport styles from \"./gamePanel.module.css\"\nimport { useHitWallSound } from '../commons/SoundHooks';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronCircleDown, faChevronCircleUp, faChevronCircleLeft, faChevronCircleRight } from '@fortawesome/free-solid-svg-icons'\n\nexport function GamePanel() {\n\n  const dispatch = useDispatch();\n\n  const handleMoveForward = () => {\n    dispatch(moveForward());\n  };\n  const handleMoveBackward = () => {\n    dispatch(moveBackward());\n  };\n\n  const handleTurnLeft = () => {\n    dispatch(turnLeft());\n  };\n  const handleTurnRight = () => {\n    dispatch(turnRight());\n  };\n\n\n  const handleKeyDown = (event) => {\n    switch (event.key) {\n      case 'a':\n        handleTurnLeft();\n        break;\n      case 'd':\n        handleTurnRight();\n        break;\n      case 'w':\n        handleMoveForward();\n        break;\n      case 's':\n        handleMoveBackward();\n        break;\n      default:\n        break;\n    }\n  }\n\n  const isPlayHitWall = useSelector(selectLastMoveHitWall);\n  const { play } = useHitWallSound();\n  if (isPlayHitWall) {\n    play();\n    dispatch(resetLastMoveHitWall());\n  }\n\n  document.addEventListener(\"keydown\", handleKeyDown);\n\n\n  return (\n    <div className={styles.panelContainer}>\n      <FontAwesomeIcon className={styles.forwardButton} icon={faChevronCircleUp} onClick={()=>handleMoveForward()}/>\n      <FontAwesomeIcon className={styles.backwardButton} icon={faChevronCircleDown } onClick={()=>handleMoveBackward()}/>\n      <FontAwesomeIcon className={styles.turnLeftButton} icon={faChevronCircleLeft} onClick={()=>handleTurnLeft()}/>\n      <FontAwesomeIcon className={styles.turnRightButton} icon={faChevronCircleRight} onClick={()=>handleTurnRight()}/>\n    </div>\n  );\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const UNINIT = 0;\nexport const READY = 1;\nexport const RUNNING = 2;\nexport const PAUSE = 3;\n\nexport const elapseTimerSlice = createSlice({\n    name: 'elapseTimer',\n    initialState: {\n        curNumSeconds: 0,\n        status: UNINIT,\n        intervalHasSet: false,\n    },\n    reducers: {\n        countUp: state => {\n            if (state.status === RUNNING) {\n                state.curNumSeconds += 1;\n            }\n        },\n        pauseCount: state => {\n            state.status = PAUSE;\n        },\n        resumeCount: state => {\n            state.status = RUNNING;\n        },\n        readyCount: state=>{\n            state.status = READY;\n        },\n        resetCount: state => {\n            state.curNumSeconds = 0;\n        },\n        adjustCountByAmount: (state, action) => {\n            state.curNumSeconds += action.payload;\n        },\n        markIntervalSet: state=>{\n            state.intervalHasSet = true;\n        }\n\n    },\n});\n\nexport const {\n    countUp,\n    pauseCount,\n    resumeCount,\n    resetCount,\n    readyCount,\n    adjustCountByAmount,\n    markIntervalSet\n} = elapseTimerSlice.actions;\n\nexport const selectCurNumSeconds = state => state.elapseTimer.curNumSeconds;\nexport const selectStatus = state => state.elapseTimer.status;\nexport const selectIntervalHasSet = state => state.elapseTimer.intervalHasSet;\n\n\nexport default elapseTimerSlice.reducer;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectCurNumSeconds, selectStatus, countUp, resumeCount, READY, selectIntervalHasSet, markIntervalSet } from '../reducers/elapseTimerSlice'\n\n// A timer recording elapse time.\nexport default function ElapseTimer() {\n    const status = useSelector(selectStatus);\n    const intervalHasSet = useSelector(selectIntervalHasSet);\n    const dispatch = useDispatch();\n    const handleCountUpDispatch = () => {\n        dispatch(countUp());\n    }\n\n    if (status === READY) {\n        dispatch(resumeCount());\n        if (!intervalHasSet) {\n            setInterval(handleCountUpDispatch, 1000);\n            dispatch(markIntervalSet());\n        }\n    }\n\n    const x = useSelector(selectCurNumSeconds);\n    const elapseTime = `Time elapsed: ${Math.floor(x / 3600)} H ${Math.floor(x / 60)} M ${x % 60} S`;\n\n    return (\n        <div className=\"elapse-timer\">\n            <p>{elapseTime}</p>\n        </div>\n    );\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst INITIAL_HP = 100;\n\nexport const MINI_MAP_ON = (1 << 0);\nexport const DARK_MODE_ON = (1 << 1);\nexport const SPEED_UP = (1 << 2);\n\nexport const MINI_MAP_OFF = (1 << 0);\nexport const DARK_MODE_OFF = (1 << 1);\nexport const SPEED_DOWN = (1 << 2);\n\nexport const playerStatusSlice = createSlice({\n    name: 'playerStatus',\n    initialState: {\n        HP: INITIAL_HP,\n        buff: 0,\n        debuff: 0,\n        speedModifier: 1\n    },\n    reducers: {\n        decreaseHP: (state, action) => {\n            state.HP -= action.payload;\n            if (state.HP < 0) {\n                state.HP = 0;\n            }\n        },\n        increaseHP: (state, action) => {\n            if (state.HP === INITIAL_HP) {\n                return;\n            }\n            state.HP += action.payload;\n        },\n        resetBuffAndDebuff: state => {\n            state.buff = 0;\n            state.debuff = 0;\n        },\n        addABuff: (state, action) => {\n            state.buff |= action.payload;\n        },\n        removeABuff: (state, action) => {\n            state.buff &= (~action.payload);\n        },\n        addADebuff: (state, action) => {\n            state.debuff |= action.payload;\n        },\n        removeADebuff: (state, action) => {\n            state.debuff &= (~action.payload);\n        },\n        resetPlayerStatus: state => {\n            state.HP = INITIAL_HP;\n            state.buff = 0;\n            state.debuff = 0;\n        }\n    },\n});\n\nexport const {\n    decreaseHP,\n    increaseHP,\n    resetBuffAndDebuff,\n    addABuff,\n    removeABuff,\n    addADebuff,\n    removeADebuff,\n    resetPlayerStatus\n} = playerStatusSlice.actions;\n\nexport const selectHP = state => state.playerStatus.HP;\nexport const selectBuff = state => state.playerStatus.buff;\nexport const selectDebuff = state => state.playerStatus.debuff;\n\nexport default playerStatusSlice.reducer;\n","import * as React from 'react';\nimport { extend, useThree, useFrame } from 'react-three-fiber';\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls';\nimport * as THREE from 'three';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  selectAction,\n  selectPosX,\n  selectPosZ,\n  popEvent,\n  selectDirection,\n  MOVE_FORWARD,\n  MOVE_BACKWARD,\n  TURN_LEFT,\n  TURN_RIGHT,\n  NOTHING,\n  UP,\n  DOWN,\n  LEFT,\n  RIGHT,\n  RANDOM_EVENT,\n  selectIsResetCamera,\n  assignResetCamera\n} from '../reducers/controlSlice';\nimport { selectBuff, selectDebuff, SPEED_DOWN, SPEED_UP } from '../reducers/playerStatusSlice';\n\n\n// extend THREE to include TrackballControls\nextend({ TrackballControls });\n\n// Make the camera look ahead, can be any value greater than 0\nconst DIRECTION_ADJUSTER = 0.1;\nconst SPEED_MODIFIER = 2;\n\nexport const LabyrinthCamera = ({\n  blockWidth,\n  startCoordX,\n  startCoordZ,\n  cameraInitCoordX,\n  cameraInitCoordZ,\n  moveSpeed,\n  turnSpeed,\n}) => {\n  const { camera, gl } = useThree();\n  const controls = React.useRef();\n\n  const currentAction = useSelector(selectAction);\n  const posX = useSelector(selectPosX);\n  const posZ = useSelector(selectPosZ);\n  const direction = useSelector(selectDirection);\n  const buff = useSelector(selectBuff);\n  const debuff = useSelector(selectDebuff);\n  let speedModifier = 1;\n  if (buff & SPEED_UP) {\n    speedModifier = SPEED_MODIFIER;\n  } else if (debuff & SPEED_DOWN) {\n    speedModifier = 1 / SPEED_MODIFIER;\n  }\n  const actualMoveSpeed = moveSpeed * speedModifier;\n  const actualTurnSpeed = turnSpeed * speedModifier;\n  // Current angle is the remaining angle the camera needs to rotate\n  const [currentAngle, setCurrentAngle] = React.useState(0);\n  let localAngle = currentAngle;\n\n  const coordX = (-blockWidth / 2 + (posX + 1) * blockWidth + startCoordX);\n  const coordZ = (-blockWidth / 2 + (posZ + 1) * blockWidth + startCoordZ);\n  const isResetCamera = useSelector(selectIsResetCamera);\n\n  const dispatch = useDispatch();\n\n  useFrame(() => {\n    // // console.log(posX, coordX, camera.position.x)\n    // update the view as the vis is interacted with\n    // controls.current.update();\n    // console.log(currentAction);\n    if (!isResetCamera) {\n      camera.position.x = cameraInitCoordX;\n      camera.position.z = cameraInitCoordZ;\n      dispatch(assignResetCamera(true));\n    }\n    switch (currentAction) {\n      case MOVE_FORWARD:\n        switch (direction) {\n          case UP:\n            if (camera.position.z > coordZ) {\n              camera.position.z -= actualMoveSpeed;\n              camera.lookAt(camera.position.x, 0, camera.position.z - DIRECTION_ADJUSTER);\n            }\n            break;\n          case LEFT:\n            if (camera.position.x > coordX) {\n              camera.position.x -= actualMoveSpeed;\n              camera.lookAt(camera.position.x - DIRECTION_ADJUSTER, 0, camera.position.z);\n            }\n            break;\n          case DOWN:\n            if (camera.position.z < coordZ) {\n              camera.position.z += actualMoveSpeed;\n              camera.lookAt(camera.position.x, 0, camera.position.z + DIRECTION_ADJUSTER);\n            }\n            break;\n          case RIGHT:\n            if (camera.position.x < coordX) {\n              camera.position.x += actualMoveSpeed;\n              camera.lookAt(camera.position.x + DIRECTION_ADJUSTER, 0, camera.position.z);\n            }\n            break;\n          default:\n          // console.log(\"direction error!\");\n        }\n        if (Math.abs(camera.position.x - coordX) < actualMoveSpeed) {\n          if (Math.abs(camera.position.z - coordZ) < actualMoveSpeed) {\n            camera.position.x = coordX;\n            camera.position.z = coordZ;\n            dispatch(popEvent());\n          }\n        }\n        break;\n      case MOVE_BACKWARD:\n        switch (direction) {\n          case UP:\n            if (camera.position.z < coordZ) {\n              camera.lookAt(camera.position.x, 0, camera.position.z - DIRECTION_ADJUSTER);\n              camera.position.z += actualMoveSpeed;\n            }\n            break;\n          case LEFT:\n            if (camera.position.x < coordX) {\n              camera.position.x += actualMoveSpeed;\n              camera.lookAt(camera.position.x - DIRECTION_ADJUSTER, 0, camera.position.z);\n            }\n            break;\n          case DOWN:\n            if (camera.position.z > coordZ) {\n              camera.position.z -= actualMoveSpeed;\n              camera.lookAt(camera.position.x, 0, camera.position.z + DIRECTION_ADJUSTER);\n            }\n            break;\n          case RIGHT:\n            if (camera.position.x > coordX) {\n              camera.position.x -= actualMoveSpeed;\n              camera.lookAt(camera.position.x + DIRECTION_ADJUSTER, 0, camera.position.z);\n            }\n            break;\n          default:\n          // console.log(\"direction error!\");\n        }\n        if (Math.abs(camera.position.x - coordX) < actualMoveSpeed) {\n          if (Math.abs(camera.position.z - coordZ) < actualMoveSpeed) {\n            camera.position.x = coordX;\n            camera.position.z = coordZ;\n            dispatch(popEvent());\n          }\n        }\n        break;\n      case TURN_LEFT:\n        if (currentAngle === 0) {\n          localAngle = currentAngle + 90;\n          setCurrentAngle(localAngle);\n        }\n        if (localAngle > 0) {\n          camera.rotateY(THREE.Math.degToRad(actualTurnSpeed));\n          localAngle -= actualTurnSpeed;\n          setCurrentAngle(localAngle);\n        }\n        if (Math.abs(localAngle) < actualTurnSpeed) {\n          dispatch(popEvent());\n          setCurrentAngle(0);\n        }\n        break;\n      case TURN_RIGHT:\n        if (currentAngle === 0) {\n          setCurrentAngle(currentAngle - 90);\n          localAngle = currentAngle - 90;\n        }\n        if (localAngle < 0) {\n          camera.rotateY(THREE.Math.degToRad(-actualTurnSpeed));\n          localAngle += actualTurnSpeed;\n          setCurrentAngle(localAngle);\n        }\n        if (Math.abs(localAngle) < actualTurnSpeed) {\n          dispatch(popEvent());\n          setCurrentAngle(0);\n        }\n        break;\n      case NOTHING:\n        break;\n      case RANDOM_EVENT:\n        break;\n      default:\n      // console.log(\"button error!\");\n    }\n    camera.updateProjectionMatrix();\n  });\n\n  return (\n    <trackballControls\n      ref={controls}\n      args={[camera, gl.domElement]}\n      dynamicDampingFactor={0.1}\n      mouseButtons={{\n        LEFT: THREE.MOUSE.PAN, // make pan the default instead of rotate\n        MIDDLE: THREE.MOUSE.ZOOM,\n        RIGHT: THREE.MOUSE.ROTATE,\n      }}\n    />\n  );\n};\n\nexport default LabyrinthCamera;\n","// TODO: define interface\nexport class UnionFind {\n    partsCount;\n    rank;\n    parent;\n\n    constructor(elementNum) {\n        this.partsCount = elementNum;\n        this.parent = Array.apply(null, { length: elementNum }).map(Number.call, Number)\n        this.rank = Array.apply(0, { length: elementNum });\n    }\n\n    // Find the parent of the given index\n    find(index) {\n        while (index !== this.parent[index]) {\n            this.parent[index] = this.parent[this.parent[index]];\n            index = this.parent[index];\n        }\n        return index;\n    }\n\n    // Union the left element and right element, so that they become connected\n    union(left, right) {\n        const leftRoot = this.find(left);\n        const rightRoot = this.find(right);\n        if (leftRoot === rightRoot) {\n            return;\n        }\n        this.partsCount -= 1;\n        if (this.rank[leftRoot] < this.rank[rightRoot]) {\n            this.parent[leftRoot] = rightRoot;\n        } else if (this.rank[leftRoot] > this.rank[rightRoot]) {\n            this.parent[rightRoot] = leftRoot;\n        } else {\n            this.parent[leftRoot] = rightRoot;\n            this.rank[rightRoot] += 1;\n        }\n    }\n}\n\nexport function shuffleArray(targetArray) {\n    // Reference: https://stackoverflow.com/questions/3943772/how-do-i-shuffle-the-characters-in-a-string-in-javascript\n    const length = targetArray.length;\n    for (let i = length - 1; i > 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1));\n        let tmp = targetArray[i];\n        targetArray[i] = targetArray[j];\n        targetArray[j] = tmp;\n    }\n    return targetArray;\n}\n\nexport function partialApply(fn, ...args) {\n    // Reference: https://medium.com/@jnkrtech/partial-function-application-in-javascript-and-flow-7f3ca87074fe\n    return fn.bind(null, ...args);\n}\n\n// Returns random integer smaller than max.\nexport function genRandomInt(max) {\n    return Math.floor(Math.random() * max);\n}\n\nexport function compareNumbers(a, b) {\n    return a - b;\n}\n","import * as React from 'react';\nimport { Box } from '@react-three/drei'\nimport { shuffleArray, UnionFind } from \"../commons/utils\";\n\n// Wall global index definination example:\n// (The below two pictures are the same 3*3 maze, we separte vertical and horizontal walls to make it looks more clear)\n//\n//   012\n//   ---\n//   345\n//   ---\n//   678\n//\n//  9|10|11|\n// 12|13|14|\n// 15|16|17|\n//\n\n/* Given an wall index, output the neighbour cell index (In x+z*numZ format) */\nfunction getWallNeighbourCells(numX, numCells, wallIndex) {\n  if (wallIndex < numCells) {\n    // wallIndex < numCells, it is a horizontal wall\n    return [wallIndex - numX, wallIndex];\n  } else {\n    return [wallIndex - numCells - 1, wallIndex - numCells];\n  }\n}\n\nexport function initLabyrinthWalls(numX, numZ) {\n  // The algorithm is:\n  // We put all cells of a maze into a disjointed set, and set them as\n  // disjointed. Then we random select a wall. If the two cells separated\n  // by the wall is not connected, we tear down the wall, otherwise we keep\n  // the wall and choose another wall. We do this until there's only only\n  // connecting compoments left.\n  const numCells = numX * numZ;\n  const numCellPlusBorder = (numX+1) * (numZ+1);\n  const unionFind = new UnionFind(numCells);\n  let wallArray = [];\n  let resArray = [];\n  for (let i = numX; i < numCells; i++) {\n    wallArray.push(i);\n  }\n  for (let i = numCells; i < numCells * 2; i++) {\n    if (i % numX !== 0) {\n      wallArray.push(i);\n    }\n  }\n  wallArray = shuffleArray(wallArray);\n  let currentPos = wallArray.length - 1;\n\n  do {\n    const currentWall = wallArray[currentPos];\n    const [neighborA, neighborB] = getWallNeighbourCells(\n      numX,\n      numCells,\n      currentWall\n    );\n    if (unionFind.find(neighborA) === unionFind.find(neighborB)) {\n      resArray.push(currentWall);\n    } else {\n      unionFind.union(neighborA, neighborB);\n    }\n    currentPos -= 1;\n  } while (unionFind.partsCount !== 1);\n  while (currentPos >= 0) {\n    resArray.push(wallArray[currentPos]);\n    currentPos -= 1;\n  }\n\n  const wallLeft = Array.apply(null, { length: numCellPlusBorder }).fill(false);\n  const wallTop = Array.apply(null, { length: numCellPlusBorder }).fill(false);\n  for (let i = 0; i < numX; i++) {\n    // Make the top border to be true\n    wallTop[i] = true;\n    // Make the bottom border to be true\n    wallTop[i + numZ*(numX+1)] = true;\n  }\n  for (let i = 0; i < numZ; i++) {\n    // Make the left border to be true\n    wallLeft[i * (numX+1)] = true;\n    // Make the right border to be true\n    wallLeft[i * (numX+1) + numX] = true;\n  }\n\n  const convertIndex = val =>((~~(val / numX))*(numX+1) + val%numX);\n  for (let i = 0; i < resArray.length; i++) {\n    if (resArray[i] < numCells) {\n      wallTop[convertIndex(resArray[i])] = true;\n    } else {\n      wallLeft[convertIndex(resArray[i] - numCells)] = true;\n    }\n  }\n\n  wallLeft[0] = false;\n  wallLeft[numCellPlusBorder-1] = false;\n  wallTop[numCellPlusBorder-1] = false;\n  wallTop[numCellPlusBorder-2] = false;\n  return [wallLeft, wallTop];\n}\n\nfunction GenHorizontalWall(x, z, width, height, depth) {\n  return (\n    <Box key={String(x) + ',' + String(z) + \"top\"}\n      args={[width, height, depth]}\n      rotation={[0, 0, 0]}\n      position={[x + width / 2, 0, z]}>\n      <meshPhongMaterial color=\"orange\" attach=\"material\" />\n    </Box>\n  );\n}\n\nfunction GenVerticalWall(x, z, width, height, depth) {\n  return (\n    <Box key={String(x) + ',' + String(z) + \"left\"}\n      args={[width, height, depth]}\n      rotation={[0, Math.PI * 0.5, 0]}\n      position={[x, 0, z + width / 2]}>\n      <meshPhongMaterial color=\"orange\" attach=\"material\" />\n    </Box>\n  );\n}\n\nexport function Walls(\n  { numX,\n    numZ,\n    wallTop,\n    wallLeft,\n    blockWidth,\n    blockHeight,\n    blockDepth,\n    mazeWidth,\n    mazeDepth }\n) {\n  const walls = [];\n  for (let i = 0; i < numX+1; i++) {\n    for (let j = 0; j < numZ+1; j++) {\n      if (wallTop[i + (numX+1) * j]) {\n        walls.push(\n          GenHorizontalWall(\n            -mazeWidth/2 + i * blockWidth - blockDepth / 2,\n            -mazeDepth/2 + j * blockWidth,\n            blockWidth + blockDepth,\n            blockHeight,\n            blockDepth\n          )\n        );\n      }\n      if (wallLeft[i + (numX+1) * j]) {\n        walls.push(\n          GenVerticalWall(\n            -mazeWidth/2 + i * blockWidth,\n            -mazeDepth/2 + j * blockWidth - blockDepth / 2,\n            blockWidth + blockDepth,\n            blockHeight,\n            blockDepth\n          )\n        );\n      }\n    }\n  }\n\n  return (\n    <group name=\"walls\">\n      {walls}\n    </group>\n  );\n}\n","import * as React from 'react';\nimport { ReactReduxContext } from 'react-redux';\nimport { Canvas } from 'react-three-fiber'\nimport { Sky, Stars, Plane, useContextBridge } from '@react-three/drei'\nimport { LabyrinthCamera } from './LabyrinthCamera';\nimport { Walls } from './Walls';\nimport styles from \"./labyrinthView.module.css\"\n\nexport function LabyrinthView({\n  numX,\n  numZ,\n  blockWidth,\n  blockHeight,\n  blockDepth,\n  mazeWidth,\n  mazeDepth,\n  wallTop,\n  wallLeft,\n  darkModeIsOn\n}) {\n\n  // Direction definination:\n  //\n  //             top\n  //      ^\n  //      |\n  //      | z\n  //      | \n  // left | a             right\n  //      | x\n  //      | i\n  //      | s\n  //      |______________>\n  //            x axis\n  //\n  //            bottom\n\n  // WallLeft and wall top are two conceptual matrix of booleans(they are flattened to arrays for performance), recording\n  // whether a wall exist or not for a certain cell.\n  //\n  // wallTop: whether the wall on the top(in the 2D world) of a cell exists\n  // wallLeft: whether the wall on the left of a cell exists\n  // The isExist information for the wall on the right of the cell is provided by the wallLeft of the cell's right neighbour cell, so as for\n  // the bottom wall.\n  //\n  // To lookup the top wall info cell(x, y), we call wallTop[x + y*numZ]\n\n  // Starting point in the x and z axis(this is coordinate, not index)\n  const startCoordX = -numX * blockWidth / 2;\n  const startCoordZ = -numZ * blockWidth / 2;\n  // Get the current view coordinate\n  const posCoordX = -blockWidth / 2 + numX * blockWidth + startCoordX;\n  const posCoordZ = -blockWidth / 2 + (numZ + 1) * blockWidth + startCoordZ;\n  // Needed to use react-redux in react-three-fiber canvas. \n  // For details: https://standard.ai/blog/introducing-standard-view-and-react-three-fiber-context-bridge/\n  const ContextBridge = useContextBridge(ReactReduxContext);\n  return (\n    <div className={styles.canvasDiv}>\n      <Canvas camera={{\n        fov: 80, position: [posCoordX, 0, posCoordZ + blockWidth]\n      }}>\n        <ContextBridge>\n          <LabyrinthCamera\n            blockWidth={blockWidth}\n            startCoordX={startCoordX}\n            startCoordZ={startCoordZ}\n            cameraInitCoordX={posCoordX}\n            cameraInitCoordZ={posCoordZ}\n            moveSpeed={0.5}\n            turnSpeed={2}\n          />\n        </ContextBridge>\n        <ambientLight color=\"#ffffff\" intensity={0.4} />\n        {/* Reference: https://drei.pmnd.rs/?path=/story/shaders-softshadows--soft-shadows-st\n            Make the light the same direction with the sun\n        */}\n        {darkModeIsOn ? null : <directionalLight\n          position={[-500, 20, startCoordZ + blockWidth / 2]}\n          intensity={1.5}\n        />}\n        <Walls\n          numX={numX}\n          numZ={numZ}\n          wallTop={wallTop}\n          wallLeft={wallLeft}\n          blockWidth={blockWidth}\n          blockHeight={blockHeight}\n          blockDepth={blockDepth}\n          mazeWidth={mazeWidth}\n          mazeDepth={mazeDepth}\n        />\n        {darkModeIsOn ? null : <Sky\n          distance={10000} // Camera distance (default=450000)\n          // Sun position normal(Make the exit faces the sun, x should be less than -mazeWidth+blockWidth, \n          // y should be greater than 0, z should be -mazeHeight+blockWidth)\n          sunPosition={[-500, blockHeight, startCoordZ + blockWidth / 2]}\n          inclination={0} // Sun elevation angle from 0 to 1 (default=0)\n          azimuth={0.25} // Sun rotation around the Y axis from 0 to 1 (default=0.25)\n        />}\n        {/* Referenced from https://github.com/pmndrs/drei#stars */}\n        <Stars\n          radius={mazeWidth * 2} // Radius of the inner sphere (default=100)\n          depth={50} // Depth of area where stars should fit (default=50)\n          count={5000} // Amount of stars (default=5000)\n          factor={20 * (numX / 5)} // Size factor (default=4)\n          saturation={0} // Saturation 0-1 (default=0)\n          fade // Faded dots (default=false)\n        />\n        <Plane rotation-x={-Math.PI / 2} position={[0, -blockHeight / 2, 0]} args={[mazeWidth, mazeDepth, 4, 4]}>\n          <meshBasicMaterial attach=\"material\" opacity={0.5} color=\"#405940\" />\n        </Plane>\n        {darkModeIsOn ? <fog attach=\"fog\" args={['black', 0, blockWidth]} /> : null}\n      </Canvas>\n    </div>\n  );\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst INITIAL_PRESENSE = false;\nexport const popUpWindowSlice = createSlice({\n    name: 'popUpWindow',\n    initialState: {\n        smallPopUpPresense: INITIAL_PRESENSE,\n        smallPopIsToOpen: INITIAL_PRESENSE,\n        bigPopUpPresense: INITIAL_PRESENSE,\n        bigPopUpIsToOpen: INITIAL_PRESENSE\n    },\n    reducers: {\n        enableSmallPopUpPresense: state => {\n            state.smallPopUpPresense = true;\n        },\n        disableSmallPopUpPresense: state => {\n            state.smallPopUpPresense = false;\n        },\n        enableSmallPopUpIsToOpen: state => {\n            state.smallPopIsToOpen = true;\n        },\n        disableSmallPopUpIsToOpen: state => {\n            state.smallPopIsToOpen = false;\n        },\n        enableBigPopUpPresense: state => {\n            state.bigPopUpPresense = true;\n        },\n        disableBigPopUpPresense: state => {\n            state.bigPopUpPresense = false;\n        },\n        enableBigPopUpIsToOpen: state => {\n            state.bigPopUpIsToOpen = true;\n        },\n        disableBigPopUpIsToOpen: state => {\n            state.bigPopUpIsToOpen = false;\n        },\n    },\n});\n\nexport const {\n    enableSmallPopUpPresense,\n    disableSmallPopUpPresense,\n    enableSmallPopUpIsToOpen,\n    disableSmallPopUpIsToOpen,\n    enableBigPopUpPresense,\n    disableBigPopUpPresense,\n    enableBigPopUpIsToOpen,\n    disableBigPopUpIsToOpen\n} = popUpWindowSlice.actions;\n\nexport const selectSmallPopUpPresense = state => state.popUpWindow.smallPopUpPresense;\nexport const selectSmallPopUpIsToOpen = state => state.popUpWindow.smallPopIsToOpen;\nexport const selectBigPopUpPresense = state => state.popUpWindow.bigPopUpPresense;\nexport const selectBigPopUpIsToOpen = state => state.popUpWindow.bigPopUpIsToOpen;\n\n\nexport default popUpWindowSlice.reducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { enableBigPopUpPresense, selectBigPopUpPresense, selectBigPopUpIsToOpen, disableBigPopUpIsToOpen } from '../reducers/popUpWindowSlice';\nimport styles from './bigPopUpWindow.module.css'\nimport Modal from \"react-modal\"\nimport { pauseCount } from '../reducers/elapseTimerSlice';\nimport { occurEvent } from '../reducers/controlSlice';\n\nconst BigPopUpWindow = (props) => {\n    const dispatch = useDispatch();\n    const isToOpen = useSelector(selectBigPopUpIsToOpen)\n    useEffect(() => {\n        if (isToOpen) {\n            dispatch(enableBigPopUpPresense());\n            dispatch(occurEvent());\n            dispatch(disableBigPopUpIsToOpen());\n        }\n    });\n\n    const isOpen = useSelector(selectBigPopUpPresense);\n    useEffect(() => {\n        if (isOpen) {\n            dispatch(pauseCount());\n        }\n    });\n\n    return (\n        <Modal\n            isOpen={isOpen}\n            className={styles.popup}\n            overlayClassName={styles.overlay}\n            closeTimeoutMS={1000}>\n            <img src={props.background} className={styles.backgroundPic} alt={\"\"} />\n\n            <div className={styles.content}>\n\n                {props.children}\n                <div className={styles.buttonsection}>\n                    {props.buttons}\n                </div>\n            </div>\n        </Modal>\n    );\n}\n\nexport default BigPopUpWindow;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { disableSmallPopUpPresense, enableSmallPopUpPresense, selectSmallPopUpPresense, selectSmallPopUpIsToOpen, disableSmallPopUpIsToOpen } from '../reducers/popUpWindowSlice';\nimport styles from './smallPopUpWindow.module.css'\nimport Modal from \"react-modal\"\n\n\nconst SmallPopUpWindow = (props) => {\n    const dispatch = useDispatch();\n    const isToOpen = useSelector(selectSmallPopUpIsToOpen)\n    useEffect(() => {\n        if (isToOpen) {\n            dispatch(enableSmallPopUpPresense());\n            dispatch(disableSmallPopUpIsToOpen());\n        }\n    });\n    const handlePresenseChange = () => {\n        dispatch(disableSmallPopUpPresense());\n    }\n\n    useEffect(() => {\n        setTimeout(handlePresenseChange, 2000);\n    });\n    const isOpen = useSelector(selectSmallPopUpPresense);\n\n    return (\n        isOpen && \n        <div className={styles.content}>\n            {props.children}\n            <div className={styles.buttonsection}>\n                {props.buttons}\n            </div>\n        </div>\n    );\n}\n\nexport default SmallPopUpWindow;\n","export default __webpack_public_path__ + \"static/media/bigWindowBackground.851d04fd.png\";","import { createSlice } from '@reduxjs/toolkit';\nimport { compareNumbers } from '../commons/utils'\n\nexport const leaderboardSlice = createSlice({\n    name: 'leaderboard',\n    initialState: {\n        list: []\n    },\n    reducers: {\n        appendToLeaderBoard: (state, action) => {\n            state.list.push(action.payload);\n            state.list.sort(compareNumbers);\n            if (state.list.length > 10) {\n                state.list.pop();\n            }\n        }\n    },\n});\n\nexport const {\n    appendToLeaderBoard\n} = leaderboardSlice.actions;\n\nexport const selectList = state => state.leaderboard.list;\n\n\nexport default leaderboardSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const EASY = 0;\nexport const MEDIUM = 1;\nexport const HARD = 2;\nexport const CUSTOM = 3;\nexport const PURE = 4;\n\nexport const gameModeSlice = createSlice({\n    name: 'gameMode',\n    initialState: {\n        gameMode: 1\n    },\n    reducers: {\n        setGameMode: (state, action) =>{\n            state.gameMode = action.payload\n        }\n    },\n});\n\nexport const {\n    setGameMode,\n} = gameModeSlice.actions;\n\nexport const selectGameMode = state => state.gameMode.gameMode;\n\nexport default gameModeSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/mixkit-game-level-music-689.1410a480.wav\";","import React, { useEffect, useState } from 'react';\nimport useSound from 'use-sound';\n// Music credits to https://mixkit.co/free-sound-effects/game/.\nimport bgm from '../music/mixkit-game-level-music-689.wav'\n\nexport function useBgmPlay() {\n    const [play, { stop }] = useSound(bgm, {\n        interrupt: true,\n        volume: 0.35,\n        loop: true,\n    });\n    return { play, stop };\n}\n\nexport const BackgroundMusic = () => {\n    const {play, stop} = useBgmPlay();\n    const isPlaying = useState(true);\n    return (\n        <React.Fragment>\n        </React.Fragment>\n    );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { assignInit, assignNumX, assignNumZ, assignResetEvent, NOTHING, popEvent, RANDOM_EVENT, selectResetEvent } from \"../reducers/controlSlice\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { readyCount, selectCurNumSeconds, resumeCount, pauseCount, resetCount } from '../reducers/elapseTimerSlice'\nimport { selectHP, resetPlayerStatus } from \"../reducers/playerStatusSlice\";\nimport BigPopUpWindow from \"./BigPopUpWindow\";\nimport SmallPopUpWindow from \"./SmallPopUpWindow\";\nimport { disableBigPopUpPresense, enableBigPopUpIsToOpen, enableSmallPopUpIsToOpen } from \"../reducers/popUpWindowSlice\";\nimport { partialApply, genRandomInt } from \"../commons/utils\";\nimport background from '../images/bigWindowBackground.png'\nimport { appendToLeaderBoard } from \"../reducers/leaderboardSlice\";\nimport { usePositiveEffectSound, useNegativeEffectSound, useGameCompletionSound, useNeutralEffectSound, useGameOverSound } from \"../commons/SoundHooks\"\nimport {\n  decreaseHP,\n  increaseHP,\n  removeABuff,\n  removeADebuff,\n  resetBuffAndDebuff,\n  addABuff,\n  addADebuff,\n  DARK_MODE_ON,\n  DARK_MODE_OFF,\n  MINI_MAP_ON,\n  MINI_MAP_OFF,\n  SPEED_UP,\n  SPEED_DOWN\n} from '../reducers/playerStatusSlice';\nimport { PURE, EASY, HARD, selectGameMode } from \"../reducers/gameModeSlice\";\nimport { useBgmPlay } from \"../commons/BackgroundMusic\";\n\nconst NUM_DEBUFF_TYPE = 4;\nconst DARK_MODE_ID = 0;\nconst SPEED_DOWN_ID = 1;\nconst HIDE_MINI_MAP = 2;\nconst HP_DOWN_BY_TEN = 3;\n\nconst NUM_BUFF_TYPE = 4;\nconst BRIGHT_MODE_ID = 0;\nconst SPEED_UP_ID = 1;\nconst SHOW_MINI_MAP = 2;\nconst HP_UP_BY_TEN = 3;\n\nconst NUM_EVENT_TYPE = 6;\nconst START_GAME_EVENT = 0;\nconst END_GAME_EVENT = 1;\nconst POSITIVE_EFFECT_EVENT = 2;\nconst NEGATIVE_EFFECT_EVENT = 3;\nconst NEUTRAL_EFFECT_EVENT = 4;\nconst CONFRONT_BATTLE_EVENT = 5;\nconst GAME_FAIL_EVENT = 6;\n\nfunction StartEventRender() {\n  const dispatch = useDispatch();\n  const buttons = (<div onClick={() => {\n    dispatch(resumeCount());\n    dispatch(popEvent());\n    dispatch(disableBigPopUpPresense());\n  }}>Play now!</div>);\n  return (<BigPopUpWindow buttons={buttons} background={background}>\n    <h1>You are in a maze</h1>\n    <div>This is a dangerous maze, good luck!</div>\n  </BigPopUpWindow>);\n}\n\nfunction startEventCallback(dispatch) {\n  dispatch(readyCount());\n}\n\nfunction EndEventRender() {\n  const time = useSelector(selectCurNumSeconds);\n  const [hasAppend, setHasAppend] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!hasAppend) {\n      dispatch(appendToLeaderBoard(time));\n    }\n  });\n  if (!hasAppend) {\n    setHasAppend(true);\n  }\n  const buttons = (\n    <React.Fragment>\n      <div onClick={() => {\n        dispatch(popEvent());\n        dispatch(resetPlayerStatus());\n        dispatch(resetCount());\n        dispatch(assignInit(false));\n        dispatch(disableBigPopUpPresense());\n      }}\n      > Play next level </div>\n      <div> See the leaderboard </div>\n    </React.Fragment>\n  );\n\n  return (<BigPopUpWindow buttons={buttons} background={background}>\n    <h1>Congrats!</h1>\n    <div>You've passed the maze within {time} seconds!</div>\n  </BigPopUpWindow>);\n}\n\nfunction FailGameEventRender() {\n  const dispatch = useDispatch();\n  const buttons = (\n    <React.Fragment>\n      <div onClick={() => {\n        dispatch(popEvent());\n        dispatch(resetPlayerStatus());\n        dispatch(resetCount());\n        dispatch(assignInit(false));\n        dispatch(disableBigPopUpPresense());\n      }}\n      > Try again </div>\n      <div> See the leaderboard </div>\n    </React.Fragment>\n  );\n\n  return (<BigPopUpWindow buttons={buttons} background={background}>\n    <h1>Oops!</h1>\n    <div>You've failed the game ()!</div>\n  </BigPopUpWindow>);\n}\n\n// function endEventCallback(dispatch, playGameCompletionSound) {\nfunction endEventCallback(dispatch, play) {\n  play();\n  dispatch(pauseCount);\n  dispatch(popEvent);\n}\n\n// With a Strong wind, all buff and debuff are cleared.\n// function strongWindEventCallBack(dispatch, playNeutralEffectSound) {\nfunction strongWindEventCallBack(dispatch, play, gameMode) {\n  play();\n  dispatch(resetBuffAndDebuff());\n  if (gameMode === EASY) {\n    dispatch(addABuff(DARK_MODE_OFF));\n    dispatch(removeADebuff(DARK_MODE_ON));\n    dispatch(addABuff(MINI_MAP_ON));\n    dispatch(removeADebuff(MINI_MAP_OFF));\n  } else if (gameMode === HARD) {\n    dispatch(addADebuff(DARK_MODE_ON));\n    dispatch(removeABuff(DARK_MODE_OFF));\n    dispatch(addADebuff(MINI_MAP_OFF));\n    dispatch(removeABuff(MINI_MAP_ON));\n  }\n}\n\nfunction StrongWindEventRender() {\n  return (\n    <SmallPopUpWindow>\n      <h1>Wow!</h1>\n      <div>You've been applied A strong wind!</div>\n      <div>All effects are cleared!</div>\n    </SmallPopUpWindow>\n  );\n}\n\n\n// The smelly wind will add debuff: darkmode, minimap off, slowly move.\n// function smellyWindEventCallBack(debuffID, dispatch, playNegativeEffectSound) {\nfunction smellyWindEventCallBack(debuffId, dispatch, play) {\n  play();\n  // Generate a random debuff\n  switch (debuffId) {\n    case DARK_MODE_ID:\n      dispatch(addADebuff(DARK_MODE_ON));\n      dispatch(removeABuff(DARK_MODE_OFF));\n      break;\n    case SPEED_DOWN_ID:\n      dispatch(addADebuff(SPEED_DOWN));\n      dispatch(removeABuff(SPEED_UP));\n      break;\n    case HIDE_MINI_MAP:\n      dispatch(addADebuff(MINI_MAP_OFF));\n      dispatch(removeABuff(MINI_MAP_ON));\n      break;\n    case HP_DOWN_BY_TEN:\n      dispatch(decreaseHP(10));\n      break;\n    default:\n      break;\n  }\n}\n\nfunction SmellyWindEventRender({ debuffId }) {\n  let specificEventContent = null;\n  switch (debuffId) {\n    case DARK_MODE_ID:\n      specificEventContent = \"Dark Mode is on!\";\n      break;\n    case SPEED_DOWN_ID:\n      specificEventContent = \"Your speed is slowed down!\";\n      break;\n    case HIDE_MINI_MAP:\n      specificEventContent = \"Mini map is gone!\"\n      break;\n    case HP_DOWN_BY_TEN:\n      specificEventContent = \"Your lost 10 HP!\"\n      break;\n    default:\n      break;\n  }\n  return (<SmallPopUpWindow>\n    <h1>Oh no!</h1>\n    <div>You met a smelly wind...</div>\n    <div>{specificEventContent}</div>\n  </SmallPopUpWindow>);\n}\n\n// With a Fresh wind, one buff is added: brightmode, minimap on, faster move.\n// function freshWindEventCallBack(buffId, dispatch, playPositiveEffectSound) {\nfunction freshWindEventCallBack(buffId, dispatch, play) {\n  play();\n  // Generate a random buff\n  switch (buffId) {\n    case BRIGHT_MODE_ID:\n      dispatch(addABuff(DARK_MODE_OFF));\n      dispatch(removeADebuff(DARK_MODE_ON));\n      break;\n    case SPEED_UP_ID:\n      dispatch(addABuff(SPEED_UP));\n      dispatch(removeADebuff(SPEED_DOWN));\n      break;\n    case SHOW_MINI_MAP:\n      dispatch(addABuff(MINI_MAP_ON));\n      dispatch(removeADebuff(MINI_MAP_OFF));\n      break;\n    case HP_UP_BY_TEN:\n      dispatch(increaseHP(10));\n      break;\n    default:\n      break;\n  }\n}\n\nfunction FreshWindEventRender({ buffId }) {\n  let specificEventContent = null;\n  switch (buffId) {\n    case BRIGHT_MODE_ID:\n      specificEventContent = \"Bright mode is on!\";\n      break;\n    case SPEED_UP_ID:\n      specificEventContent = \"Your speed is up!\";\n      break;\n    case SHOW_MINI_MAP:\n      specificEventContent = \"Mini map is shown for you!\";\n      break;\n    case HP_UP_BY_TEN:\n      specificEventContent = \"Your got 10 HP!\";\n      break;\n    default:\n      break;\n  }\n  return (<SmallPopUpWindow>\n    <h1>Great!</h1>\n    <div>A fresh wind brought you something helpful! </div>\n    <div>{specificEventContent}</div>\n  </SmallPopUpWindow>);\n}\n\nclass Event {\n  constructor(toRender, callBack, eventTypeId) {\n    this.toRender = toRender;\n    this.callBack = callBack;\n    this.eventTypeId = eventTypeId;\n  }\n}\n\nfunction initEventMap(numX, numZ, gameMode) {\n  // console.log(\"game mode is: \" + gameMode);\n  const eventMap = Array(numX * numZ + 1).fill(null);\n  eventMap[numX * (numZ - 1) + numX - 1] = new Event(<StartEventRender />, startEventCallback, START_GAME_EVENT);\n  eventMap[0] = new Event(<EndEventRender />, endEventCallback, END_GAME_EVENT);\n  eventMap[numX * numZ + 1] = new Event(<FailGameEventRender />, endEventCallback, GAME_FAIL_EVENT);\n  if (gameMode !== PURE) {\n    for (let i = numX * (numZ - 1) + numX - 2; i > 0; i--) {\n      const eventId = genRandomInt(NUM_EVENT_TYPE);\n      switch (eventId) {\n        case NEGATIVE_EFFECT_EVENT:\n          if (gameMode !== EASY) {\n            const debuffId = genRandomInt(NUM_DEBUFF_TYPE + 1);\n            eventMap[i] = new Event(<SmellyWindEventRender debuffId={debuffId} />, partialApply(smellyWindEventCallBack, debuffId), NEGATIVE_EFFECT_EVENT);\n          }\n          break;\n        case POSITIVE_EFFECT_EVENT:\n          if (gameMode !== HARD) {\n            const buffId = genRandomInt(NUM_BUFF_TYPE + 1);\n            eventMap[i] = new Event(<FreshWindEventRender buffId={buffId} />, partialApply(freshWindEventCallBack, buffId), POSITIVE_EFFECT_EVENT);\n          }\n          break;\n        case NEUTRAL_EFFECT_EVENT:\n          eventMap[i] = new Event(<StrongWindEventRender />, strongWindEventCallBack, NEUTRAL_EFFECT_EVENT);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  return eventMap;\n}\n\nexport function EventManager({ discovered, posX, posZ, numX, numZ, currentAction, isResetEvent, isGameFail}) {\n  const gameMode = useSelector(selectGameMode);\n  const [eventMap, setEventMap] = useState(initEventMap(numX, numZ, gameMode));\n\n  const currentRender = useRef(null);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (isResetEvent) {\n      setEventMap(initEventMap(numX, numZ, gameMode));\n      dispatch(assignResetEvent(false));\n    }\n  });\n  const { play: playGameCompletionSound } = useGameCompletionSound();\n  const { play: playPositiveEffectSound } = usePositiveEffectSound();\n  const { play: playNegativeEffectSound } = useNegativeEffectSound();\n  const { play: playNeutralEffectSound } = useNeutralEffectSound();\n  const { play } = useBgmPlay();\n  // TODO: add confront battle event\n  // const { play: playConfrontBattleSound } = useConfrontBattleSound();\n  //TODO: add gameover event\n  const { play: playGameOverSound } = useGameOverSound();\n\n  let currentIndex = posZ * numX + posX;\n\n  if (isGameFail) {\n    currentIndex = numX*numZ + 1;\n  }\n\n  let currentCallback = ()=>{}\n\n  if (currentAction === NOTHING || currentAction === RANDOM_EVENT) {\n    if (eventMap[currentIndex]) {\n      if (!discovered.current[currentIndex]) {\n        const { toRender, callBack, eventTypeId } = eventMap[currentIndex];\n        // currentRender.current = eventMap[currentIndex];\n        currentRender.current = toRender;\n        //toRender = eventMap[currentIndex][0];\n        // currentCallback = () => { eventMap[currentIndex][1](dispatch, select); dispatch(enableIsToOpen()) };\n        // currentCallback = () => { callback(dispatch, select); dispatch(enableIsToOpen()) };\n\n        switch (eventTypeId) {\n          case START_GAME_EVENT:\n            currentCallback = () => { callBack(dispatch); play(); dispatch(enableBigPopUpIsToOpen()); };\n            break;\n          case END_GAME_EVENT:\n            // currentCallback = () => { callBack(dispatch, playGameCompletionSound); dispatch(enableBigPopUpIsToOpen()); dispatch(assignNumX(numX + 2)); dispatch(assignNumZ(numZ + 2)) };\n            currentCallback = () => { callBack(dispatch, playGameCompletionSound); dispatch(enableBigPopUpIsToOpen());};\n            break;\n          case POSITIVE_EFFECT_EVENT:\n            currentCallback = () => { callBack(dispatch, playPositiveEffectSound); dispatch(enableSmallPopUpIsToOpen()) };\n            break;\n          case NEGATIVE_EFFECT_EVENT:\n            currentCallback = () => { callBack(dispatch, playNegativeEffectSound); dispatch(enableSmallPopUpIsToOpen()) };\n            break;\n          case NEUTRAL_EFFECT_EVENT:\n            currentCallback = () => { callBack(dispatch, playNeutralEffectSound, gameMode); dispatch(enableSmallPopUpIsToOpen()) };\n            break;\n          case GAME_FAIL_EVENT:\n            currentCallback = () => { callBack(dispatch, playGameOverSound); dispatch(enableBigPopUpIsToOpen());};\n            break;\n          // TODO: add confront battle event\n          // case CONFRONT_BATTLE_EVENT:\n          //   currentCallback = () => { callBack(dispatch, playConfrontBattleSound); dispatch(enableIsToOpen()) };\n          //   break;\n          default:\n            break;\n        }\n      }\n    }\n  }\n  useEffect(currentCallback);\n  return currentRender.current;\n}\n","import React from 'react';\nimport { NOTHING } from '../reducers/controlSlice';\nimport styles from './miniMap.module.css';\n\n\nexport function MiniMap({\n    discovered,\n    numX,\n    numZ,\n    posX,\n    posZ,\n    wallLeft,\n    wallTop,\n    currentAction,\n    miniMapIsOn,\n    isGameFail\n}) {\n    const display = [];\n    if (currentAction === NOTHING) {\n        discovered.current[posZ * numX + posX] = true;\n    }\n    if (isGameFail) {\n        discovered.current[numX*numZ + 1] = true;\n    }\n    for (let i = 0; i < numZ; i++) {\n        let currentRow = [];\n        for (let j = 0; j < numX; j++) {\n            if (discovered.current[i * numX + j] || (posX === j && posZ === i)) {\n                currentRow.push(\n                    <button className={styles.square} key={String(i) + ',' + String(j)}\n                        style={{\n                            borderTop: wallTop[i * (numX + 1) + j] ? '0.5px solid white' : '0.5px solid rgba(240, 248, 255, 0.25)',\n                            borderLeft: wallLeft[i * (numX + 1) + j] ? '0.5px solid white' : '0.5px solid rgba(240, 248, 255, 0.25)',\n                            borderBottom: wallTop[(i + 1) * (numX + 1) + j] ? '0.5px solid white' : '0.5px solid rgba(240, 248, 255, 0.25)',\n                            borderRight: wallLeft[i * (numX + 1) + j + 1] ? '0.5px solid white' : '0.5px solid rgba(240, 248, 255, 0.25)',\n                            backgroundColor: (posX === j && posZ === i) ? 'rgb(37, 110, 194)' : 'rgba(240, 248, 255, 0.5)'\n                        }} >\n                    </button>\n                );\n            }\n            else {\n                currentRow.push(\n                    <button className={styles.square} key={String(i) + ',' + String(j)}\n                        style={{\n                            border: '0.5px solid rgba(0, 0, 0, 0.1)',\n                            backgroundColor: 'rgba(0, 0, 0, 0.1)'\n                        }} >\n                    </button>);\n\n            }\n        }\n        display.push(<div className={styles.broadRow} key={\"border\" + String(i)}>{currentRow}</div>)\n    }\n\n    return (\n        <div className={styles.container}>\n            <div></div>\n            <div className={styles.map}>\n                {miniMapIsOn ? display : null}\n            </div>\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/heart-icon.5f6c67fd.png\";","export default __webpack_public_path__ + \"static/media/normalclock.bdc92f27.png\";","export default __webpack_public_path__ + \"static/media/outoftimeclock.c12811a4.png\";","export default __webpack_public_path__ + \"static/media/mapicon.376644ec.png\";","export default __webpack_public_path__ + \"static/media/sun.37d40077.png\";","export default __webpack_public_path__ + \"static/media/night.bde826a9.png\";","export default __webpack_public_path__ + \"static/media/rocket.b58a9096.png\";","export default __webpack_public_path__ + \"static/media/turtleicon.fcc4bf50.png\";","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { DARK_MODE_OFF, MINI_MAP_ON, selectBuff, selectDebuff, selectHP, SPEED_DOWN, SPEED_UP } from '../reducers/playerStatusSlice';\nimport styles from './playerStatusPanel.module.css'\n// Ref: https://iconarchive.com/show/love-is-in-the-web-icons-by-succodesign/heart-icon.html\nimport heart from '../images/heart-icon.png'\n// Ref: https://commons.wikimedia.org/wiki/File:Stock_alarm.svg\nimport normalclock from '../images/normalclock.png'\n// Ref: https://en.wikipedia.org/wiki/File:Out_of_date_clock_icon.svg\nimport outoftimeclock from '../images/outoftimeclock.png'\n// Ref: https://www.subpng.com/png-6x43z7/\nimport mapicon from '../images/mapicon.png'\n// Ref: https://www.flaticon.com/free-icon/sun_169367\nimport dayIcon from '../images/sun.png'\n// Ref: https://www.flaticon.com/free-icon/night_208293\nimport nightIcon from '../images/night.png'\n// Ref: https://www.flaticon.com/free-icon/rocket_1356479\nimport rocket from '../images/rocket.png'\n// Ref: https://iconarchive.com/show/noto-emoji-animals-nature-icons-by-google/22283-turtle-icon.html\nimport turtleicon from '../images/turtleicon.png'\nimport { selectCurNumSeconds } from '../reducers/elapseTimerSlice';\n\n// Ref: https://medium.com/@ItsMeDannyZ/how-to-build-a-progress-bar-with-react-8c5e79731d1f\nconst ProgressBar = (props) => {\n    return (\n        <div className={styles.progressBar}>\n            <Filler percentage={props.percentage} color={props.color} />\n        </div>\n    )\n}\n\nconst Filler = (props) => {\n    return <div className={styles.filler} style={{ width: `${props.percentage}%`, background: props.color }} />\n}\n\n\nconst PlayerStatusPanel = ({buff, debuff}) => {\n    const hp = useSelector(selectHP);\n    const clock = 100 - useSelector(selectCurNumSeconds);\n    return (\n        <div className={styles.container}>\n            <div className={styles.progressBarSection}>\n                <img className={styles.icon} src={heart} alt=\"HP\" />\n                <ProgressBar percentage={hp} />\n            </div>\n            <div className={styles.progressBarSection}>\n                <img className={styles.icon} src={clock > 20 ? normalclock : outoftimeclock} alt=\"Remaining Time\" />\n                <ProgressBar percentage={clock} color=\"blue\" />\n            </div>\n            <div className={styles.buffSection}>\n                <img className={styles.icon} src={buff & DARK_MODE_OFF ? dayIcon : nightIcon} alt=\"day mode\" />\n                {buff & MINI_MAP_ON ? <img className={styles.icon} src={mapicon} alt=\"minimap mode\" /> : null}\n                {buff & SPEED_UP ? <img className={styles.icon} src={rocket} alt=\"speed up\" /> : null}\n                {debuff & SPEED_DOWN ? <img className={styles.icon} src={turtleicon} alt=\"speed down\" /> : null}\n            </div>\n        </div>\n    );\n}\n\nexport default PlayerStatusPanel;\n","import { useRef } from 'react';\nimport { GamePanel } from './GamePanel';\nimport ElapseTimer from './ElapseTimer';\nimport { LabyrinthView } from './LabyrinthView';\nimport { EventManager } from './EventManager';\nimport { MiniMap } from './MiniMap'\nimport { BackgroundMusic } from '../commons/BackgroundMusic'\nimport PlayerStatusPanel from './PlayerStatusPanel';\nimport { EASY, HARD, MEDIUM, selectGameMode } from '../reducers/gameModeSlice';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { initLabyrinthWalls } from './Walls';\nimport {\n  assignInit,\n  assignNumX,\n  assignNumZ,\n  assignPosX,\n  assignPosZ,\n  assignWallTop,\n  assignWallLeft,\n  selectIsInit,\n  assignResetCamera,\n  assignResetEvent,\n  resetCurrentAction,\n  selectPosX,\n  selectPosZ,\n  selectWallLeft,\n  selectWallTop,\n  selectAction,\n  selectResetEvent,\n} from '../reducers/controlSlice';\nimport {\n  addABuff,\n  addADebuff,\n  DARK_MODE_OFF,\n  DARK_MODE_ON,\n  MINI_MAP_ON,\n  MINI_MAP_OFF,\n  selectBuff,\n  selectDebuff,\n  selectHP,\n} from '../reducers/playerStatusSlice';\nimport styles from \"./labyrinthGame.module.css\"\nimport { selectCurNumSeconds } from '../reducers/elapseTimerSlice';\n\nexport default function LabyrinthGame() {\n  const gameMode = useSelector(selectGameMode);\n  let numX;\n  let numZ;\n  switch (gameMode) {\n    case EASY:\n      numX = 5;\n      numZ = 5;\n      break;\n    case MEDIUM:\n      numX = 10;\n      numZ = 10;\n      break;\n    case HARD:\n      numX = 15;\n      numZ = 15;\n      break;\n    default:\n    // console.log(\"game mode error: \" + gameMode);\n\n  }\n\n  const blockWidth = 20;\n  const blockDepth = 0.5;\n  const blockHeight = 10;\n  const discovered = useRef(Array(numX * numZ + 1).fill(false));\n  const isInit = useSelector(selectIsInit);\n  const dispatch = useDispatch();\n  // Reset the game when initialization\n  if (!isInit) {\n    dispatch(assignNumX(numX));\n    dispatch(assignNumZ(numZ));\n    dispatch(assignPosX(numX - 1));\n    dispatch(assignPosZ(numZ - 1));\n    dispatch(assignResetCamera(false));\n    const [wallLeft, wallTop] = initLabyrinthWalls(numX, numZ);\n    dispatch(assignWallLeft(wallLeft));\n    dispatch(assignWallTop(wallTop));\n    dispatch(resetCurrentAction());\n    if (gameMode === EASY) {\n      dispatch(addABuff(MINI_MAP_ON));\n      dispatch(addABuff(DARK_MODE_OFF));\n    } else if (gameMode === HARD) {\n      dispatch(addADebuff(MINI_MAP_OFF));\n      dispatch(addADebuff(DARK_MODE_ON));\n    } else if (gameMode === MEDIUM) {\n      dispatch(addABuff(DARK_MODE_OFF));\n      dispatch(addADebuff(MINI_MAP_OFF));\n    }\n    dispatch(assignInit(true));\n    dispatch(assignResetEvent(true));\n    discovered.current = Array(numX * numZ + 1).fill(false);\n  }\n  const posX = useSelector(selectPosX);\n  const posZ = useSelector(selectPosZ);\n  const wallLeft = useSelector(selectWallLeft);\n  const wallTop = useSelector(selectWallTop);\n  const currentAction = useSelector(selectAction);\n  const buff = useSelector(selectBuff);\n  const debuff = useSelector(selectDebuff);\n  const isResetEvent = useSelector(selectResetEvent);\n  const currentHP = useSelector(selectHP);\n  const currentCurNumSeconds = useSelector(selectCurNumSeconds);\n  const isGameFail = (currentHP <=0 || 100 - currentCurNumSeconds <= 0);\n\n  return (\n    <div className={styles.visContainer}>\n      <LabyrinthView\n        numX={numX}\n        numZ={numZ}\n        blockWidth={blockWidth}\n        blockHeight={blockHeight}\n        blockDepth={blockDepth}\n        mazeDepth={numX * blockWidth}\n        mazeWidth={numZ * blockWidth}\n        wallLeft={wallLeft}\n        wallTop={wallTop}\n        darkModeIsOn={debuff & DARK_MODE_ON}\n      />\n      <GamePanel />\n      <EventManager\n        discovered={discovered}\n        posX={posX}\n        posZ={posZ}\n        numX={numX}\n        numZ={numZ}\n        currentAction={currentAction}\n        isResetEvent={isResetEvent}\n        isGameFail={isGameFail}\n      />\n      <MiniMap\n        discovered={discovered}\n        posX={posX}\n        posZ={posZ}\n        numX={numX}\n        numZ={numZ}\n        wallLeft={wallLeft}\n        wallTop={wallTop}\n        currentAction={currentAction}\n        miniMapIsOn={buff & MINI_MAP_ON}\n        isGameFail={isGameFail}\n      />\n      <ElapseTimer />\n      <BackgroundMusic />\n      <PlayerStatusPanel buff={buff} debuff={debuff} />\n    </div>\n  );\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const WELCOME = 0;\nexport const MODE_SELECTION = 1;\nexport const GAME = 2;\nexport const GUIDE = 3;\n\nexport const programWindowSlice = createSlice({\n    name: 'programWindow',\n    initialState: {\n        window: WELCOME\n    },\n    reducers: {\n        displayWelcome: state => {\n            state.window = WELCOME;\n        },\n        displayModeSelection: state => {\n            state.window = MODE_SELECTION;\n        },\n        displayGame: state => {\n            state.window = GAME;\n        },\n        displayGuide: state => {\n            state.window = GUIDE;\n        }\n    },\n});\n\nexport const {\n    displayWelcome,\n    displayModeSelection,\n    displayGame,\n    displayGuide,\n} = programWindowSlice.actions;\n\nexport const selectWindow = state => state.programWindow.window;\n\nexport default programWindowSlice.reducer;\n","import React from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport { displayModeSelection, displayGuide } from '../reducers/programWindowSlice';\nimport styles from \"./welcome.module.css\"\n\n\nexport function WelcomeScreens(props) {\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.title}>Maze</h1>\n            {props.children}\n        </div>);\n}\n\nexport function Welcome() {\n    const dispatch = useDispatch();\n\n    const handleGameStart = () => {\n        dispatch(displayModeSelection());\n    }\n\n    const handleGuide = () => {\n        dispatch(displayGuide());\n    }\n\n    return (\n        <WelcomeScreens>\n            <div className={styles.options}>\n                <h3 className={styles.buttons} onClick={() => handleGameStart()}>Game Start</h3>\n                <h3 className={styles.buttons} onClick={() => handleGuide()}>Guide</h3>\n                <h3 className={styles.buttons}>About</h3>\n            </div>\n        </ WelcomeScreens>);\n}\n","import React from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport { displayGame, displayWelcome } from '../reducers/programWindowSlice';\nimport { PURE, EASY, HARD, MEDIUM, setGameMode } from \"../reducers/gameModeSlice\";\nimport styles from \"./welcome.module.css\"\nimport { WelcomeScreens } from \"./Welcome\";\n\n\nexport function ModeSelection() {\n    const dispatch = useDispatch();\n\n    const handleModeSelect = (mode) => {\n        dispatch(setGameMode(mode));\n        dispatch(displayGame());\n    }\n\n    const handleGoBack = () => {\n        dispatch(displayWelcome());\n    }\n\n    return (\n        <WelcomeScreens>\n            <div className={styles.options}>\n                <h3 className={styles.buttons} onClick={() => handleModeSelect(EASY)}>Easy</h3>\n                <h3 className={styles.buttons} onClick={() => handleModeSelect(MEDIUM)}>Medium</h3>\n                <h3 className={styles.buttons} onClick={() => handleModeSelect(HARD)}>Hard</h3>\n                <h3 className={styles.buttons} onClick={() => handleModeSelect(PURE)}>Pure Maze</h3>\n                <h3 className={styles.buttons} onClick={() => handleGoBack()}>Go Back</h3>\n            </div>\n            <div className={styles.footnote}></div>\n        </WelcomeScreens>\n    );\n}\n","import React from 'react';\nimport styles from './guide.module.css';\n\nconst GameModeDescription = () => {\n    return (\n        <div className={styles.description}>\n            <h3 className={styles.smallHeader}>Game mode</h3>\n            <ul className={styles.list}>\n                <li><span className={styles.gameModeName}>Easy mode:</span>\n                    <br />\n                Maze size is 5 X 5, while Minimap is always on, slow mode and dark mode is always off.\n            </li>\n                <li><span className={styles.gameModeName} >Medium mode:</span>\n                    <br />\n                Maze size is 10 X 10, and you have chances to meet all kinds of events.\n            </li>\n                <li ><span className={styles.gameModeName}>Hard mode</span>\n                    <br />\n                Maze size is 15 X 15, and dark mode is always on. Strong wind will clear all effects except dark mode.\n            </li>\n            </ul>\n        </div>\n    );\n}\n\nexport default GameModeDescription;","export default __webpack_public_path__ + \"static/media/movesGuide.86a22871.png\";","export default __webpack_public_path__ + \"static/media/miniMap.763b6727.png\";","import React from 'react';\nimport miniMapIcon from '../images/mapicon.png';\nimport miniMap from '../images/miniMap.png';\nimport styles from './guide.module.css'\n\nconst MiniMapEventDescription = () => {\n    return (\n        <React.Fragment>\n            <div className={styles.liHeaderContainer} >\n                <p className={styles.liHeader}>\n                    <span className={styles.liHeaderText}> Minimap ON/OFF </span> <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n                    <img className={styles.eventIcon} src={miniMapIcon} alt=\"miniMap Icon\" />\n                    <br />\n                </p>\n            </div>\n            <p className={styles.eventDetail}>\n\n                When you see this icon,\n                It means the Mini Map has been shown for you. You can see the map of the maze on the top left.\n                Like this:<br />\n                <span><img className={`${styles.eventPicture} ${styles.mimiMapEventPicture}`} src={miniMap} alt=\"MiniMap\" /></span>\n            </p>\n        </React.Fragment >\n    );\n}\n\nexport default MiniMapEventDescription;","export default __webpack_public_path__ + \"static/media/darkMode.d01dbca6.png\";","import React from 'react';\nimport darkModeIcon from '../images/night.png';\nimport brightModeIcon from '../images/sun.png';\nimport darkModePicture from '../images/darkMode.png';\nimport styles from './guide.module.css'\n\nconst DarkModeEventDescription = () => {\n    return (\n        <React.Fragment>\n            <div className={styles.liHeaderContainer} >\n                <p className={styles.liHeader}>\n                    <span className={styles.liHeaderText}>Dark/Bright Mode ON/OFF</span> <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n                    <img className={styles.eventIcon} src={darkModeIcon} alt=\"dark mode Icon\" />\n                    <img className={styles.eventIcon} src={brightModeIcon} alt=\"bright mode Icon\" />\n                    <br />\n                </p>\n            </div>\n            <p className={styles.eventDetail}>\n\n                When you see these icon,\n                It means the dark mode or bright mode has been enabled.\n                These effects will immediately apply. For example, when you invoke the dark mode, your game view will be\n                like this:<br />\n                <span><img className={styles.eventPicture} src={darkModePicture} alt=\"MiniMap\" /></span>\n            </p>\n        </React.Fragment >\n    );\n}\n\nexport default DarkModeEventDescription;","import React from 'react';\nimport speedUpIcon from '../images/rocket.png';\nimport speedDownIcon from '../images/turtleicon.png';\nimport styles from './guide.module.css'\n\nconst SpeedChangeEventDescription = () => {\n    return (\n        <React.Fragment>\n            <div className={styles.liHeaderContainer} >\n                <p className={styles.liHeader}>\n                    <span className={styles.liHeaderText}> Speed Up/Down ON/OFF </span> <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n                    <img className={styles.eventIcon} src={speedUpIcon} alt=\"speed up Icon\" />\n                    <img className={styles.eventIcon} src={speedDownIcon} alt=\"speed down Icon\" />\n                    <br />\n                </p>\n            </div>\n            <p className={styles.eventDetail}>\n\n                When you see these icon,\n                It means the some change have been applied to your moving speed.\n                These effects will immediately apply.\n            </p>\n        </React.Fragment >\n    );\n}\n\nexport default SpeedChangeEventDescription;","import React from 'react';\nimport heartIcon from '../images/heart-icon.png';\nimport styles from './guide.module.css'\n\nconst HPChangeEventDescription = () => {\n    return (\n        <React.Fragment>\n            <div className={styles.liHeaderContainer} >\n                <p className={styles.liHeader}>\n                    <span className={styles.liHeaderText}>HP Gain/Lose</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n                    <img className={styles.eventIcon} src={heartIcon} alt=\"heart Icon\" />\n                    <br />\n                </p>\n            </div>\n            <p className={styles.eventDetail}>\n                You might also invoke some events related to the change of your HP.\n                Some of them will be positive, however, some won't.\n                Keep an eye on the your health during the game!\n            </p>\n        </React.Fragment >\n    );\n}\n\nexport default HPChangeEventDescription;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { displayWelcome } from '../reducers/programWindowSlice';\nimport GameModeDescription from './GameModeDescription';\nimport styles from './guide.module.css'\nimport HelperPage from './HelperPage';\nimport movesGuide from '../images/movesGuide.png';\nimport OperationDescription from './OperationDescription';\nimport MiniMapEventDescription from './MiniMapEventDescription';\nimport DarkModeEventDescription from './DarkModeEventDescription';\nimport SpeedChangeEventDescription from './SpeedChangeEventDescription';\nimport HPChangeEventDescription from './HPChangeEventDescription';\n\nconst Guide = () => {\n    const dispatch = useDispatch();\n    const handleGoBack = () => {\n        dispatch(displayWelcome());\n    }\n    const goBack = \"< Go Back\";\n\n    return (\n        <div className={styles.guide}>\n            <span className={`${styles.goBackButton} ${styles.topGoBackButton}`} onClick={() => handleGoBack()}>{goBack}</span>\n\n            <div>\n                <h2 className={styles.bigHeader}>Welcome! You have entered a dangerous maze !</h2>\n                <p className={styles.plainText}>The purpose of the game is to find the exit.</p>\n            </div>\n            <div className={styles.description}>\n                <h3 className={styles.smallHeader}> How to play:</h3>\n                <ul className={styles.list}>\n                    <li>Use \"W\", \"A\", \"S\", \"D\" to move forward, left, backward, right.</li>\n                    <img className={styles.moveGuide} src={movesGuide} alt=\"move guide\" />\n                </ul>\n            </div>\n\n            <div className={styles.description}>\n                <h3 className={styles.smallHeader}> Tips:</h3>\n                <ul className={styles.list}>\n                    <li>During your exploration, your moves might invoke different kinds of effects.\n                Some of them are helpful, some of them are not. :)</li>\n                    <li>Keep an eye on your HP! If your HP went to 0, you fail!</li>\n                    <li>Enjoy!</li>\n                    <li>Maybe you already know, but again, trying to go through the walls directly won't work!</li>\n                </ul>\n            </div>\n            <div className={styles.description}>\n                <h3 className={styles.smallHeader}>Effects you might invoke:</h3>\n                <ul className={styles.list}>\n                    <li>\n                        <MiniMapEventDescription />\n                    </li>\n                    <li>\n                        <DarkModeEventDescription />\n                    </li>\n                    <li>\n                        <SpeedChangeEventDescription />\n                    </li>\n                    <li>\n                        <HPChangeEventDescription />\n                    </li>\n                </ul>\n            </div >\n            <GameModeDescription />\n            <br />\n            <br />\n            <br />\n            <span className={styles.goBackButton} onClick={() => handleGoBack()}>{goBack}</span >\n            <br />\n            <br />\n        </div >\n    );\n}\n\nexport default Guide;","import LabyrinthGame from './components/LabyrinthGame';\nimport './styles.css';\nimport { useSelector } from 'react-redux';\nimport { selectWindow, WELCOME, GAME, MODE_SELECTION, GUIDE } from './reducers/programWindowSlice';\nimport { Welcome } from './components/Welcome';\nimport { ModeSelection } from './components/ModeSelection'\nimport Modal from \"react-modal\"\nimport Guide from './components/Guide';\n\nModal.setAppElement('#root')\n\nexport default function App() {\n  let toRender = null;\n  const currentWindow = useSelector(selectWindow);\n  // console.log(currentWindow);\n  switch (currentWindow) {\n    case WELCOME:\n      toRender = <Welcome />\n      break;\n    case MODE_SELECTION:\n      toRender = <ModeSelection />\n      break;\n    case GAME:\n      toRender = <LabyrinthGame />\n      break;\n    case GUIDE:\n      toRender = <Guide />\n      break;\n    default:\n    // console.log(\"Window mode error:\" + currentWindow);\n  }\n  return toRender;\n}\n","import { createSlice } from '@reduxjs/toolkit';\nconst INITIAL_MUTED_STATUS = false;\n\nexport const backgroundMusicSlice = createSlice({\n    name: 'backgroundMusic',\n    initialState: {\n        IsMuted: INITIAL_MUTED_STATUS,\n    },\n    reducers: {\n        toggleIsMuted: state => {\n            state.IsMuted = !state.IsMuted;\n            // console.log(\"toggleIsMuted is called\")\n        },\n    },\n});\n\nexport const {\n    toggleIsMuted,\n} = backgroundMusicSlice.actions;\n\nexport const selectIsMuted = state => state.backgroundMusic.IsMuted;\n\n\nexport default backgroundMusicSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\nconst INITIAL_HELPER_PAGE_SHOWN_STATUS = false;\n\nexport const helperPageSlice = createSlice({\n    name: 'helperPage',\n    initialState: {\n        shown: INITIAL_HELPER_PAGE_SHOWN_STATUS,\n    },\n    reducers: {\n        toggleShown: state => {\n            state.shown = !state.shown;\n        },\n    },\n});\n\nexport const {\n    toggleShown,\n} = helperPageSlice.actions;\n\nexport const selectShown = state => state.helperPage.shown;\n\n\nexport default helperPageSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport controlReducer from './reducers/controlSlice';\nimport elapseTimerReducer from './reducers/elapseTimerSlice';\nimport backgroundMusicReducer from './reducers/backgroundMusicSlice';\nimport playerStatusReducer from './reducers/playerStatusSlice';\nimport popUpWindowReducer from './reducers/popUpWindowSlice';\nimport programWindowReducer from './reducers/programWindowSlice';\nimport leaderboardReducer from './reducers/leaderboardSlice';\nimport gameModeReducer from './reducers/gameModeSlice';\nimport helperPageReducer from './reducers/helperPageSlice';\n\n\nexport default configureStore({\n  reducer: {\n    control: controlReducer,\n    elapseTimer: elapseTimerReducer,\n    backgroundMusic: backgroundMusicReducer,\n    playerStatus: playerStatusReducer,\n    popUpWindow: popUpWindowReducer,\n    programWindow: programWindowReducer,\n    leaderboard: leaderboardReducer,\n    gameMode: gameModeReducer,\n    helperPage: helperPageReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport store from './store'\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}