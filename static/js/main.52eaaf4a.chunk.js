(this.webpackJsonplabyrinth=this.webpackJsonplabyrinth||[]).push([[0],{56:function(t,o,n){},57:function(t,o,n){},58:function(t,o,n){},59:function(t,o,n){"use strict";n.r(o);var e=n(0),r=n.n(e),i=n(25),s=n.n(i),c=n(8),a=n(21),u=Object(a.b)({name:"control",initialState:{direction:0,posX:0,posZ:0,currentAction:0,isInit:!1,wallTop:[],wallLeft:[],numX:0,numZ:0},reducers:{moveForward:function(t){if(4===t.currentAction)switch(t.currentAction=0,t.direction){case 0:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallTop[t.posX+t.posZ*(t.numX+1)]||(t.posZ-=1);break;case 3:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<t.numZ&&t.wallLeft[t.posX+1+t.posZ*(t.numX+1)]||(t.posX+=1);break;case 2:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<t.numZ&&t.wallTop[t.posX+(t.posZ+1)*(t.numX+1)]||(t.posZ+=1);break;case 1:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallLeft[t.posX+t.posZ*(t.numX+1)]||(t.posX-=1);break;default:console.log("Direction error: ",t.direction)}},moveBackward:function(t){if(4===t.currentAction)switch(t.currentAction=3,t.direction){case 0:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallTop[t.posX+(t.posZ+1)*(t.numX+1)]||(t.posZ+=1);break;case 3:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallLeft[t.posX+t.posZ*(t.numX+1)]||(t.posX-=1);break;case 2:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallTop[t.posX+t.posZ*(t.numX+1)]||(t.posZ-=1);break;case 1:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallLeft[t.posX+1+t.posZ*(t.numX+1)]||(t.posX+=1);break;default:console.log("Direction error: ",t.direction)}},turnLeft:function(t){4===t.currentAction&&(t.currentAction=2,t.direction=(t.direction+1)%4)},turnRight:function(t){4===t.currentAction&&(t.currentAction=1,t.direction=((t.direction-1)%4+4)%4)},popEvent:function(t){t.currentAction=4},assignPosX:function(t,o){t.posX=o.payload},assignPosZ:function(t,o){t.posZ=o.payload},assignWallTop:function(t,o){t.wallTop=o.payload},assignWallLeft:function(t,o){t.wallLeft=o.payload},assignNumX:function(t,o){t.numX=o.payload},assignNumZ:function(t,o){t.numZ=o.payload},assignInit:function(t,o){t.isInit=o.payload}}}),l=u.actions,p=l.moveForward,d=l.moveBackward,b=l.turnLeft,h=l.turnRight,j=l.popEvent,f=l.assignPosX,m=l.assignPosZ,O=l.assignWallTop,g=l.assignWallLeft,k=l.assignNumX,x=l.assignNumZ,v=l.assignInit,X=function(t){return t.control.direction},w=function(t){return t.control.posX},Z=function(t){return t.control.posZ},y=function(t){return t.control.currentAction},A=function(t){return t.control.isInit},C=function(t){return t.control.wallTop},N=function(t){return t.control.wallLeft},S=function(t){return t.control.numX},z=function(t){return t.control.numZ},T=u.reducer,L=n(7);function M(){var t=Object(c.c)();return document.addEventListener("keydown",(function(o){switch(o.key){case"Enter":window.history.go(0);break;case"ArrowLeft":t(b());break;case"ArrowRight":t(h());break;case"ArrowUp":t(p());break;case"ArrowDown":t(d())}})),Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{className:"button forward-button",onClick:function(){return t(p())},children:"Move Forward"}),Object(L.jsx)("button",{className:"button backward-button",onClick:function(){return t(d())},children:"Move Backward"}),Object(L.jsx)("button",{className:"button turn-left-button",onClick:function(){return t(b())},children:"Turn Left"}),Object(L.jsx)("button",{className:"button turn-right-button",onClick:function(){return t(h())},children:"Turn Right"})]})}var D=Object(a.b)({name:"elapseTimer",initialState:{curNumSeconds:0,status:0},reducers:{countUp:function(t){2===t.status&&(t.curNumSeconds+=1)},pauseCount:function(t){t.status=3},resumeCount:function(t){t.status=2},readyCount:function(t){t.status=1},resetCount:function(t){t.curNumSeconds=0},adjustCountByAmount:function(t,o){t.curNumSeconds+=o.payload}}}),W=D.actions,E=W.countUp,P=W.pauseCount,R=W.resumeCount,I=(W.resetCount,W.readyCount),B=(W.adjustCountByAmount,function(t){return t.elapseTimer.curNumSeconds}),H=function(t){return t.elapseTimer.status},U=D.reducer;function F(){var t=Object(c.d)(H),o=Object(c.c)(),n=function(){o(E())},e=function(){1===t&&(o(R()),setInterval(n,1e3))};e();var r=Object(c.d)(B),i="Time elapsed: ".concat(Math.floor(r/3600)," H ").concat(Math.floor(r/60)," M ").concat(r%60," S");return Object(L.jsxs)("div",{className:"elapse-timer",children:[Object(L.jsx)("button",{className:"button elapse-time-start",onClick:function(){return e()},children:"Start count time in seconds"}),Object(L.jsx)("button",{className:"button elapse-time-pause",onClick:function(){o(P())},children:"Pause count time in seconds"}),Object(L.jsx)("button",{className:"button elapse-time-resume",onClick:function(){o(R())},children:"Resume count time in seconds"}),Object(L.jsx)("p",{children:i})]})}var G=n(10),Y=n(17),q=n(42),J=n(6);Object(Y.b)({TrackballControls:q.a});var K=.1,Q=function(t){var o=t.blockWidth,n=t.startCoordX,r=t.startCoordZ,i=t.moveSpeed,s=t.turnSpeed,a=Object(Y.d)(),u=a.camera,l=a.gl,p=e.useRef(),d=Object(c.d)(y),b=Object(c.d)(w),h=Object(c.d)(Z),f=Object(c.d)(X),m=e.useState(0),O=Object(G.a)(m,2),g=O[0],k=O[1],x=g,v=-o/2+(b+1)*o+n,A=-o/2+(h+1)*o+r,C=Object(c.c)();return Object(Y.c)((function(){switch(d){case 0:switch(f){case 0:u.position.z>A&&(u.position.z-=i,u.lookAt(u.position.x,0,u.position.z-K));break;case 1:u.position.x>v&&(u.position.x-=i,u.lookAt(u.position.x-K,0,u.position.z));break;case 2:u.position.z<A&&(u.position.z+=i,u.lookAt(u.position.x,0,u.position.z+K));break;case 3:u.position.x<v&&(u.position.x+=i,u.lookAt(u.position.x+K,0,u.position.z));break;default:console.log("direction error!")}u.position.x===v&&u.position.z===A&&C(j());break;case 3:switch(f){case 0:u.position.z<A&&(u.lookAt(u.position.x,0,u.position.z-K),u.position.z+=i);break;case 1:u.position.x<v&&(u.position.x+=i,u.lookAt(u.position.x-K,0,u.position.z));break;case 2:u.position.z>A&&(u.position.z-=i,u.lookAt(u.position.x,0,u.position.z+K));break;case 3:u.position.x>v&&(u.position.x-=i,u.lookAt(u.position.x+K,0,u.position.z));break;default:console.log("direction error!")}u.position.x===v&&u.position.z===A&&(console.log("success"),C(j()));break;case 2:0===g&&k(x=g+90),x>0&&(u.rotateY(J.Math.degToRad(2)),k(x-=s)),0===x&&C(j());break;case 1:0===g&&(k(g-90),x=g-90),x<0&&(u.rotateY(J.Math.degToRad(-2)),k(x+=s)),0===x&&C(j());break;case 4:break;default:console.log("button error!")}u.updateProjectionMatrix()})),Object(L.jsx)("trackballControls",{ref:p,args:[u,l.domElement],dynamicDampingFactor:.1,mouseButtons:{LEFT:J.MOUSE.PAN,MIDDLE:J.MOUSE.ZOOM,RIGHT:J.MOUSE.ROTATE}})},V=n(1),$=n(4),_=function(){function t(o){Object(V.a)(this,t),this.partsCount=o,this.path=Array.apply(null,{length:o}).map(Number.call,Number),this.rank=Array.apply(0,{length:o})}return Object($.a)(t,[{key:"find",value:function(t){for(;t!==this.path[t];)this.path[t]=this.path[this.path[t]],t=this.path[t];return t}},{key:"union",value:function(t,o){var n=this.find(t),e=this.find(o);n!==e&&(this.partsCount-=1,this.rank[n]<this.rank[e]?this.path[n]=e:this.rank[n]>this.rank[e]?this.path[e]=n:(this.path[n]=e,this.rank[e]+=1))}}]),t}();var tt=n(60);function ot(t,o,n){return n<o?[n-t,n]:[n-o-1,n-o]}function nt(t,o){for(var n=t*o,e=(t+1)*(o+1),r=new _(n),i=[],s=[],c=t;c<n;c++)i.push(c);for(var a=n;a<2*n;a++)a%t!==0&&i.push(a);var u=(i=function(t){for(var o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),e=t[o];t[o]=t[n],t[n]=e}return t}(i)).length-1;do{var l=i[u],p=ot(t,n,l),d=Object(G.a)(p,2),b=d[0],h=d[1];r.find(b)===r.find(h)?s.push(l):r.union(b,h),u-=1}while(1!==r.partsCount);for(;u>=0;)s.push(i[u]),u-=1;for(var j=Array.apply(null,{length:e}).fill(!1),f=Array.apply(null,{length:e}).fill(!1),m=0;m<t;m++)f[m]=!0,f[m+o*(t+1)]=!0;for(var O=0;O<o;O++)j[O*(t+1)]=!0,j[O*(t+1)+t]=!0;for(var g=function(o){return~~(o/t)*(t+1)+o%t},k=0;k<s.length;k++)s[k]<n?f[g(s[k])]=!0:j[g(s[k]-n)]=!0;return j[0]=!1,j[e-1]=!1,f[e-1]=!1,f[e-2]=!1,[j,f]}function et(t,o,n,e,r){return Object(L.jsx)(tt.a,{args:[n,e,r],rotation:[0,.5*Math.PI,0],position:[t,0,o+n/2],children:Object(L.jsx)("meshPhongMaterial",{color:"orange",attach:"material"})},String(t)+","+String(o)+"left")}function rt(t){for(var o,n,e,r,i,s=t.numX,c=t.numZ,a=t.wallTop,u=t.wallLeft,l=t.blockWidth,p=t.blockHeight,d=t.blockDepth,b=t.mazeWidth,h=t.mazeDepth,j=[],f=0;f<s+1;f++)for(var m=0;m<c+1;m++)a[f+(s+1)*m]&&j.push((o=-b/2+f*l-d/2,n=-h/2+m*l,e=l+d,r=p,i=d,Object(L.jsx)(tt.a,{args:[e,r,i],rotation:[0,0,0],position:[o+e/2,0,n],children:Object(L.jsx)("meshPhongMaterial",{color:"orange",attach:"material"})},String(o)+","+String(n)+"top"))),u[f+(s+1)*m]&&j.push(et(-b/2+f*l,-h/2+m*l-d/2,l+d,p,d));return Object(L.jsx)("group",{name:"walls",children:j})}var it=n(61),st=n(63),ct=n(62);n(56);function at(t){var o=t.numX,n=t.numZ,e=t.blockWidth,r=t.blockHeight,i=t.blockDepth,s=t.mazeDepth,a=t.mazeWidth,u=Object(c.d)(A),l=Object(c.c)();if(!u){l(f(o-1)),l(m(n-1));var p=nt(o,n),d=Object(G.a)(p,2),b=d[0],h=d[1];l(g(b)),l(O(h)),l(k(o)),l(x(n)),l(v(!0))}var j=-o*e/2,X=-n*e/2,w=-e/2+o*e+j,Z=-e/2+n*e+X,y=Object(it.a)(c.b);return Object(L.jsx)("div",{className:"canvas-div",children:Object(L.jsxs)(Y.a,{camera:{fov:80,position:[w,0,Z+e]},children:[Object(L.jsx)(y,{children:Object(L.jsx)(Q,{blockWidth:e,startCoordX:j,startCoordZ:X,moveSpeed:.5,turnSpeed:2})}),Object(L.jsx)("ambientLight",{color:"#ffffff",intensity:.4}),Object(L.jsx)("directionalLight",{position:[-500,20,X+e/2],intensity:1.5}),Object(L.jsx)(rt,{numX:o,numZ:n,wallTop:Object(c.d)(C),wallLeft:Object(c.d)(N),blockWidth:e,blockHeight:r,blockDepth:i,mazeWidth:a,mazeDepth:s}),Object(L.jsx)(st.a,{distance:1e4,sunPosition:[-500,r,X+e/2],inclination:0,azimuth:.25}),Object(L.jsx)(ct.a,{radius:2*a,depth:50,count:5e3,factor:5,saturation:0,fade:!0}),Object(L.jsx)(tt.b,{"rotation-x":-Math.PI/2,position:[0,-r/2,0],args:[a,s,4,4],children:Object(L.jsx)("meshBasicMaterial",{attach:"material",opacity:.5,color:"#405940"})})]})})}function ut(){return Object(L.jsx)("div",{})}function lt(t){alert("Game Start!"),t(I())}function pt(){return Object(L.jsx)("div",{})}function dt(t){t(P()),alert("Congrats! You've passed the game!")}function bt(t){var o=t.discovered,n=Object(c.d)(S),r=Object(c.d)(z),i=Object(e.useState)(function(t,o){var n=Array(t*o).fill(null);return n[t*(o-1)+t-1]=[ut,lt],n[0]=[pt,dt],n}(n,r)),s=Object(G.a)(i,1)[0],a=Object(c.d)(w),u=Object(c.d)(Z)*n+a,l=Object(c.d)(y),p=Object(c.c)(),d=function(){},b=function(){};return 4===l&&(o.current[u]||null!==s[u]&&(b=function(){s[u][0]()},d=function(){s[u][1](p)},console.log("Triggered"))),Object(e.useEffect)(d),Object(L.jsx)("div",{children:b()})}n(57);function ht(t){var o=t.discovered,n=Object(c.d)(C),e=Object(c.d)(N),r=Object(c.d)(S),i=Object(c.d)(S),s=Object(c.d)(w),a=Object(c.d)(Z),u=[];4===Object(c.d)(y)&&(o.current[a*r+s]=!0);for(var l=0;l<i;l++){for(var p=[],d=0;d<r;d++)o.current[l*r+d]||s===d&&a===l?p.push(Object(L.jsx)("button",{className:"square",style:{borderTop:n[l*(r+1)+d]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",borderLeft:e[l*(r+1)+d]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",borderBottom:n[(l+1)*(r+1)+d]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",borderRight:e[l*(r+1)+d+1]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",backgroundColor:s===d&&a===l?"rgb(37, 110, 194)":"rgba(240, 248, 255, 0.5)"}},String(l)+","+String(d))):p.push(Object(L.jsx)("button",{className:"square",style:{border:"0.5px solid rgba(0, 0, 0, 0.1)",backgroundColor:"rgba(0, 0, 0, 0.1)"}},String(l)+","+String(d)));u.push(Object(L.jsx)("div",{className:"board-row",children:p},"border"+String(l)))}return Object(L.jsx)("div",{children:Object(L.jsx)("div",{className:"container",children:u})})}n(58);function jt(){var t=Object(e.useRef)(Array(100).fill(!1));return Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)("div",{className:"vis-container",children:[Object(L.jsx)(at,{numX:10,numZ:10,blockWidth:20,blockHeight:10,blockDepth:.5,mazeDepth:200,mazeWidth:200}),Object(L.jsx)(M,{}),Object(L.jsx)(bt,{discovered:t}),Object(L.jsx)(ht,{discovered:t}),Object(L.jsx)("button",{className:"button new-game-button",onClick:function(){return window.history.go(0)},children:"New Game"}),Object(L.jsx)(F,{})]})})}var ft=Object(a.a)({reducer:{control:T,elapseTimer:U}});s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(c.a,{store:ft,children:Object(L.jsx)(jt,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.52eaaf4a.chunk.js.map