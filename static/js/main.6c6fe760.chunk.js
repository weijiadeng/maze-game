(this.webpackJsonplabyrinth=this.webpackJsonplabyrinth||[]).push([[0],{56:function(t,o,n){},57:function(t,o,n){},58:function(t,o,n){},59:function(t,o,n){"use strict";n.r(o);var e=n(0),i=n.n(e),r=n(25),s=n.n(r),a=n(10),c=n(21),u=Object(c.b)({name:"control",initialState:{direction:0,posX:0,posZ:0,currentAction:0,isInit:!1,wallTop:[],wallLeft:[],numX:0,numZ:0},reducers:{moveForward:function(t){if(4===t.currentAction)switch(t.currentAction=0,t.direction){case 0:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallTop[t.posX+t.posZ*(t.numX+1)]||(t.posZ-=1);break;case 3:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<t.numZ&&t.wallLeft[t.posX+1+t.posZ*(t.numX+1)]||(t.posX+=1);break;case 2:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<t.numZ&&t.wallTop[t.posX+(t.posZ+1)*(t.numX+1)]||(t.posZ+=1);break;case 1:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallLeft[t.posX+t.posZ*(t.numX+1)]||(t.posX-=1);break;default:console.log("Direction error: ",t.direction)}},moveBackward:function(t){if(4===t.currentAction)switch(t.currentAction=3,t.direction){case 0:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallTop[t.posX+(t.posZ+1)*(t.numX+1)]||(t.posZ+=1);break;case 3:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallLeft[t.posX+t.posZ*(t.numX+1)]||(t.posX-=1);break;case 2:t.posX>=0&&t.posX<t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallTop[t.posX+t.posZ*(t.numX+1)]||(t.posZ-=1);break;case 1:t.posX>=0&&t.posX<=t.numX&&t.posZ>=0&&t.posZ<=t.numZ&&t.wallLeft[t.posX+1+t.posZ*(t.numX+1)]||(t.posX+=1);break;default:console.log("Direction error: ",t.direction)}},turnLeft:function(t){4===t.currentAction&&(t.currentAction=2,t.direction=(t.direction+1)%4)},turnRight:function(t){4===t.currentAction&&(t.currentAction=1,t.direction=((t.direction-1)%4+4)%4)},popEvent:function(t){t.currentAction=4},assignPosX:function(t,o){t.posX=o.payload},assignPosZ:function(t,o){t.posZ=o.payload},assignWallTop:function(t,o){t.wallTop=o.payload},assignWallLeft:function(t,o){t.wallLeft=o.payload},assignNumX:function(t,o){t.numX=o.payload},assignNumZ:function(t,o){t.numZ=o.payload},assignInit:function(t,o){t.isInit=o.payload}}}),l=u.actions,p=l.moveForward,b=l.moveBackward,d=l.turnLeft,h=l.turnRight,f=l.popEvent,m=l.assignPosX,j=l.assignPosZ,g=l.assignWallTop,O=l.assignWallLeft,k=l.assignNumX,x=l.assignNumZ,X=l.assignInit,v=function(t){return t.control.direction},w=function(t){return t.control.posX},Z=function(t){return t.control.posZ},y=function(t){return t.control.currentAction},A=function(t){return t.control.isInit},z=function(t){return t.control.wallTop},N=function(t){return t.control.wallLeft},S=function(t){return t.control.numX},T=u.reducer,C=n(7);function L(){var t=Object(a.c)();return document.addEventListener("keydown",(function(o){switch(o.key){case"Enter":window.history.go(0);break;case"ArrowLeft":t(d());break;case"ArrowRight":t(h());break;case"ArrowUp":t(p());break;case"ArrowDown":t(b())}})),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"button forward-button",onClick:function(){return t(p())},children:"Move Forward"}),Object(C.jsx)("button",{className:"button backward-button",onClick:function(){return t(b())},children:"Move Backward"}),Object(C.jsx)("button",{className:"button turn-left-button",onClick:function(){return t(d())},children:"Turn Left"}),Object(C.jsx)("button",{className:"button turn-right-button",onClick:function(){return t(h())},children:"Turn Right"})]})}var M=Object(c.b)({name:"elapseTimer",initialState:{curNumSeconds:0,running:null},reducers:{countUp:function(t){null===t.running&&(t.running=!0),!0===t.running&&(t.curNumSeconds+=1)},pauseCount:function(t){t.running=!1},resumeCount:function(t){t.running=!0}}}),D=M.actions,W=D.countUp,E=D.pauseCount,P=D.resumeCount,R=function(t){return t.elapseTimer.curNumSeconds},I=M.reducer;function B(){var t=Object(a.c)(),o=function(){t(W())},n=Object(a.d)(R),e="Time elapsed: ".concat(Math.floor(n/3600)," H ").concat(Math.floor(n/60)," M ").concat(n%60," S");return Object(C.jsxs)("div",{className:"elapse-timer",children:[Object(C.jsx)("button",{className:"button elapse-time-start",onClick:function(){setInterval(o,1e3)},children:"Start count time in seconds"}),Object(C.jsx)("button",{className:"button elapse-time-pause",onClick:function(){t(E())},children:"Pause count time in seconds"}),Object(C.jsx)("button",{className:"button elapse-time-resume",onClick:function(){t(P())},children:"Resume count time in seconds"}),Object(C.jsx)("p",{children:e})]})}var H=n(9),U=n(17),F=n(42),q=n(6);Object(U.b)({TrackballControls:F.a});var G=.1,J=function(t){var o=t.blockWidth,n=t.startCoordX,i=t.startCoordZ,r=t.moveSpeed,s=t.turnSpeed,c=Object(U.d)(),u=c.camera,l=c.gl,p=e.useRef(),b=Object(a.d)(y),d=Object(a.d)(w),h=Object(a.d)(Z),m=Object(a.d)(v),j=e.useState(0),g=Object(H.a)(j,2),O=g[0],k=g[1],x=O,X=-o/2+(d+1)*o+n,A=-o/2+(h+1)*o+i,z=Object(a.c)();return Object(U.c)((function(){switch(b){case 0:switch(m){case 0:u.position.z>A&&(u.position.z-=r,u.lookAt(u.position.x,0,u.position.z-G));break;case 1:u.position.x>X&&(u.position.x-=r,u.lookAt(u.position.x-G,0,u.position.z));break;case 2:u.position.z<A&&(u.position.z+=r,u.lookAt(u.position.x,0,u.position.z+G));break;case 3:u.position.x<X&&(u.position.x+=r,u.lookAt(u.position.x+G,0,u.position.z));break;default:console.log("direction error!")}u.position.x===X&&u.position.z===A&&z(f());break;case 3:switch(m){case 0:u.position.z<A&&(u.lookAt(u.position.x,0,u.position.z-G),u.position.z+=r);break;case 1:u.position.x<X&&(u.position.x+=r,u.lookAt(u.position.x-G,0,u.position.z));break;case 2:u.position.z>A&&(u.position.z-=r,u.lookAt(u.position.x,0,u.position.z+G));break;case 3:u.position.x>X&&(u.position.x-=r,u.lookAt(u.position.x+G,0,u.position.z));break;default:console.log("direction error!")}u.position.x===X&&u.position.z===A&&(console.log("success"),z(f()));break;case 2:0===O&&k(x=O+90),x>0&&(u.rotateY(q.Math.degToRad(2)),k(x-=s)),0===x&&z(f());break;case 1:0===O&&(k(O-90),x=O-90),x<0&&(u.rotateY(q.Math.degToRad(-2)),k(x+=s)),0===x&&z(f());break;case 4:break;default:console.log("button error!")}u.updateProjectionMatrix()})),Object(C.jsx)("trackballControls",{ref:p,args:[u,l.domElement],dynamicDampingFactor:.1,mouseButtons:{LEFT:q.MOUSE.PAN,MIDDLE:q.MOUSE.ZOOM,RIGHT:q.MOUSE.ROTATE}})},Y=n(1),K=n(4),Q=function(){function t(o){Object(Y.a)(this,t),this.partsCount=o,this.path=Array.apply(null,{length:o}).map(Number.call,Number),this.rank=Array.apply(0,{length:o})}return Object(K.a)(t,[{key:"find",value:function(t){for(;t!==this.path[t];)this.path[t]=this.path[this.path[t]],t=this.path[t];return t}},{key:"union",value:function(t,o){var n=this.find(t),e=this.find(o);n!==e&&(this.partsCount-=1,this.rank[n]<this.rank[e]?this.path[n]=e:this.rank[n]>this.rank[e]?this.path[e]=n:(this.path[n]=e,this.rank[e]+=1))}}]),t}();var V=n(60);function $(t,o,n){return n<o?[n-t,n]:[n-o-1,n-o]}function _(t,o){for(var n=t*o,e=(t+1)*(o+1),i=new Q(n),r=[],s=[],a=t;a<n;a++)r.push(a);for(var c=n;c<2*n;c++)c%t!==0&&r.push(c);var u=(r=function(t){for(var o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),e=t[o];t[o]=t[n],t[n]=e}return t}(r)).length-1;do{var l=r[u],p=$(t,n,l),b=Object(H.a)(p,2),d=b[0],h=b[1];i.find(d)===i.find(h)?s.push(l):i.union(d,h),u-=1}while(1!==i.partsCount);for(;u>=0;)s.push(r[u]),u-=1;for(var f=Array.apply(null,{length:e}).fill(!1),m=Array.apply(null,{length:e}).fill(!1),j=0;j<t;j++)m[j]=!0,m[j+o*(t+1)]=!0;for(var g=0;g<o;g++)f[g*(t+1)]=!0,f[g*(t+1)+t]=!0;for(var O=function(o){return~~(o/t)*(t+1)+o%t},k=0;k<s.length;k++)s[k]<n?m[O(s[k])]=!0:f[O(s[k]-n)]=!0;return f[0]=!1,f[e-1]=!1,m[e-1]=!1,m[e-2]=!1,[f,m]}function tt(t,o,n,e,i){return Object(C.jsx)(V.a,{args:[n,e,i],rotation:[0,.5*Math.PI,0],position:[t,0,o+n/2],children:Object(C.jsx)("meshPhongMaterial",{color:"orange",attach:"material"})},String(t)+","+String(o)+"left")}function ot(t){for(var o,n,e,i,r,s=t.numX,a=t.numZ,c=t.wallTop,u=t.wallLeft,l=t.blockWidth,p=t.blockHeight,b=t.blockDepth,d=t.mazeWidth,h=t.mazeDepth,f=[],m=0;m<s+1;m++)for(var j=0;j<a+1;j++)c[m+(s+1)*j]&&f.push((o=-d/2+m*l-b/2,n=-h/2+j*l,e=l+b,i=p,r=b,Object(C.jsx)(V.a,{args:[e,i,r],rotation:[0,0,0],position:[o+e/2,0,n],children:Object(C.jsx)("meshPhongMaterial",{color:"orange",attach:"material"})},String(o)+","+String(n)+"top"))),u[m+(s+1)*j]&&f.push(tt(-d/2+m*l,-h/2+j*l-b/2,l+b,p,b));return Object(C.jsx)("group",{name:"walls",children:f})}var nt=n(61),et=n(63),it=n(62);n(56);function rt(t){var o=t.numX,n=t.numZ,e=t.blockWidth,i=t.blockHeight,r=t.blockDepth,s=t.mazeDepth,c=t.mazeWidth,u=Object(a.d)(A),l=Object(a.c)();if(!u){l(m(o-1)),l(j(n-1));var p=_(o,n),b=Object(H.a)(p,2),d=b[0],h=b[1];l(O(d)),l(g(h)),l(k(o)),l(x(n)),l(X(!0))}var f=-o*e/2,v=-n*e/2,w=-e/2+o*e+f,Z=-e/2+n*e+v,y=Object(nt.a)(a.b);return Object(C.jsx)("div",{className:"canvas-div",children:Object(C.jsxs)(U.a,{camera:{fov:80,position:[w,0,Z+e]},children:[Object(C.jsx)(y,{children:Object(C.jsx)(J,{blockWidth:e,startCoordX:f,startCoordZ:v,moveSpeed:.5,turnSpeed:2})}),Object(C.jsx)("ambientLight",{color:"#ffffff",intensity:.4}),Object(C.jsx)("directionalLight",{position:[-500,20,v+e/2],intensity:1.5}),Object(C.jsx)(ot,{numX:o,numZ:n,wallTop:Object(a.d)(z),wallLeft:Object(a.d)(N),blockWidth:e,blockHeight:i,blockDepth:r,mazeWidth:c,mazeDepth:s}),Object(C.jsx)(et.a,{distance:1e4,sunPosition:[-500,i,v+e/2],inclination:0,azimuth:.25}),Object(C.jsx)(it.a,{radius:2*c,depth:50,count:5e3,factor:5,saturation:0,fade:!0}),Object(C.jsx)(V.b,{"rotation-x":-Math.PI/2,position:[0,-i/2,0],args:[c,s,4,4],children:Object(C.jsx)("meshBasicMaterial",{attach:"material",opacity:.5,color:"#405940"})})]})})}n(57);function st(t){var o=Object(a.d)(z),n=Object(a.d)(N),i=Object(a.d)(S),r=Object(a.d)(S),s=Object(a.d)(w),c=Object(a.d)(Z),u=[],l=Object(e.useRef)(Array(i*r).fill(!1));l.current[c*i+s]=!0;for(var p=0;p<r;p++){u.push([]);for(var b=0;b<i;b++)l.current[p*i+b]?u[p].push(Object(C.jsx)("button",{className:"square",style:{borderTop:o[p*(i+1)+b]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",borderLeft:n[p*(i+1)+b]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",borderBottom:o[(p+1)*(i+1)+b]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",borderRight:n[p*(i+1)+b+1]?"0.5px solid white":"0.5px solid rgba(240, 248, 255, 0.25)",backgroundColor:s===b&&c===p?"rgb(37, 110, 194)":"rgba(240, 248, 255, 0.5)"}},String(p)+","+String(b))):u[p].push(Object(C.jsx)("button",{className:"square",style:{border:"0.5px solid rgba(0, 0, 0, 0.1)",backgroundColor:"rgba(0, 0, 0, 0.1)"}},String(p)+","+String(b)))}for(var d=[],h=0;h<r;h++)d.push(Object(C.jsx)("div",{className:"board-row",children:u[h]},"border"+String(h)));return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"container",children:d})})}n(58);function at(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)("div",{className:"vis-container",children:[Object(C.jsx)(rt,{numX:10,numZ:10,blockWidth:20,blockHeight:10,blockDepth:.5,mazeDepth:200,mazeWidth:200}),Object(C.jsx)(L,{}),Object(C.jsx)(st,{}),Object(C.jsx)("button",{className:"button new-game-button",onClick:function(){return window.history.go(0)},children:"New Game"}),Object(C.jsx)(B,{})]})})}var ct=Object(c.a)({reducer:{control:T,elapseTimer:I}});s.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(a.a,{store:ct,children:Object(C.jsx)(at,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.6c6fe760.chunk.js.map