{"version":3,"sources":["music/mixkit-game-level-music-689.wav","reducers/backgroundMusicSlice.js","commons/BackgroundMusic.jsx","components/Footer.jsx","containers/Welcome.jsx","reducers/controlSlice.js","containers/ModeSelection.jsx","music/mixkit-game-level-completed-2059.wav","music/mixkit-video-game-health-recharge-2837.wav","music/mixkit-negative-guitar-tone-2324.wav","music/mixkit-bonus-extra-in-a-video-game-2064.wav","music/mixkit-arcade-retro-jump-223.wav","music/mixkit-small-hit-in-a-game-2072.wav","music/mixkit-player-losing-or-failing-2042.wav","commons/SoundHooks.jsx","components/GamePanel.jsx","reducers/playerStatusSlice.js","components/LabyrinthCamera.jsx","commons/utils.js","components/Walls.jsx","components/LabyrinthView.jsx","reducers/elapseTimerSlice.js","reducers/popUpWindowSlice.js","components/BigPopUpWindow.jsx","components/SmallPopUpWindow.jsx","images/bigWindowBackground.png","reducers/leaderboardSlice.js","components/Leaderboard.jsx","images/sun.png","images/night.png","images/rocket.png","images/turtleicon.png","images/mapicon.png","images/mapoff.png","images/hpbonus.png","images/battle.png","components/EventManager.jsx","components/MiniMap.jsx","images/heart-icon.png","images/normalclock.png","images/outoftimeclock.png","components/ElapseTimer.jsx","components/PlayerStatusPanel.jsx","components/IconDescription.jsx","images/movesGuide.png","components/OperationDescription.jsx","components/HelperPage.jsx","components/NavPanel.jsx","containers/LabyrinthGame.jsx","components/GameModeDescription.jsx","images/miniMap.png","components/MiniMapEventDescription.jsx","images/darkMode.png","components/DarkModeEventDescription.jsx","components/SpeedChangeEventDescription.jsx","components/HPChangeEventDescription.jsx","containers/Guide.jsx","containers/AboutPage.jsx","Routes.jsx","App.js","reducers/helperPageSlice.js","store.js","index.js","containers/guide.module.css","components/helperPage.module.css","containers/welcome.module.css","components/eventManager.module.css","components/playerStatusPanel.module.css","components/navPanel.module.css","components/gamePanel.module.css","components/bigPopUpWindow.module.css","components/miniMap.module.css","components/leaderboard.module.css","components/elapseTimer.module.css","components/smallPopUpWindow.module.css","components/footer.module.css","components/labyrinthView.module.css","containers/labyrinthGame.module.css"],"names":["backgroundMusicSlice","createSlice","name","initialState","isPlaying","reducers","playBGM","state","playingBGM","stopBGM","unmuteBGM","muteBGM","mutedBGM","stopedBGM","resetBGM","actions","selectIsPlaying","backgroundMusic","BackgroundMusic","useSound","bgm","interrupt","volume","loop","play","stop","useBgmPlay","useSelector","dispatch","useDispatch","useEffect","Fragment","Footer","className","styles","footer","WelcomeScreens","props","disptach","isPlayBGM","container","title","children","Welcome","options","to","buttons","controlSlice","direction","posX","posZ","currentAction","actionCache","isInit","wallTop","wallLeft","numX","numZ","lastMoveHitWall","isResetCamera","resetEvent","moveForward","moveBackward","resetLastMoveHitWall","turnLeft","turnRight","occurEvent","resetCurrentAction","assignResetEvent","action","payload","popEvent","pauseAction","resumeAction","assignPosX","assignPosZ","assignWallTop","assignWallLeft","assignNumX","assignNumZ","assignInit","assignResetCamera","selectDirection","control","selectPosX","selectPosZ","selectAction","selectIsInit","selectWallTop","selectWallLeft","selectNumX","selectNumZ","selectLastMoveHitWall","selectIsResetCamera","selectResetEvent","ModeSelection","history","useHistory","handleModeSelect","mode","push","onClick","useGameCompletionSound","GameCompletionSound","playSound","usePositiveEffectSound","PositiveEffectSound","useNegativeEffectSound","NegativeEffectSound","useNeutralEffectSound","NeutralEffectSound","useConfrontBattleSound","ConfrontBattleSound","useGameOverSound","GameOverSound","useHitWallSound","HitWallSound","GamePanel","handleMoveForward","handleMoveBackward","handleTurnLeft","handleTurnRight","isPlayHitWall","document","addEventListener","event","key","panelContainer","forwardButton","icon","faChevronCircleUp","backwardButton","faChevronCircleDown","turnLeftButton","faChevronCircleLeft","turnRightButton","faChevronCircleRight","playerStatusSlice","HP","buff","debuff","speedModifier","decreaseHP","increaseHP","resetBuffAndDebuff","addABuff","removeABuff","addADebuff","removeADebuff","resetPlayerStatus","selectHP","playerStatus","selectBuff","selectDebuff","extend","TrackballControls","DIRECTION_ADJUSTER","LabyrinthCamera","blockWidth","startCoordX","startCoordZ","cameraInitCoordX","cameraInitCoordZ","moveSpeed","turnSpeed","useThree","camera","gl","controls","React","actualMoveSpeed","actualTurnSpeed","currentAngle","setCurrentAngle","localAngle","coordX","coordZ","useFrame","position","x","z","lookAt","Math","abs","rotateY","THREE","degToRad","updateProjectionMatrix","ref","args","domElement","dynamicDampingFactor","mouseButtons","LEFT","PAN","MIDDLE","ZOOM","RIGHT","ROTATE","UnionFind","elementNum","this","partsCount","parent","Array","apply","length","map","Number","call","rank","index","left","right","leftRoot","find","rightRoot","partialApply","fn","bind","genRandomInt","max","floor","random","compareNumbers","a","b","getWallNeighbourCells","numCells","wallIndex","initLabyrinthWalls","numCellPlusBorder","unionFind","wallArray","resArray","i","currentPos","targetArray","j","tmp","shuffleArray","currentWall","neighborA","neighborB","union","fill","convertIndex","val","GenVerticalWall","width","height","depth","rotation","PI","color","attach","String","Walls","blockHeight","blockDepth","mazeWidth","mazeDepth","walls","transparent","opacity","Text","fontSize","maxWidth","lineHeight","letterSpacing","textAlign","font","anchorX","anchorY","depthOffset","LabyrinthView","darkModeIsOn","posCoordX","posCoordZ","ContextBridge","useContextBridge","ReactReduxContext","canvasDiv","fov","far","intensity","Sky","distance","sunPosition","inclination","azimuth","Stars","radius","count","factor","saturation","fade","rotation-x","elapseTimerSlice","curNumSeconds","status","intervalHasSet","timeout","countUp","pauseCount","resumeCount","readyCount","resetCount","adjustCountByAmount","markIntervalSet","assignTimeout","selectCurNumSeconds","elapseTimer","selectStatus","selectIntervalHasSet","selectTimeout","popUpWindowSlice","smallPopUpPresense","smallPopIsToOpen","bigPopUpPresense","bigPopUpIsToOpen","enableSmallPopUpPresense","disableSmallPopUpPresense","enableSmallPopUpIsToOpen","disableSmallPopUpIsToOpen","enableBigPopUpPresense","disableBigPopUpPresense","enableBigPopUpIsToOpen","disableBigPopUpIsToOpen","selectSmallPopUpPresense","popUpWindow","selectSmallPopUpIsToOpen","selectBigPopUpPresense","selectBigPopUpIsToOpen","BigPopUpWindow","isToOpen","openType","isOpen","popup","overlayClassName","overlay","closeTimeoutMS","src","background","backgroundPic","alt","content","buttonsection","SmallPopUpWindow","handlePresenseChange","setTimeout","leaderboardSlice","list","appendToLeaderBoard","sort","pop","selectList","leaderboard","LeaderboardRow","time","leaderRow","order","entry","LearderboardSection","leaderList","leaderSection","StartEventRender","startEventCallback","EndEventRender","useState","isShowLeaderboard","setIsShowLeaderboard","hasAppend","useRef","console","log","current","FailGameEventRender","endEventCallback","strongWindEventCallBack","gameMode","StrongWindEventRender","neutralKeywords","smellyWindEventCallBack","debuffId","confrontBattleCallBack","SmellyWindEventRender","specificEventContent","specificIcon","nightIcon","negativeKeywords","turtleIcon","mapOffIcon","BattleEventRender","battleIcon","FreshWindEventRender","buffId","dayIcon","positiveKeywords","rocket","mapOnIcon","hpBonusIcon","freshWindEventCallBack","Event","toRender","callBack","eventTypeId","initEventMap","eventMap","randomID","NUM_DEBUFF_TYPE","RANDOM_ID_WITHHOLD","EventManager","discovered","isResetEvent","isGameFail","setEventMap","currentRender","playGameCompletionSound","playPositiveEffectSound","playNegativeEffectSound","playNeutralEffectSound","playConfrontBattleSound","playGameOverSound","currentIndex","currentCallback","MiniMap","miniMapIsOn","display","currentRow","square","style","borderTop","borderLeft","borderBottom","borderRight","backgroundColor","broadRow","ElapseTimer","setInterval","timer","number","ProgressBar","progressBar","percentage","Filler","filler","PlayerStatusPanel","hp","clock","progressBarSection","heart","normalclock","outoftimeclock","buffSection","mapicon","turtleicon","IconDescription","iconDescriptionContainer","plainText","eventIcon","heartIcon","normalClock","outOfTimeClock","miniMapIcon","darkModeIcon","brightModeIcon","speedUpIcon","speedDownIcon","OperationDescription","operationDescription","moveGuide","movesGuide","HelperPage","helperPage","HelperPageWindow","GobackConfirm","NavPanel","isPlayingBGM","navPanelContainer","faHome","faQuestionCircle","toggle","faMoon","faSun","faMap","faVolumeMute","faVolumeUp","LabyrinthGame","useParams","currentHP","currentCurNumSeconds","visContainer","GameModeDescription","description","smallHeader","gameModeName","MiniMapEventDescription","liHeaderContainer","liHeader","liHeaderText","eventDetail","eventPicture","mimiMapEventPicture","miniMap","DarkModeEventDescription","darkModePicture","SpeedChangeEventDescription","HPChangeEventDescription","Guide","handleGoBack","goBack","guide","goBackButton","topGoBackButton","bigHeader","bottomGoBackButton","AboutPage","aboutPage","aboutList","authorList","personalWebsite","href","faPaperPlane","size","creditLink","Routes","exact","path","App","Modal","setAppElement","helperPageSlice","shown","toggleShown","configureStore","reducer","controlReducer","elapseTimerReducer","backgroundMusicReducer","playerStatusReducer","popUpWindowReducer","leaderboardReducer","helperPageReducer","ReactDOM","render","StrictMode","store","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8bb9f728.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mixkit-game-level-music-689.1410a480.wav\";","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const START_PLAY = 0;\nexport const PLAYING = 1;\nexport const TO_STOP = 2;\nexport const STOPPED = 3;\nexport const TO_MUTE = 4;\nexport const MUTED = 4;\n\nexport const backgroundMusicSlice = createSlice({\n  name: \"backgroundMusic\",\n  initialState: {\n    isPlaying: STOPPED,\n  },\n  reducers: {\n    playBGM: (state) => {\n      if (state.isPlaying !== MUTED) {\n        state.isPlaying = START_PLAY;\n      }\n    },\n    playingBGM: (state) => {\n      state.isPlaying = PLAYING;\n    },\n    stopBGM: (state) => {\n      if (state.isPlaying !== MUTED) {\n        state.isPlaying = TO_STOP;\n      }\n    },\n    unmuteBGM: (state) => {\n      state.isPlaying = START_PLAY;\n    },\n    muteBGM: (state) => {\n      state.isPlaying = TO_MUTE;\n    },\n    mutedBGM: (state) => {\n      state.isPlaying = MUTED;\n    },\n    stopedBGM: (state) => {\n      state.isPlaying = STOPPED;\n    },\n    resetBGM: (state) => {\n      state.isPlaying = TO_STOP;\n    },\n  },\n});\n\nexport const {\n  playBGM,\n  stopBGM,\n  playingBGM,\n  stopedBGM,\n  muteBGM,\n  unmuteBGM,\n  mutedBGM,\n} = backgroundMusicSlice.actions;\n\nexport const selectIsPlaying = (state) => state.backgroundMusic.isPlaying;\n\nexport default backgroundMusicSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useSound from \"use-sound\";\n// Music credits to https://mixkit.co/free-sound-effects/game/.\nimport bgm from \"../music/mixkit-game-level-music-689.wav\";\nimport {\n  playingBGM,\n  selectIsPlaying,\n  stopedBGM,\n  START_PLAY,\n  TO_STOP,\n  TO_MUTE,\n  mutedBGM,\n} from \"../reducers/backgroundMusicSlice\";\n\nexport function useBgmPlay() {\n  const [play, { stop }] = useSound(bgm, {\n    interrupt: true,\n    volume: 0.35,\n    loop: true,\n  });\n  return { play, stop };\n}\n\nexport const BackgroundMusic = () => {\n  const { play, stop } = useBgmPlay();\n  const isPlaying = useSelector(selectIsPlaying);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (isPlaying === START_PLAY) {\n      play();\n      dispatch(playingBGM());\n    }\n    if (isPlaying === TO_STOP) {\n      stop();\n      dispatch(stopedBGM());\n    }\n    if (isPlaying === TO_MUTE) {\n      stop();\n      dispatch(mutedBGM());\n    }\n  });\n  return <React.Fragment></React.Fragment>;\n};\n","import React from \"react\";\nimport styles from \"./footer.module.css\";\n\nconst Footer = () => {\n  return <div className={styles.footer}>Happy game, happy life.</div>;\n};\n\nexport default Footer;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Footer from \"../components/Footer\";\nimport styles from \"./welcome.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport {\n  selectIsPlaying,\n  stopBGM,\n  STOPPED,\n} from \"../reducers/backgroundMusicSlice\";\n\nexport function WelcomeScreens(props) {\n  const disptach = useDispatch();\n  const isPlayBGM = useSelector(selectIsPlaying);\n  useEffect(() => {\n    if (isPlayBGM !== STOPPED) {\n      disptach(stopBGM());\n    }\n  });\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Maze</h1>\n      {props.children}\n      <Footer />\n    </div>\n  );\n}\n\nexport function Welcome() {\n  return (\n    <WelcomeScreens>\n      <div className={styles.options}>\n        <NavLink to=\"/game\" className={styles.buttons}>\n          Game Start\n        </NavLink>\n        <NavLink to=\"/guide\" className={styles.buttons}>\n          Guide\n        </NavLink>\n        <NavLink to=\"/about\" className={styles.buttons}>\n          About\n        </NavLink>\n      </div>\n    </WelcomeScreens>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const MOVE_FORWARD = 0;\nexport const TURN_LEFT = 2;\nexport const TURN_RIGHT = 1;\nexport const MOVE_BACKWARD = 3;\nexport const RANDOM_EVENT = 4;\nexport const NOTHING = 5;\nexport const INTERRUPTED = 6;\nexport const CACHE_UNUSED = 7;\nexport const UP = 0;\nexport const RIGHT = 3;\nexport const DOWN = 2;\nexport const LEFT = 1;\n\nexport const controlSlice = createSlice({\n  name: \"control\",\n  initialState: {\n    direction: 0,\n    posX: 0,\n    posZ: 0,\n    // Used to block a new action when an action is exectuting\n    currentAction: MOVE_FORWARD,\n    actionCache: CACHE_UNUSED,\n    isInit: false,\n    wallTop: [],\n    wallLeft: [],\n    numX: 5,\n    numZ: 5,\n    lastMoveHitWall: false,\n    isResetCamera: false,\n    resetEvent: true,\n  },\n  reducers: {\n    moveForward: (state) => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = MOVE_FORWARD;\n        switch (state.direction) {\n          case UP:\n            // Check if there is a wall\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX <= state.numX &&\n                state.posZ >= 0 &&\n                state.posZ <= state.numZ &&\n                state.wallTop[state.posX + state.posZ * (state.numX + 1)]\n              )\n            ) {\n              state.posZ -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case RIGHT:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX < state.numX &&\n                state.posZ >= 0 &&\n                state.posZ < state.numZ &&\n                state.wallLeft[state.posX + 1 + state.posZ * (state.numX + 1)]\n              )\n            ) {\n              state.posX += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case DOWN:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX < state.numX &&\n                state.posZ >= 0 &&\n                state.posZ < state.numZ &&\n                state.wallTop[state.posX + (state.posZ + 1) * (state.numX + 1)]\n              ) &&\n              !(state.posX === state.numX - 1 && state.posZ === state.numZ - 1)\n            ) {\n              state.posZ += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case LEFT:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX <= state.numX &&\n                state.posZ >= 0 &&\n                state.posZ <= state.numZ &&\n                state.wallLeft[state.posX + state.posZ * (state.numX + 1)]\n              )\n            ) {\n              state.posX -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          default:\n          // console.log(\"Direction error: \", state.direction);\n        }\n      }\n    },\n    moveBackward: (state) => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = MOVE_BACKWARD;\n        switch (state.direction) {\n          case UP:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX <= state.numX &&\n                state.posZ >= 0 &&\n                state.posZ <= state.numZ &&\n                state.wallTop[state.posX + (state.posZ + 1) * (state.numX + 1)]\n              ) &&\n              !(state.posX === state.numX - 1 && state.posZ === state.numZ - 1)\n            ) {\n              state.posZ += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case RIGHT:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX < state.numX &&\n                state.posZ >= 0 &&\n                state.posZ <= state.numZ &&\n                state.wallLeft[state.posX + state.posZ * (state.numX + 1)]\n              )\n            ) {\n              state.posX -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case DOWN:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX < state.numX &&\n                state.posZ >= 0 &&\n                state.posZ <= state.numZ &&\n                state.wallTop[state.posX + state.posZ * (state.numX + 1)]\n              )\n            ) {\n              state.posZ -= 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          case LEFT:\n            if (\n              !(\n                state.posX >= 0 &&\n                state.posX <= state.numX &&\n                state.posZ >= 0 &&\n                state.posZ <= state.numZ &&\n                state.wallLeft[state.posX + 1 + state.posZ * (state.numX + 1)]\n              )\n            ) {\n              state.posX += 1;\n            } else {\n              state.lastMoveHitWall = true;\n            }\n            break;\n          default:\n          // console.log(\"Direction error: \", state.direction);\n        }\n      }\n    },\n    resetLastMoveHitWall: (state) => {\n      state.lastMoveHitWall = false;\n    },\n    turnLeft: (state) => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = TURN_LEFT;\n        state.direction = (state.direction + 1) % 4;\n      }\n    },\n    turnRight: (state) => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = TURN_RIGHT;\n        state.direction = (((state.direction - 1) % 4) + 4) % 4;\n      }\n    },\n    occurEvent: (state) => {\n      if (state.currentAction === NOTHING) {\n        state.currentAction = RANDOM_EVENT;\n      }\n    },\n    resetCurrentAction: (state) => {\n      state.currentAction = MOVE_FORWARD;\n      state.actionCache = CACHE_UNUSED;\n    },\n    assignResetEvent: (state, action) => {\n      state.resetEvent = action.payload;\n    },\n    popEvent: (state) => {\n      state.currentAction = NOTHING;\n    },\n    pauseAction: (state) => {\n      if (state.currentAction !== INTERRUPTED) {\n        state.actionCache = state.currentAction;\n        state.currentAction = INTERRUPTED;\n      }\n    },\n    resumeAction: (state) => {\n      if (state.actionCache !== CACHE_UNUSED) {\n        state.currentAction = state.actionCache;\n        state.actionCache = CACHE_UNUSED;\n      }\n    },\n    assignPosX: (state, action) => {\n      state.posX = action.payload;\n    },\n    assignPosZ: (state, action) => {\n      state.posZ = action.payload;\n    },\n    assignWallTop: (state, action) => {\n      state.wallTop = action.payload;\n    },\n    assignWallLeft: (state, action) => {\n      state.wallLeft = action.payload;\n    },\n    assignNumX: (state, action) => {\n      state.numX = action.payload;\n    },\n    assignNumZ: (state, action) => {\n      state.numZ = action.payload;\n    },\n    assignInit: (state, action) => {\n      state.isInit = action.payload;\n    },\n    assignResetCamera: (state, action) => {\n      state.isResetCamera = action.payload;\n      if (!action.payload) {\n        state.direction = UP;\n      }\n    },\n  },\n});\n\nexport const {\n  moveForward,\n  moveBackward,\n  turnLeft,\n  turnRight,\n  resetLastMoveHitWall,\n  occurEvent,\n  popEvent,\n  assignPosX,\n  assignPosZ,\n  assignWallTop,\n  assignWallLeft,\n  assignNumX,\n  assignNumZ,\n  assignInit,\n  assignResetCamera,\n  resetCurrentAction,\n  assignResetEvent,\n  pauseAction,\n  resumeAction,\n} = controlSlice.actions;\n\nexport const selectDirection = (state) => state.control.direction;\nexport const selectPosX = (state) => state.control.posX;\nexport const selectPosZ = (state) => state.control.posZ;\nexport const selectAction = (state) => state.control.currentAction;\nexport const selectIsInit = (state) => state.control.isInit;\nexport const selectWallTop = (state) => state.control.wallTop;\nexport const selectWallLeft = (state) => state.control.wallLeft;\nexport const selectNumX = (state) => state.control.numX;\nexport const selectNumZ = (state) => state.control.numZ;\nexport const selectLastMoveHitWall = (state) => state.control.lastMoveHitWall;\nexport const selectIsResetCamera = (state) => state.control.isResetCamera;\nexport const selectResetEvent = (state) => state.control.resetEvent;\n\nexport default controlSlice.reducer;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport styles from \"./welcome.module.css\";\nimport { WelcomeScreens } from \"./Welcome\";\nimport { assignInit } from \"../reducers/controlSlice\";\nimport { NavLink, useHistory } from \"react-router-dom\";\n\nexport function ModeSelection(props) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleModeSelect = (mode) => {\n    dispatch(assignInit(false));\n    history.push(\"/game/\" + mode);\n  };\n\n  return (\n    <WelcomeScreens>\n      <div className={styles.options}>\n        <h3 className={styles.buttons} onClick={() => handleModeSelect(\"easy\")}>\n          Easy\n        </h3>\n        <h3\n          className={styles.buttons}\n          onClick={() => handleModeSelect(\"medium\")}\n        >\n          Medium\n        </h3>\n        <h3 className={styles.buttons} onClick={() => handleModeSelect(\"hard\")}>\n          Hard\n        </h3>\n        <h3 className={styles.buttons} onClick={() => handleModeSelect(\"pure\")}>\n          Pure Maze\n        </h3>\n        <NavLink to=\"/\" className={styles.buttons}>\n          Go back\n        </NavLink>\n      </div>\n    </WelcomeScreens>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/mixkit-game-level-completed-2059.9b5b1a62.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-video-game-health-recharge-2837.1196415e.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-negative-guitar-tone-2324.cab1c2b6.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-bonus-extra-in-a-video-game-2064.fc57cf28.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-arcade-retro-jump-223.ec530168.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-small-hit-in-a-game-2072.63f0b124.wav\";","export default __webpack_public_path__ + \"static/media/mixkit-player-losing-or-failing-2042.183e2b8a.wav\";","import React from \"react\";\nimport useSound from \"use-sound\";\n// The following 7 music pieces credit to https://mixkit.co/free-sound-effects/game/.\nimport GameCompletionSound from \"../music/mixkit-game-level-completed-2059.wav\";\nimport PositiveEffectSound from \"../music/mixkit-video-game-health-recharge-2837.wav\";\nimport NegativeEffectSound from \"../music/mixkit-negative-guitar-tone-2324.wav\";\nimport NeutralEffectSound from \"../music/mixkit-bonus-extra-in-a-video-game-2064.wav\";\nimport ConfrontBattleSound from \"../music/mixkit-arcade-retro-jump-223.wav\";\nimport HitWallSound from \"../music/mixkit-small-hit-in-a-game-2072.wav\";\nimport GameOverSound from \"../music/mixkit-player-losing-or-failing-2042.wav\";\nimport { useSelector } from \"react-redux\";\nimport {\n  MUTED,\n  selectIsPlaying,\n  TO_MUTE,\n} from \"../reducers/backgroundMusicSlice\";\n\nexport function useGameCompletionSound() {\n  const [playSound, { stop }] = useSound(GameCompletionSound, {\n    interrupt: true,\n    volume: 0.75,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\nexport function usePositiveEffectSound() {\n  const [playSound, { stop }] = useSound(PositiveEffectSound, {\n    interrupt: true,\n    volume: 0.45,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\nexport function useNegativeEffectSound() {\n  const [playSound, { stop }] = useSound(NegativeEffectSound, {\n    interrupt: true,\n    volume: 0.65,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\n// Clears all effects, no matter positive or negative.\nexport function useNeutralEffectSound() {\n  const [playSound, { stop }] = useSound(NeutralEffectSound, {\n    interrupt: true,\n    volume: 0.65,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\nexport function useConfrontBattleSound() {\n  const [playSound, { stop }] = useSound(ConfrontBattleSound, {\n    interrupt: true,\n    volume: 0.65,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\nexport function useGameOverSound() {\n  const [playSound, { stop }] = useSound(GameOverSound, {\n    interrupt: true,\n    volume: 0.65,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\nexport function useHitWallSound() {\n  const [playSound, { stop }] = useSound(HitWallSound, {\n    interrupt: true,\n    volume: 0.65,\n  });\n  const isPlaying = useSelector(selectIsPlaying);\n  const play = () => {\n    if (isPlaying !== MUTED || isPlaying !== TO_MUTE) {\n      playSound();\n    }\n  };\n  return { play, stop };\n}\n\nconst EffectSoundTestContainer = () => {\n  const {\n    play: playGameCompletionSound,\n    stop: stopGameCompletionSound,\n  } = useGameCompletionSound();\n  const {\n    play: playPositiveEffectSound,\n    stop: stopPositiveEffectSound,\n  } = usePositiveEffectSound();\n  const {\n    play: playNegativeEffectSound,\n    stop: stopNegativeEffectSound,\n  } = useNegativeEffectSound();\n  const {\n    play: playNeutralEffectSound,\n    stop: stopNeutralEffectSound,\n  } = useNeutralEffectSound();\n  const {\n    play: playConfrontBattleSound,\n    stop: stopConfrontBattleSound,\n  } = useConfrontBattleSound();\n  const {\n    play: playGameOverSound,\n    stop: stopGameOverSound,\n  } = useGameOverSound();\n  const { play: playHitWallSound, stop: stopHitWallSound } = useHitWallSound();\n\n  return (\n    <div>\n      <button onClick={() => playGameCompletionSound()}>\n        Play Game Compeletion Sound\n      </button>\n      <button onClick={() => stopGameCompletionSound()}>\n        Stop Game Compeletion Sound\n      </button>\n      <button onClick={() => playPositiveEffectSound()}>\n        Play PositiveEffectSound\n      </button>\n      <button onClick={() => stopPositiveEffectSound()}>\n        Stop PositiveEffectSound\n      </button>\n      <button onClick={() => playNegativeEffectSound()}>\n        Play NegativeEffectSound\n      </button>\n      <button onClick={() => stopNegativeEffectSound()}>\n        Stop NegativeEffectSound\n      </button>\n      <button onClick={() => playNeutralEffectSound()}>\n        Play NeutralEffectSound\n      </button>\n      <button onClick={() => stopNeutralEffectSound()}>\n        Stop NeutralEffectSound\n      </button>\n      <button onClick={() => playConfrontBattleSound()}>\n        Play ConfrontBattleSound\n      </button>\n      <button onClick={() => stopConfrontBattleSound()}>\n        Stop ConfrontBattleSound\n      </button>\n      <button onClick={() => playGameOverSound()}>Play GameOverSound</button>\n      <button onClick={() => stopGameOverSound()}>Stop GameOverSound</button>\n      <button onClick={() => playHitWallSound()}>Play HitWallSound</button>\n      <button onClick={() => stopHitWallSound()}>Stop HitWallSound</button>\n    </div>\n  );\n};\n\nexport default EffectSoundTestContainer;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  moveBackward,\n  moveForward,\n  resetLastMoveHitWall,\n  selectLastMoveHitWall,\n  turnLeft,\n  turnRight,\n} from \"../reducers/controlSlice\";\nimport styles from \"./gamePanel.module.css\";\nimport { useHitWallSound } from \"../commons/SoundHooks\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronCircleDown,\n  faChevronCircleUp,\n  faChevronCircleLeft,\n  faChevronCircleRight,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport function GamePanel() {\n  const dispatch = useDispatch();\n\n  const handleMoveForward = () => {\n    dispatch(moveForward());\n  };\n  const handleMoveBackward = () => {\n    dispatch(moveBackward());\n  };\n\n  const handleTurnLeft = () => {\n    dispatch(turnLeft());\n  };\n  const handleTurnRight = () => {\n    dispatch(turnRight());\n  };\n\n  const handleKeyDown = (event) => {\n    switch (event.key) {\n      case \"a\":\n        handleTurnLeft();\n        break;\n      case \"d\":\n        handleTurnRight();\n        break;\n      case \"w\":\n        handleMoveForward();\n        break;\n      case \"s\":\n        handleMoveBackward();\n        break;\n      default:\n        break;\n    }\n  };\n  const isPlayHitWall = useSelector(selectLastMoveHitWall);\n  const { play } = useHitWallSound();\n  if (isPlayHitWall) {\n    play();\n    dispatch(resetLastMoveHitWall());\n  }\n\n  document.addEventListener(\"keydown\", handleKeyDown);\n\n  return (\n    <div className={styles.panelContainer}>\n      <FontAwesomeIcon\n        className={styles.forwardButton}\n        icon={faChevronCircleUp}\n        onClick={() => handleMoveForward()}\n      />\n      <FontAwesomeIcon\n        className={styles.backwardButton}\n        icon={faChevronCircleDown}\n        onClick={() => handleMoveBackward()}\n      />\n      <FontAwesomeIcon\n        className={styles.turnLeftButton}\n        icon={faChevronCircleLeft}\n        onClick={() => handleTurnLeft()}\n      />\n      <FontAwesomeIcon\n        className={styles.turnRightButton}\n        icon={faChevronCircleRight}\n        onClick={() => handleTurnRight()}\n      />\n    </div>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst INITIAL_HP = 100;\n\nexport const MINI_MAP_ON = 1 << 0;\nexport const DARK_MODE_ON = 1 << 1;\nexport const SPEED_UP = 1 << 2;\n\nexport const MINI_MAP_OFF = 1 << 0;\nexport const DARK_MODE_OFF = 1 << 1;\nexport const SPEED_DOWN = 1 << 2;\n\nexport const playerStatusSlice = createSlice({\n  name: \"playerStatus\",\n  initialState: {\n    HP: INITIAL_HP,\n    buff: 0,\n    debuff: 0,\n    speedModifier: 1,\n  },\n  reducers: {\n    decreaseHP: (state, action) => {\n      state.HP -= action.payload;\n      if (state.HP < 0) {\n        state.HP = 0;\n      }\n    },\n    increaseHP: (state, action) => {\n      if (state.HP === INITIAL_HP) {\n        return;\n      }\n      state.HP += action.payload;\n    },\n    resetBuffAndDebuff: (state) => {\n      state.buff = 0;\n      state.debuff = 0;\n    },\n    addABuff: (state, action) => {\n      state.buff |= action.payload;\n    },\n    removeABuff: (state, action) => {\n      state.buff &= ~action.payload;\n    },\n    addADebuff: (state, action) => {\n      state.debuff |= action.payload;\n    },\n    removeADebuff: (state, action) => {\n      state.debuff &= ~action.payload;\n    },\n    resetPlayerStatus: (state) => {\n      state.HP = INITIAL_HP;\n      state.buff = 0;\n      state.debuff = 0;\n    },\n  },\n});\n\nexport const {\n  decreaseHP,\n  increaseHP,\n  resetBuffAndDebuff,\n  addABuff,\n  removeABuff,\n  addADebuff,\n  removeADebuff,\n  resetPlayerStatus,\n} = playerStatusSlice.actions;\n\nexport const selectHP = (state) => state.playerStatus.HP;\nexport const selectBuff = (state) => state.playerStatus.buff;\nexport const selectDebuff = (state) => state.playerStatus.debuff;\n\nexport default playerStatusSlice.reducer;\n","import * as React from \"react\";\nimport { extend, useThree, useFrame } from \"react-three-fiber\";\nimport { TrackballControls } from \"three/examples/jsm/controls/TrackballControls\";\nimport * as THREE from \"three\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  selectAction,\n  selectPosX,\n  selectPosZ,\n  popEvent,\n  selectDirection,\n  MOVE_FORWARD,\n  MOVE_BACKWARD,\n  TURN_LEFT,\n  TURN_RIGHT,\n  NOTHING,\n  UP,\n  DOWN,\n  LEFT,\n  RIGHT,\n  RANDOM_EVENT,\n  selectIsResetCamera,\n  assignResetCamera,\n} from \"../reducers/controlSlice\";\nimport {\n  selectBuff,\n  selectDebuff,\n  SPEED_DOWN,\n  SPEED_UP,\n} from \"../reducers/playerStatusSlice\";\n\n// extend THREE to include TrackballControls\nextend({ TrackballControls });\n\n// Make the camera look ahead, can be any value greater than 0\nconst DIRECTION_ADJUSTER = 0.1;\nconst SPEED_MODIFIER = 2;\n\nexport const LabyrinthCamera = ({\n  blockWidth,\n  startCoordX,\n  startCoordZ,\n  cameraInitCoordX,\n  cameraInitCoordZ,\n  moveSpeed,\n  turnSpeed,\n}) => {\n  const { camera, gl } = useThree();\n  const controls = React.useRef();\n\n  const currentAction = useSelector(selectAction);\n  const posX = useSelector(selectPosX);\n  const posZ = useSelector(selectPosZ);\n  const direction = useSelector(selectDirection);\n  const buff = useSelector(selectBuff);\n  const debuff = useSelector(selectDebuff);\n  let speedModifier = 1;\n  if (buff & SPEED_UP) {\n    speedModifier = SPEED_MODIFIER;\n  } else if (debuff & SPEED_DOWN) {\n    speedModifier = 1 / SPEED_MODIFIER;\n  }\n  const actualMoveSpeed = moveSpeed * speedModifier;\n  const actualTurnSpeed = turnSpeed * speedModifier;\n  // Current angle is the remaining angle the camera needs to rotate\n  const [currentAngle, setCurrentAngle] = React.useState(0);\n  let localAngle = currentAngle;\n\n  const coordX = -blockWidth / 2 + (posX + 1) * blockWidth + startCoordX;\n  const coordZ = -blockWidth / 2 + (posZ + 1) * blockWidth + startCoordZ;\n  const isResetCamera = useSelector(selectIsResetCamera);\n\n  const dispatch = useDispatch();\n\n  useFrame(() => {\n    // // console.log(posX, coordX, camera.position.x)\n    // update the view as the vis is interacted with\n    // controls.current.update();\n    // console.log(currentAction);\n    if (!isResetCamera) {\n      camera.position.x = cameraInitCoordX;\n      camera.position.z = cameraInitCoordZ;\n      dispatch(assignResetCamera(true));\n    }\n    switch (currentAction) {\n      case MOVE_FORWARD:\n        switch (direction) {\n          case UP:\n            if (camera.position.z > coordZ) {\n              camera.position.z -= actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x,\n                0,\n                camera.position.z - DIRECTION_ADJUSTER\n              );\n            }\n            break;\n          case LEFT:\n            if (camera.position.x > coordX) {\n              camera.position.x -= actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x - DIRECTION_ADJUSTER,\n                0,\n                camera.position.z\n              );\n            }\n            break;\n          case DOWN:\n            if (camera.position.z < coordZ) {\n              camera.position.z += actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x,\n                0,\n                camera.position.z + DIRECTION_ADJUSTER\n              );\n            }\n            break;\n          case RIGHT:\n            if (camera.position.x < coordX) {\n              camera.position.x += actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x + DIRECTION_ADJUSTER,\n                0,\n                camera.position.z\n              );\n            }\n            break;\n          default:\n          // console.log(\"direction error!\");\n        }\n        if (Math.abs(camera.position.x - coordX) < actualMoveSpeed) {\n          if (Math.abs(camera.position.z - coordZ) < actualMoveSpeed) {\n            camera.position.x = coordX;\n            camera.position.z = coordZ;\n            dispatch(popEvent());\n          }\n        }\n        break;\n      case MOVE_BACKWARD:\n        switch (direction) {\n          case UP:\n            if (camera.position.z < coordZ) {\n              camera.lookAt(\n                camera.position.x,\n                0,\n                camera.position.z - DIRECTION_ADJUSTER\n              );\n              camera.position.z += actualMoveSpeed;\n            }\n            break;\n          case LEFT:\n            if (camera.position.x < coordX) {\n              camera.position.x += actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x - DIRECTION_ADJUSTER,\n                0,\n                camera.position.z\n              );\n            }\n            break;\n          case DOWN:\n            if (camera.position.z > coordZ) {\n              camera.position.z -= actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x,\n                0,\n                camera.position.z + DIRECTION_ADJUSTER\n              );\n            }\n            break;\n          case RIGHT:\n            if (camera.position.x > coordX) {\n              camera.position.x -= actualMoveSpeed;\n              camera.lookAt(\n                camera.position.x + DIRECTION_ADJUSTER,\n                0,\n                camera.position.z\n              );\n            }\n            break;\n          default:\n          // console.log(\"direction error!\");\n        }\n        if (Math.abs(camera.position.x - coordX) < actualMoveSpeed) {\n          if (Math.abs(camera.position.z - coordZ) < actualMoveSpeed) {\n            camera.position.x = coordX;\n            camera.position.z = coordZ;\n            dispatch(popEvent());\n          }\n        }\n        break;\n      case TURN_LEFT:\n        if (currentAngle === 0) {\n          localAngle = currentAngle + 90;\n          setCurrentAngle(localAngle);\n        }\n        if (localAngle > 0) {\n          camera.rotateY(THREE.Math.degToRad(actualTurnSpeed));\n          localAngle -= actualTurnSpeed;\n          setCurrentAngle(localAngle);\n        }\n        if (Math.abs(localAngle) < actualTurnSpeed) {\n          dispatch(popEvent());\n          setCurrentAngle(0);\n        }\n        break;\n      case TURN_RIGHT:\n        if (currentAngle === 0) {\n          setCurrentAngle(currentAngle - 90);\n          localAngle = currentAngle - 90;\n        }\n        if (localAngle < 0) {\n          camera.rotateY(THREE.Math.degToRad(-actualTurnSpeed));\n          localAngle += actualTurnSpeed;\n          setCurrentAngle(localAngle);\n        }\n        if (Math.abs(localAngle) < actualTurnSpeed) {\n          dispatch(popEvent());\n          setCurrentAngle(0);\n        }\n        break;\n      case NOTHING:\n        break;\n      case RANDOM_EVENT:\n        break;\n      default:\n      // console.log(\"button error!\");\n    }\n    camera.updateProjectionMatrix();\n  });\n\n  return (\n    <trackballControls\n      ref={controls}\n      args={[camera, gl.domElement]}\n      dynamicDampingFactor={0.1}\n      mouseButtons={{\n        LEFT: THREE.MOUSE.PAN, // make pan the default instead of rotate\n        MIDDLE: THREE.MOUSE.ZOOM,\n        RIGHT: THREE.MOUSE.ROTATE,\n      }}\n    />\n  );\n};\n\nexport default LabyrinthCamera;\n","// TODO: define interface\nexport class UnionFind {\n  partsCount;\n  rank;\n  parent;\n\n  constructor(elementNum) {\n    this.partsCount = elementNum;\n    this.parent = Array.apply(null, { length: elementNum }).map(\n      Number.call,\n      Number\n    );\n    this.rank = Array.apply(0, { length: elementNum });\n  }\n\n  // Find the parent of the given index\n  find(index) {\n    while (index !== this.parent[index]) {\n      this.parent[index] = this.parent[this.parent[index]];\n      index = this.parent[index];\n    }\n    return index;\n  }\n\n  // Union the left element and right element, so that they become connected\n  union(left, right) {\n    const leftRoot = this.find(left);\n    const rightRoot = this.find(right);\n    if (leftRoot === rightRoot) {\n      return;\n    }\n    this.partsCount -= 1;\n    if (this.rank[leftRoot] < this.rank[rightRoot]) {\n      this.parent[leftRoot] = rightRoot;\n    } else if (this.rank[leftRoot] > this.rank[rightRoot]) {\n      this.parent[rightRoot] = leftRoot;\n    } else {\n      this.parent[leftRoot] = rightRoot;\n      this.rank[rightRoot] += 1;\n    }\n  }\n}\n\nexport function shuffleArray(targetArray) {\n  // Reference: https://stackoverflow.com/questions/3943772/how-do-i-shuffle-the-characters-in-a-string-in-javascript\n  const length = targetArray.length;\n  for (let i = length - 1; i > 0; i--) {\n    let j = Math.floor(Math.random() * (i + 1));\n    let tmp = targetArray[i];\n    targetArray[i] = targetArray[j];\n    targetArray[j] = tmp;\n  }\n  return targetArray;\n}\n\nexport function partialApply(fn, ...args) {\n  // Reference: https://medium.com/@jnkrtech/partial-function-application-in-javascript-and-flow-7f3ca87074fe\n  return fn.bind(null, ...args);\n}\n\n// Returns random integer smaller than max.\nexport function genRandomInt(max) {\n  return Math.floor(Math.random() * max);\n}\n\nexport function compareNumbers(a, b) {\n  return a - b;\n}\n","import * as React from \"react\";\nimport { Box, Text } from \"@react-three/drei\";\nimport { shuffleArray, UnionFind } from \"../commons/utils\";\nimport { DoubleSide } from \"three\";\n\n// Wall global index definination example:\n// (The below two pictures are the same 3*3 maze, we separte vertical and horizontal walls to make it looks more clear)\n//\n//   012\n//   ---\n//   345\n//   ---\n//   678\n//\n//  9|10|11|\n// 12|13|14|\n// 15|16|17|\n//\n\n/* Given an wall index, output the neighbour cell index (In x+z*numZ format) */\nfunction getWallNeighbourCells(numX, numCells, wallIndex) {\n  if (wallIndex < numCells) {\n    // wallIndex < numCells, it is a horizontal wall\n    return [wallIndex - numX, wallIndex];\n  } else {\n    return [wallIndex - numCells - 1, wallIndex - numCells];\n  }\n}\n\nexport function initLabyrinthWalls(numX, numZ) {\n  // The algorithm is:\n  // We put all cells of a maze into a disjointed set, and set them as\n  // disjointed. Then we random select a wall. If the two cells separated\n  // by the wall is not connected, we tear down the wall, otherwise we keep\n  // the wall and choose another wall. We do this until there's only only\n  // connecting compoments left.\n  const numCells = numX * numZ;\n  const numCellPlusBorder = (numX + 1) * (numZ + 1);\n  const unionFind = new UnionFind(numCells);\n  let wallArray = [];\n  let resArray = [];\n  for (let i = numX; i < numCells; i++) {\n    wallArray.push(i);\n  }\n  for (let i = numCells; i < numCells * 2; i++) {\n    if (i % numX !== 0) {\n      wallArray.push(i);\n    }\n  }\n  wallArray = shuffleArray(wallArray);\n  let currentPos = wallArray.length - 1;\n\n  do {\n    const currentWall = wallArray[currentPos];\n    const [neighborA, neighborB] = getWallNeighbourCells(\n      numX,\n      numCells,\n      currentWall\n    );\n    if (unionFind.find(neighborA) === unionFind.find(neighborB)) {\n      resArray.push(currentWall);\n    } else {\n      unionFind.union(neighborA, neighborB);\n    }\n    currentPos -= 1;\n  } while (unionFind.partsCount !== 1);\n  while (currentPos >= 0) {\n    resArray.push(wallArray[currentPos]);\n    currentPos -= 1;\n  }\n\n  const wallLeft = Array.apply(null, { length: numCellPlusBorder }).fill(false);\n  const wallTop = Array.apply(null, { length: numCellPlusBorder }).fill(false);\n  for (let i = 0; i < numX; i++) {\n    // Make the top border to be true\n    wallTop[i] = true;\n    // Make the bottom border to be true\n    wallTop[i + numZ * (numX + 1)] = true;\n  }\n  for (let i = 0; i < numZ; i++) {\n    // Make the left border to be true\n    wallLeft[i * (numX + 1)] = true;\n    // Make the right border to be true\n    wallLeft[i * (numX + 1) + numX] = true;\n  }\n\n  const convertIndex = (val) => ~~(val / numX) * (numX + 1) + (val % numX);\n  for (let i = 0; i < resArray.length; i++) {\n    if (resArray[i] < numCells) {\n      wallTop[convertIndex(resArray[i])] = true;\n    } else {\n      wallLeft[convertIndex(resArray[i] - numCells)] = true;\n    }\n  }\n\n  wallLeft[0] = false;\n  wallLeft[numCellPlusBorder - 1] = false;\n  wallTop[numCellPlusBorder - 1] = false;\n  wallTop[numCellPlusBorder - 2] = false;\n  return [wallLeft, wallTop];\n}\n\nfunction GenHorizontalWall(x, z, width, height, depth) {\n  return (\n    <Box\n      key={String(x) + \",\" + String(z) + \"top\"}\n      args={[width, height, depth]}\n      rotation={[0, 0, 0]}\n      position={[x + width / 2, 0, z]}\n    >\n      <meshPhongMaterial color=\"orange\" attach=\"material\" />\n    </Box>\n  );\n}\n\nfunction GenVerticalWall(x, z, width, height, depth) {\n  return (\n    <Box\n      key={String(x) + \",\" + String(z) + \"left\"}\n      args={[width, height, depth]}\n      rotation={[0, Math.PI * 0.5, 0]}\n      position={[x, 0, z + width / 2]}\n    >\n      <meshPhongMaterial color=\"orange\" attach=\"material\" />\n    </Box>\n  );\n}\n\nexport function Walls({\n  numX,\n  numZ,\n  wallTop,\n  wallLeft,\n  blockWidth,\n  blockHeight,\n  blockDepth,\n  mazeWidth,\n  mazeDepth,\n}) {\n  const walls = [];\n  for (let i = 0; i < numX + 1; i++) {\n    for (let j = 0; j < numZ + 1; j++) {\n      if (wallTop[i + (numX + 1) * j]) {\n        walls.push(\n          GenHorizontalWall(\n            -mazeWidth / 2 + i * blockWidth - blockDepth / 2,\n            -mazeDepth / 2 + j * blockWidth,\n            blockWidth + blockDepth,\n            blockHeight,\n            blockDepth\n          )\n        );\n      }\n      if (wallLeft[i + (numX + 1) * j]) {\n        walls.push(\n          GenVerticalWall(\n            -mazeWidth / 2 + i * blockWidth,\n            -mazeDepth / 2 + j * blockWidth - blockDepth / 2,\n            blockWidth + blockDepth,\n            blockHeight,\n            blockDepth\n          )\n        );\n      }\n    }\n  }\n  walls.push(\n    <Box\n      key={\"entrance\"}\n      args={[blockWidth + blockDepth, blockHeight, blockDepth]}\n      rotation={[0, 0, 0]}\n      position={[\n        -mazeWidth / 2 + (numX - 0.5) * blockWidth - blockDepth / 2,\n        0,\n        -mazeDepth / 2 + numZ * blockWidth,\n      ]}\n    >\n      <meshPhongMaterial\n        color=\"blue\"\n        attach=\"material\"\n        transparent\n        opacity={0.2}\n      />\n      <Text\n        color={\"#db5c27\"}\n        fontSize={2}\n        maxWidth={200}\n        lineHeight={1}\n        letterSpacing={0.02}\n        textAlign={\"left\"}\n        font=\"https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff\"\n        anchorX={blockWidth / 5}\n        anchorY=\"100%\"\n        depthOffset={10}\n      >\n        Entrance\n      </Text>\n    </Box>\n  );\n  walls.push(\n    <Box\n      key={\"exit\"}\n      args={[blockWidth + blockDepth, blockHeight, blockDepth]}\n      rotation={[0, Math.PI * 0.5, 0]}\n      position={[\n        -mazeWidth / 2,\n        0,\n        -mazeDepth / 2 - blockDepth / 2 + blockWidth / 2,\n      ]}\n    >\n      <meshPhongMaterial\n        color=\"green\"\n        attach=\"material\"\n        transparent\n        opacity={0.2}\n      />\n      <Text\n        color={\"#db5c27\"}\n        fontSize={2}\n        maxWidth={200}\n        lineHeight={1}\n        letterSpacing={0.02}\n        textAlign={\"left\"}\n        font=\"https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff\"\n        anchorX={blockWidth / 8}\n        anchorY=\"100%\"\n        depthOffset={10}\n      >\n        Exit\n      </Text>\n    </Box>\n  );\n\n  return <group name=\"walls\">{walls}</group>;\n}\n","import * as React from \"react\";\nimport { ReactReduxContext } from \"react-redux\";\nimport { Canvas } from \"react-three-fiber\";\nimport { Sky, Stars, Plane, useContextBridge, Html } from \"@react-three/drei\";\nimport { LabyrinthCamera } from \"./LabyrinthCamera\";\nimport { Walls } from \"./Walls\";\nimport styles from \"./labyrinthView.module.css\";\n\nexport function LabyrinthView({\n  numX,\n  numZ,\n  blockWidth,\n  blockHeight,\n  blockDepth,\n  mazeWidth,\n  mazeDepth,\n  wallTop,\n  wallLeft,\n  darkModeIsOn,\n}) {\n  // Direction definination:\n  //\n  //             top\n  //      ^\n  //      |\n  //      | z\n  //      |\n  // left | a             right\n  //      | x\n  //      | i\n  //      | s\n  //      |______________>\n  //            x axis\n  //\n  //            bottom\n\n  // WallLeft and wall top are two conceptual matrix of booleans(they are flattened to arrays for performance), recording\n  // whether a wall exist or not for a certain cell.\n  //\n  // wallTop: whether the wall on the top(in the 2D world) of a cell exists\n  // wallLeft: whether the wall on the left of a cell exists\n  // The isExist information for the wall on the right of the cell is provided by the wallLeft of the cell's right neighbour cell, so as for\n  // the bottom wall.\n  //\n  // To lookup the top wall info cell(x, y), we call wallTop[x + y*numZ]\n\n  // Starting point in the x and z axis(this is coordinate, not index)\n  const startCoordX = (-numX * blockWidth) / 2;\n  const startCoordZ = (-numZ * blockWidth) / 2;\n  // Get the current view coordinate\n  const posCoordX = -blockWidth / 2 + numX * blockWidth + startCoordX;\n  const posCoordZ = -blockWidth / 2 + (numZ + 1) * blockWidth + startCoordZ;\n  // Needed to use react-redux in react-three-fiber canvas.\n  // For details: https://standard.ai/blog/introducing-standard-view-and-react-three-fiber-context-bridge/\n  const ContextBridge = useContextBridge(ReactReduxContext);\n  return (\n    <div className={styles.canvasDiv}>\n      <Canvas\n        camera={{\n          fov: 80,\n          position: [posCoordX, 0, posCoordZ + blockWidth],\n          far: 20000,\n        }}\n      >\n        <ContextBridge>\n          <LabyrinthCamera\n            blockWidth={blockWidth}\n            startCoordX={startCoordX}\n            startCoordZ={startCoordZ}\n            cameraInitCoordX={posCoordX}\n            cameraInitCoordZ={posCoordZ}\n            moveSpeed={0.5}\n            turnSpeed={2}\n          />\n        </ContextBridge>\n        <ambientLight color=\"#ffffff\" intensity={0.4} />\n        {/* Reference: https://drei.pmnd.rs/?path=/story/shaders-softshadows--soft-shadows-st\n            Make the light the same direction with the sun\n        */}\n        {darkModeIsOn ? null : (\n          <directionalLight\n            position={[-500, 20, startCoordZ + blockWidth / 2]}\n            intensity={1.5}\n          />\n        )}\n        <Walls\n          numX={numX}\n          numZ={numZ}\n          wallTop={wallTop}\n          wallLeft={wallLeft}\n          blockWidth={blockWidth}\n          blockHeight={blockHeight}\n          blockDepth={blockDepth}\n          mazeWidth={mazeWidth}\n          mazeDepth={mazeDepth}\n        />\n        {darkModeIsOn ? null : (\n          <Sky\n            distance={10000} // Camera distance (default=450000)\n            // Sun position normal(Make the exit faces the sun, x should be less than -mazeWidth+blockWidth,\n            // y should be greater than 0, z should be -mazeHeight+blockWidth)\n            sunPosition={[-500, blockHeight, startCoordZ + blockWidth / 2]}\n            inclination={0} // Sun elevation angle from 0 to 1 (default=0)\n            azimuth={0.25} // Sun rotation around the Y axis from 0 to 1 (default=0.25)\n          />\n        )}\n        {/* Referenced from https://github.com/pmndrs/drei#stars */}\n        <Stars\n          radius={mazeWidth * 2} // Radius of the inner sphere (default=100)\n          depth={50} // Depth of area where stars should fit (default=50)\n          count={5000} // Amount of stars (default=5000)\n          factor={20 * (numX / 5)} // Size factor (default=4)\n          saturation={0} // Saturation 0-1 (default=0)\n          fade // Faded dots (default=false)\n        />\n        <Plane\n          rotation-x={-Math.PI / 2}\n          position={[0, -blockHeight / 2, 0]}\n          args={[mazeWidth, mazeDepth, 4, 4]}\n        >\n          <meshBasicMaterial attach=\"material\" opacity={0.5} color=\"#405940\" />\n        </Plane>\n        {darkModeIsOn ? (\n          <fog attach=\"fog\" args={[\"black\", 0, blockWidth]} />\n        ) : null}\n      </Canvas>\n    </div>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const UNINIT = 0;\nexport const READY = 1;\nexport const RUNNING = 2;\nexport const PAUSE = 3;\n\nexport const elapseTimerSlice = createSlice({\n  name: \"elapseTimer\",\n  initialState: {\n    curNumSeconds: 0,\n    status: UNINIT,\n    intervalHasSet: false,\n    timeout: 0,\n  },\n  reducers: {\n    countUp: (state) => {\n      if (state.status === RUNNING) {\n        state.curNumSeconds += 1;\n      }\n    },\n    pauseCount: (state) => {\n      state.status = PAUSE;\n    },\n    resumeCount: (state) => {\n      state.status = RUNNING;\n    },\n    readyCount: (state) => {\n      state.status = READY;\n    },\n    resetCount: (state) => {\n      state.curNumSeconds = 0;\n    },\n    adjustCountByAmount: (state, action) => {\n      state.curNumSeconds += action.payload;\n    },\n    markIntervalSet: (state) => {\n      state.intervalHasSet = true;\n    },\n    assignTimeout: (state, action) => {\n      state.timeout = action.payload;\n    }\n  },\n});\n\nexport const {\n  countUp,\n  pauseCount,\n  resumeCount,\n  resetCount,\n  readyCount,\n  adjustCountByAmount,\n  markIntervalSet,\n  assignTimeout,\n} = elapseTimerSlice.actions;\n\nexport const selectCurNumSeconds = (state) => state.elapseTimer.curNumSeconds;\nexport const selectStatus = (state) => state.elapseTimer.status;\nexport const selectIntervalHasSet = (state) => state.elapseTimer.intervalHasSet;\nexport const selectTimeout = (state) => state.elapseTimer.timeout;\n\nexport default elapseTimerSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst INITIAL_PRESENSE = false;\nexport const NOT_PRESENT = 0;\nexport const EVENT_WINDOW = 1;\nexport const HELPER_WINDOW = 2;\nexport const CONFIRM_WINDOW = 3;\n\nexport const popUpWindowSlice = createSlice({\n  name: \"popUpWindow\",\n  initialState: {\n    smallPopUpPresense: INITIAL_PRESENSE,\n    smallPopIsToOpen: INITIAL_PRESENSE,\n    bigPopUpPresense: NOT_PRESENT,\n    bigPopUpIsToOpen: NOT_PRESENT,\n  },\n  reducers: {\n    enableSmallPopUpPresense: (state) => {\n      state.smallPopUpPresense = true;\n    },\n    disableSmallPopUpPresense: (state) => {\n      state.smallPopUpPresense = false;\n    },\n    enableSmallPopUpIsToOpen: (state) => {\n      state.smallPopIsToOpen = true;\n    },\n    disableSmallPopUpIsToOpen: (state) => {\n      state.smallPopIsToOpen = false;\n    },\n    enableBigPopUpPresense: (state, action) => {\n      state.bigPopUpPresense = action.payload;\n    },\n    disableBigPopUpPresense: (state) => {\n      state.bigPopUpPresense = false;\n    },\n    enableBigPopUpIsToOpen: (state, action) => {\n      state.bigPopUpIsToOpen = action.payload;\n    },\n    disableBigPopUpIsToOpen: (state) => {\n      state.bigPopUpIsToOpen = NOT_PRESENT;\n    },\n  },\n});\n\nexport const {\n  enableSmallPopUpPresense,\n  disableSmallPopUpPresense,\n  enableSmallPopUpIsToOpen,\n  disableSmallPopUpIsToOpen,\n  enableBigPopUpPresense,\n  disableBigPopUpPresense,\n  enableBigPopUpIsToOpen,\n  disableBigPopUpIsToOpen,\n} = popUpWindowSlice.actions;\n\nexport const selectSmallPopUpPresense = (state) =>\n  state.popUpWindow.smallPopUpPresense;\nexport const selectSmallPopUpIsToOpen = (state) =>\n  state.popUpWindow.smallPopIsToOpen;\nexport const selectBigPopUpPresense = (state) =>\n  state.popUpWindow.bigPopUpPresense;\nexport const selectBigPopUpIsToOpen = (state) =>\n  state.popUpWindow.bigPopUpIsToOpen;\n\nexport default popUpWindowSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  enableBigPopUpPresense,\n  selectBigPopUpPresense,\n  selectBigPopUpIsToOpen,\n  disableBigPopUpIsToOpen,\n} from \"../reducers/popUpWindowSlice\";\nimport styles from \"./bigPopUpWindow.module.css\";\nimport Modal from \"react-modal\";\nimport { pauseCount } from \"../reducers/elapseTimerSlice\";\nimport { pauseAction } from \"../reducers/controlSlice\";\n\nconst BigPopUpWindow = (props) => {\n  const dispatch = useDispatch();\n  const isToOpen = useSelector(selectBigPopUpIsToOpen);\n  useEffect(() => {\n    if (isToOpen === props.openType) {\n      dispatch(enableBigPopUpPresense(props.openType));\n      dispatch(pauseAction());\n      dispatch(disableBigPopUpIsToOpen());\n    }\n  });\n\n  const isOpen = useSelector(selectBigPopUpPresense) === props.openType;\n  useEffect(() => {\n    if (isOpen) {\n      dispatch(pauseCount());\n    }\n  });\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      className={styles.popup}\n      overlayClassName={styles.overlay}\n      closeTimeoutMS={500}\n    >\n      <img src={props.background} className={styles.backgroundPic} alt={\"\"} />\n\n      <div className={styles.content}>\n        {props.children}\n        <div className={styles.buttonsection}>{props.buttons}</div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default BigPopUpWindow;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  disableSmallPopUpPresense,\n  enableSmallPopUpPresense,\n  selectSmallPopUpPresense,\n  selectSmallPopUpIsToOpen,\n  disableSmallPopUpIsToOpen,\n} from \"../reducers/popUpWindowSlice\";\nimport styles from \"./smallPopUpWindow.module.css\";\n\nconst SmallPopUpWindow = (props) => {\n  const dispatch = useDispatch();\n  const isToOpen = useSelector(selectSmallPopUpIsToOpen);\n  useEffect(() => {\n    if (isToOpen) {\n      dispatch(enableSmallPopUpPresense());\n      dispatch(disableSmallPopUpIsToOpen());\n    }\n  });\n  const handlePresenseChange = () => {\n    dispatch(disableSmallPopUpPresense());\n  };\n\n  useEffect(() => {\n    setTimeout(handlePresenseChange, 2000);\n  });\n  const isOpen = useSelector(selectSmallPopUpPresense);\n\n  return (\n    isOpen && (\n      <div className={styles.content}>\n        {props.children}\n        <div className={styles.buttonsection}>{props.buttons}</div>\n      </div>\n    )\n  );\n};\n\nexport default SmallPopUpWindow;\n","export default __webpack_public_path__ + \"static/media/bigWindowBackground.851d04fd.png\";","import { createSlice } from \"@reduxjs/toolkit\";\nimport { compareNumbers } from \"../commons/utils\";\n\nexport const leaderboardSlice = createSlice({\n  name: \"leaderboard\",\n  initialState: {\n    list: [],\n  },\n  reducers: {\n    appendToLeaderBoard: (state, action) => {\n      state.list.push(action.payload);\n      state.list.sort(compareNumbers);\n      if (state.list.length > 10) {\n        state.list.pop();\n      }\n    },\n  },\n});\n\nexport const { appendToLeaderBoard } = leaderboardSlice.actions;\n\nexport const selectList = (state) => state.leaderboard.list;\n\nexport default leaderboardSlice.reducer;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectList } from \"../reducers/leaderboardSlice\";\nimport styles from \"./leaderboard.module.css\";\n\nexport function LeaderboardRow({ time, index }) {\n  return (\n    <div className={styles.leaderRow}>\n      <span className={styles.order}>{index + 1}.</span>\n      <span key={index} className={styles.entry}>\n        {Math.floor(time / 3600)} H {Math.floor(time / 60)} M {time % 60} S\n      </span>\n    </div>\n  );\n}\n\nexport function LearderboardSection(props) {\n  const leaderList = useSelector(selectList);\n  return (\n    <React.Fragment>\n      <h1>Leaderboard</h1>\n      <div className={styles.leaderSection}>\n        {leaderList.map((x, index) => (\n          <LeaderboardRow key={index} index={index} time={x} />\n        ))}\n      </div>\n    </React.Fragment>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/sun.37d40077.png\";","export default __webpack_public_path__ + \"static/media/night.bde826a9.png\";","export default __webpack_public_path__ + \"static/media/rocket.b58a9096.png\";","export default __webpack_public_path__ + \"static/media/turtleicon.fcc4bf50.png\";","export default __webpack_public_path__ + \"static/media/mapicon.376644ec.png\";","export default __webpack_public_path__ + \"static/media/mapoff.c19d97f2.png\";","export default __webpack_public_path__ + \"static/media/hpbonus.8a59cfa8.png\";","export default __webpack_public_path__ + \"static/media/battle.8585994a.png\";","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  assignInit,\n  assignResetEvent,\n  NOTHING,\n  RANDOM_EVENT,\n  resumeAction,\n} from \"../reducers/controlSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  readyCount,\n  selectCurNumSeconds,\n  resumeCount,\n  resetCount,\n} from \"../reducers/elapseTimerSlice\";\nimport { resetPlayerStatus } from \"../reducers/playerStatusSlice\";\nimport BigPopUpWindow from \"./BigPopUpWindow\";\nimport SmallPopUpWindow from \"./SmallPopUpWindow\";\nimport {\n  EVENT_WINDOW,\n  disableBigPopUpPresense,\n  enableBigPopUpIsToOpen,\n  enableSmallPopUpIsToOpen,\n} from \"../reducers/popUpWindowSlice\";\nimport { partialApply, genRandomInt } from \"../commons/utils\";\nimport background from \"../images/bigWindowBackground.png\";\nimport { appendToLeaderBoard } from \"../reducers/leaderboardSlice\";\nimport {\n  usePositiveEffectSound,\n  useNegativeEffectSound,\n  useGameCompletionSound,\n  useConfrontBattleSound,\n  useNeutralEffectSound,\n  useGameOverSound,\n} from \"../commons/SoundHooks\";\nimport {\n  decreaseHP,\n  increaseHP,\n  removeABuff,\n  removeADebuff,\n  resetBuffAndDebuff,\n  addABuff,\n  addADebuff,\n  DARK_MODE_ON,\n  DARK_MODE_OFF,\n  MINI_MAP_ON,\n  MINI_MAP_OFF,\n  SPEED_UP,\n  SPEED_DOWN,\n} from \"../reducers/playerStatusSlice\";\nimport { playBGM, stopBGM } from \"../reducers/backgroundMusicSlice\";\nimport { LearderboardSection } from \"./Leaderboard\";\nimport styles from \"./eventManager.module.css\";\nimport dayIcon from \"../images/sun.png\";\nimport nightIcon from \"../images/night.png\";\nimport rocket from \"../images/rocket.png\";\nimport turtleIcon from \"../images/turtleicon.png\";\nimport mapOnIcon from \"../images/mapicon.png\";\nimport mapOffIcon from \"../images/mapoff.png\";\nimport hpBonusIcon from \"../images/hpbonus.png\";\n// Ref:https://www.flaticon.com/free-icon/battle_1732452\nimport battleIcon from \"../images/battle.png\";\n\nconst NUM_DEBUFF_TYPE = 3;\nconst DARK_MODE_ID = 0;\nconst SPEED_DOWN_ID = 1;\nconst HIDE_MINI_MAP = 2;\n\nconst NUM_BUFF_TYPE = 4;\nconst BRIGHT_MODE_ID = 0;\nconst SPEED_UP_ID = 1;\nconst SHOW_MINI_MAP = 2;\nconst HP_UP_BY_TEN = 3;\n\nconst RANDOM_ID_MAX = 100;\nconst RANDOM_ID_WITHHOLD = 33;\n\nconst NUM_RANDOM_EVENT_TYPE = NUM_DEBUFF_TYPE + NUM_BUFF_TYPE + 2;\n\nconst POSITIVE_EFFECT_EVENT = 0;\nconst NEGATIVE_EFFECT_EVENT = 1;\nconst NEUTRAL_EFFECT_EVENT = 2;\nconst CONFRONT_BATTLE_EVENT = 3;\n\nconst START_GAME_EVENT = 4;\nconst END_GAME_EVENT = 5;\nconst GAME_FAIL_EVENT = 6;\n\nfunction StartEventRender() {\n  const dispatch = useDispatch();\n  const buttons = (\n    <div\n      onClick={() => {\n        dispatch(resumeCount());\n        dispatch(resumeAction());\n        dispatch(disableBigPopUpPresense());\n      }}\n    >\n      Play now!\n    </div>\n  );\n  return (\n    <BigPopUpWindow\n      buttons={buttons}\n      background={background}\n      openType={EVENT_WINDOW}\n    >\n      <h1>You are in a maze</h1>\n      <div>This is a dangerous maze, good luck!</div>\n    </BigPopUpWindow>\n  );\n}\n\nfunction startEventCallback(dispatch) {\n  dispatch(readyCount());\n}\n\nfunction EndEventRender() {\n  const time = useSelector(selectCurNumSeconds);\n  const [isShowLeaderboard, setIsShowLeaderboard] = useState(false);\n  const hasAppend = useRef(false);\n  const dispatch = useDispatch();\n  console.log(hasAppend.current);\n  useEffect(() => {\n    if (!hasAppend.current) {\n      console.log(\"appended\");\n      dispatch(appendToLeaderBoard(time));\n      hasAppend.current = true;\n    }\n  });\n  const handleLeaderboard = () => {\n    if (isShowLeaderboard) {\n      setIsShowLeaderboard(false);\n    } else {\n      setIsShowLeaderboard(true);\n    }\n  };\n\n  const buttons = (\n    <React.Fragment>\n      <div\n        onClick={() => {\n          dispatch(resumeAction());\n          dispatch(resetPlayerStatus());\n          dispatch(resetCount());\n          dispatch(assignInit(false));\n          dispatch(disableBigPopUpPresense());\n        }}\n      >\n        {\" \"}\n        Play Again\n      </div>\n      <div onClick={() => handleLeaderboard()}>\n        {\" \"}\n        {isShowLeaderboard ? \"Go back\" : \"See the leaderboard\"}{\" \"}\n      </div>\n    </React.Fragment>\n  );\n\n  return (\n    <BigPopUpWindow\n      buttons={buttons}\n      background={background}\n      openType={EVENT_WINDOW}\n    >\n      {isShowLeaderboard ? (\n        <LearderboardSection />\n      ) : (\n        <>\n          <h1>Congrats!</h1>\n          <div>You've passed the maze within {time} seconds!</div>\n        </>\n      )}\n    </BigPopUpWindow>\n  );\n}\n\nfunction FailGameEventRender() {\n  const dispatch = useDispatch();\n  const buttons = (\n    <React.Fragment>\n      <div\n        onClick={() => {\n          dispatch(resumeAction());\n          dispatch(resetPlayerStatus());\n          dispatch(resetCount());\n          dispatch(assignInit(false));\n          dispatch(disableBigPopUpPresense());\n        }}\n      >\n        {\" \"}\n        Try again{\" \"}\n      </div>\n      <div> See the leaderboard </div>\n    </React.Fragment>\n  );\n\n  return (\n    <BigPopUpWindow\n      buttons={buttons}\n      background={background}\n      openType={EVENT_WINDOW}\n    >\n      <h1>Oops!</h1>\n      <div>You've failed the game ()!</div>\n    </BigPopUpWindow>\n  );\n}\n\n// function endEventCallback(dispatch, playGameCompletionSound) {\nfunction endEventCallback(dispatch, play) {\n  play();\n}\n\n// With a Strong wind, all buff and debuff are cleared.\n// function strongWindEventCallBack(dispatch, playNeutralEffectSound) {\nfunction strongWindEventCallBack(dispatch, play, gameMode) {\n  play();\n  dispatch(resetBuffAndDebuff());\n  if (gameMode === \"hard\") {\n    dispatch(addADebuff(DARK_MODE_ON));\n    dispatch(removeABuff(DARK_MODE_OFF));\n  } else {\n    dispatch(addABuff(DARK_MODE_OFF));\n    dispatch(removeADebuff(DARK_MODE_ON));\n  }\n  dispatch(addADebuff(MINI_MAP_OFF));\n  dispatch(removeABuff(MINI_MAP_ON));\n}\n\nfunction StrongWindEventRender() {\n  return (\n    <SmallPopUpWindow>\n      <h1>Wow!</h1>\n      <div>You've been applied A strong wind!</div>\n      <div>\n        <span className={styles.neutralKeywords}>All effects are cleared!</span>\n      </div>\n    </SmallPopUpWindow>\n  );\n}\n\n// The smelly wind will add debuff: darkmode, minimap off, slowly move.\n// function smellyWindEventCallBack(debuffID, dispatch, playNegativeEffectSound) {\nfunction smellyWindEventCallBack(debuffId, dispatch, play) {\n  play();\n  // Generate a random debuff\n  switch (debuffId) {\n    case DARK_MODE_ID:\n      dispatch(addADebuff(DARK_MODE_ON));\n      dispatch(removeABuff(DARK_MODE_OFF));\n      break;\n    case SPEED_DOWN_ID:\n      dispatch(addADebuff(SPEED_DOWN));\n      dispatch(removeABuff(SPEED_UP));\n      break;\n    case HIDE_MINI_MAP:\n      dispatch(addADebuff(MINI_MAP_OFF));\n      dispatch(removeABuff(MINI_MAP_ON));\n      break;\n    default:\n      break;\n  }\n}\n\nfunction confrontBattleCallBack(HP, dispatch, play) {\n  play();\n  dispatch(decreaseHP(HP));\n}\n\nfunction SmellyWindEventRender({ debuffId }) {\n  let specificEventContent = <></>;\n  let specificIcon = <></>;\n  switch (debuffId) {\n    case DARK_MODE_ID:\n      specificIcon = (\n        <img className={styles.icon} src={nightIcon} alt=\"Dark mode\" />\n      );\n      specificEventContent = (\n        <div>\n          <span className={styles.negativeKeywords}>Dark Mode</span> is on!\n        </div>\n      );\n      break;\n    case SPEED_DOWN_ID:\n      specificIcon = (\n        <img className={styles.icon} src={turtleIcon} alt=\"Slow down\" />\n      );\n      specificEventContent = (\n        <div>\n          Your speed is{\" \"}\n          <span className={styles.negativeKeywords}>slowed down</span>!\n        </div>\n      );\n      break;\n    case HIDE_MINI_MAP:\n      specificIcon = (\n        <img className={styles.icon} src={mapOffIcon} alt=\"Mini map off\" />\n      );\n      specificEventContent = (\n        <div>\n          <span className={styles.negativeKeywords}>Mini map</span> is gone!\n        </div>\n      );\n      break;\n    default:\n      break;\n  }\n  return (\n    <SmallPopUpWindow>\n      {specificIcon}\n      <h1>Oh no!</h1>\n      <div>You met a smelly wind...</div>\n      {specificEventContent}\n    </SmallPopUpWindow>\n  );\n}\n\nfunction BattleEventRender({ HP }) {\n  return (\n    <SmallPopUpWindow>\n      <img className={styles.icon} src={battleIcon} alt=\"Battle Event\" />{\" \"}\n      <h1>Oh no!</h1>\n      <div>You fought with an monster...</div>\n      <div>\n        Your lost <span className={styles.negativeKeywords}>{HP} HP</span>!\n      </div>\n    </SmallPopUpWindow>\n  );\n}\n\nfunction FreshWindEventRender({ buffId }) {\n  let specificEventContent = <></>;\n  let specificIcon = <></>;\n  switch (buffId) {\n    case BRIGHT_MODE_ID:\n      specificIcon = (\n        <img className={styles.icon} src={dayIcon} alt=\"Day mode\" />\n      );\n\n      specificEventContent = (\n        <div>\n          <span className={styles.positiveKeywords}>Bright mode</span> is on!\n        </div>\n      );\n      break;\n    case SPEED_UP_ID:\n      specificIcon = (\n        <img className={styles.icon} src={rocket} alt=\"Speed up\" />\n      );\n      specificEventContent = (\n        <div>\n          <span className={styles.positiveKeywords}>Speed up</span> is applied\n          to you!\n        </div>\n      );\n      break;\n    case SHOW_MINI_MAP:\n      specificIcon = (\n        <img className={styles.icon} src={mapOnIcon} alt=\"Minimap on\" />\n      );\n      specificEventContent = (\n        <div>\n          <span className={styles.positiveKeywords}>Mini map</span> is shown for\n          you!\n        </div>\n      );\n      break;\n    case HP_UP_BY_TEN:\n      specificIcon = (\n        <img className={styles.icon} src={hpBonusIcon} alt=\"HP bouns\" />\n      );\n      specificEventContent = (\n        <div>\n          Your got <span className={styles.positiveKeywords}>10 HP</span>!\n        </div>\n      );\n      break;\n    default:\n      break;\n  }\n  return (\n    <SmallPopUpWindow>\n      {specificIcon}\n      <h1>Great!</h1>\n      <div>A fresh wind brought you something helpful! </div>\n      {specificEventContent}\n    </SmallPopUpWindow>\n  );\n}\n\n// With a Fresh wind, one buff is added: brightmode, minimap on, faster move.\n// function freshWindEventCallBack(buffId, dispatch, playPositiveEffectSound) {\nfunction freshWindEventCallBack(buffId, dispatch, play) {\n  play();\n  // Generate a random buff\n  switch (buffId) {\n    case BRIGHT_MODE_ID:\n      dispatch(addABuff(DARK_MODE_OFF));\n      dispatch(removeADebuff(DARK_MODE_ON));\n      break;\n    case SPEED_UP_ID:\n      dispatch(addABuff(SPEED_UP));\n      dispatch(removeADebuff(SPEED_DOWN));\n      break;\n    case SHOW_MINI_MAP:\n      dispatch(addABuff(MINI_MAP_ON));\n      dispatch(removeADebuff(MINI_MAP_OFF));\n      break;\n    case HP_UP_BY_TEN:\n      dispatch(increaseHP(10));\n      break;\n    default:\n      break;\n  }\n}\n\nclass Event {\n  constructor(toRender, callBack, eventTypeId) {\n    this.toRender = toRender;\n    this.callBack = callBack;\n    this.eventTypeId = eventTypeId;\n  }\n}\n\nfunction initEventMap(numX, numZ, gameMode) {\n  const eventMap = Array(numX * numZ + 1).fill(null);\n  eventMap[numX * (numZ - 1) + numX - 1] = new Event(\n    <StartEventRender />,\n    startEventCallback,\n    START_GAME_EVENT\n  );\n  eventMap[0] = new Event(<EndEventRender />, endEventCallback, END_GAME_EVENT);\n  eventMap[numX * numZ + 1] = new Event(\n    <FailGameEventRender />,\n    endEventCallback,\n    GAME_FAIL_EVENT\n  );\n  if (gameMode !== \"pure\") {\n    for (let i = numX * (numZ - 1) + numX - 2; i > 0; i--) {\n      const randomID = genRandomInt(RANDOM_ID_MAX);\n      // Make only about RANDOM_ID_WITHHOLD/RANDOM_ID_MAX cells have events\n      if (randomID < RANDOM_ID_WITHHOLD) {\n        // Only 1/(NUM_BUFF_TYPE + NUM_DEBUFF_TYPE + 1) type event is netural\n        if (randomID < RANDOM_ID_WITHHOLD / NUM_RANDOM_EVENT_TYPE) {\n          eventMap[i] = new Event(\n            <StrongWindEventRender />,\n            strongWindEventCallBack,\n            NEUTRAL_EFFECT_EVENT\n          );\n        } else if (\n          randomID <\n          (RANDOM_ID_WITHHOLD / NUM_RANDOM_EVENT_TYPE) * 3\n        ) {\n          let HP = genRandomInt(40) + 1;\n          eventMap[i] = new Event(\n            <BattleEventRender HP={HP}/>,\n            partialApply(confrontBattleCallBack, HP),\n            CONFRONT_BATTLE_EVENT\n          );\n        } else if (\n          randomID <\n          (RANDOM_ID_WITHHOLD / NUM_RANDOM_EVENT_TYPE) * (4 + NUM_BUFF_TYPE)\n        ) {\n          const buffId = genRandomInt(NUM_BUFF_TYPE);\n          eventMap[i] = new Event(\n            <FreshWindEventRender buffId={buffId} />,\n            partialApply(freshWindEventCallBack, buffId),\n            POSITIVE_EFFECT_EVENT\n          );\n        } else {\n          const debuffId = genRandomInt(NUM_DEBUFF_TYPE);\n          eventMap[i] = new Event(\n            <SmellyWindEventRender debuffId={debuffId} />,\n            partialApply(smellyWindEventCallBack, debuffId),\n            NEGATIVE_EFFECT_EVENT\n          );\n        }\n      }\n    }\n  }\n  return eventMap;\n}\n\nexport function EventManager({\n  discovered,\n  posX,\n  posZ,\n  numX,\n  numZ,\n  currentAction,\n  isResetEvent,\n  isGameFail,\n  gameMode,\n}) {\n  const [eventMap, setEventMap] = useState(initEventMap(numX, numZ, gameMode));\n\n  const currentRender = useRef(null);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (isResetEvent) {\n      setEventMap(initEventMap(numX, numZ, gameMode));\n      dispatch(assignResetEvent(false));\n    }\n  }, [isResetEvent, numX, numZ, gameMode, dispatch]);\n  const { play: playGameCompletionSound } = useGameCompletionSound();\n  const { play: playPositiveEffectSound } = usePositiveEffectSound();\n  const { play: playNegativeEffectSound } = useNegativeEffectSound();\n  const { play: playNeutralEffectSound } = useNeutralEffectSound();\n  // TODO: add confront battle event\n  const { play: playConfrontBattleSound } = useConfrontBattleSound();\n  const { play: playGameOverSound } = useGameOverSound();\n\n  let currentIndex = posZ * numX + posX;\n\n  if (isGameFail) {\n    currentIndex = numX * numZ + 1;\n  }\n\n  let currentCallback = () => {};\n  const callBackCommonTail = () => {\n    if (currentAction === NOTHING) {\n      discovered.current[currentIndex] = true;\n    }\n  };\n\n  if (currentAction === NOTHING || currentAction === RANDOM_EVENT) {\n    if (eventMap[currentIndex]) {\n      if (!discovered.current[currentIndex]) {\n        const { toRender, callBack, eventTypeId } = eventMap[currentIndex];\n        currentRender.current = toRender;\n        switch (eventTypeId) {\n          case START_GAME_EVENT:\n            currentCallback = () => {\n              callBack(dispatch);\n              dispatch(playBGM());\n              dispatch(enableBigPopUpIsToOpen(EVENT_WINDOW));\n            };\n            break;\n          case END_GAME_EVENT:\n            currentCallback = () => {\n              callBack(dispatch, playGameCompletionSound);\n              dispatch(stopBGM());\n              dispatch(enableBigPopUpIsToOpen(EVENT_WINDOW));\n            };\n            break;\n          case POSITIVE_EFFECT_EVENT:\n            currentCallback = () => {\n              callBack(dispatch, playPositiveEffectSound);\n              dispatch(enableSmallPopUpIsToOpen());\n            };\n            break;\n          case NEGATIVE_EFFECT_EVENT:\n            currentCallback = () => {\n              callBack(dispatch, playNegativeEffectSound);\n              dispatch(enableSmallPopUpIsToOpen());\n            };\n            break;\n          case CONFRONT_BATTLE_EVENT:\n            currentCallback = () => {\n              callBack(dispatch, playConfrontBattleSound);\n              dispatch(enableSmallPopUpIsToOpen());\n            };\n            break;\n          case NEUTRAL_EFFECT_EVENT:\n            currentCallback = () => {\n              callBack(dispatch, playNeutralEffectSound, gameMode);\n              dispatch(enableSmallPopUpIsToOpen());\n            };\n            break;\n          case GAME_FAIL_EVENT:\n            currentCallback = () => {\n              callBack(dispatch, playGameOverSound);\n              dispatch(stopBGM());\n              dispatch(enableBigPopUpIsToOpen(EVENT_WINDOW));\n            };\n            break;\n          // TODO: add confront battle event\n          // case CONFRONT_BATTLE_EVENT:\n          //   currentCallback = () => { callBack(dispatch, playConfrontBattleSound); dispatch(enableIsToOpen()) };\n          //   break;\n          default:\n            break;\n        }\n      }\n    }\n  }\n  useEffect(() => {\n    currentCallback();\n    callBackCommonTail();\n  });\n  return currentRender.current;\n}\n","import React from \"react\";\nimport styles from \"./miniMap.module.css\";\n\nexport function MiniMap({\n  discovered,\n  numX,\n  numZ,\n  posX,\n  posZ,\n  wallLeft,\n  wallTop,\n  miniMapIsOn,\n}) {\n  const display = [];\n  for (let i = 0; i < numZ; i++) {\n    let currentRow = [];\n    for (let j = 0; j < numX; j++) {\n      if (discovered.current[i * numX + j] || (posX === j && posZ === i)) {\n        currentRow.push(\n          <div\n            className={styles.square}\n            key={String(i) + \",\" + String(j)}\n            style={{\n              borderTop: wallTop[i * (numX + 1) + j]\n                ? \"0.5px solid white\"\n                : \"0.5px solid rgba(240, 248, 255, 0.25)\",\n              borderLeft: wallLeft[i * (numX + 1) + j]\n                ? \"0.5px solid white\"\n                : \"0.5px solid rgba(240, 248, 255, 0.25)\",\n              borderBottom: wallTop[(i + 1) * (numX + 1) + j]\n                ? \"0.5px solid white\"\n                : \"0.5px solid rgba(240, 248, 255, 0.25)\",\n              borderRight: wallLeft[i * (numX + 1) + j + 1]\n                ? \"0.5px solid white\"\n                : \"0.5px solid rgba(240, 248, 255, 0.25)\",\n              backgroundColor:\n                posX === j && posZ === i\n                  ? \"rgb(37, 110, 194)\"\n                  : \"rgba(240, 248, 255, 0.5)\",\n            }}\n          ></div>\n        );\n      } else {\n        currentRow.push(\n          <div\n            className={styles.square}\n            key={String(i) + \",\" + String(j)}\n            style={{\n              borderTop: \"0.5px solid rgba(0, 0, 0, 0.1)\",\n              borderLeft: \"0.5px solid rgba(0, 0, 0, 0.1)\",\n              borderBottom: \"0.5px solid rgba(0, 0, 0, 0.1)\",\n              borderRight: \"0.5px solid rgba(0, 0, 0, 0.1)\",\n              backgroundColor: \"rgba(0, 0, 0, 0.1)\",\n            }}\n          ></div>\n        );\n      }\n    }\n    display.push(\n      <div className={styles.broadRow} key={\"border\" + String(i)}>\n        {currentRow}\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <div></div>\n      <div className={styles.map}>{miniMapIsOn ? display : null}</div>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/heart-icon.5f6c67fd.png\";","export default __webpack_public_path__ + \"static/media/normalclock.bdc92f27.png\";","export default __webpack_public_path__ + \"static/media/outoftimeclock.c12811a4.png\";","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  selectStatus,\n  countUp,\n  resumeCount,\n  READY,\n  selectIntervalHasSet,\n  markIntervalSet,\n  selectCurNumSeconds,\n} from \"../reducers/elapseTimerSlice\";\nimport styles from \"./elapseTimer.module.css\";\n\n// A timer recording elapse time.\nexport default function ElapseTimer({ mode }) {\n  const status = useSelector(selectStatus);\n  const intervalHasSet = useSelector(selectIntervalHasSet);\n  const dispatch = useDispatch();\n  const handleCountUpDispatch = () => {\n    dispatch(countUp());\n  };\n\n  if (status === READY) {\n    dispatch(resumeCount());\n    if (!intervalHasSet) {\n      setInterval(handleCountUpDispatch, 1000);\n      dispatch(markIntervalSet());\n    }\n  }\n\n  const x = useSelector(selectCurNumSeconds);\n  return mode === \"pure\" ? (\n    <div className={styles.timer}>\n      Time elapsed:{\" \"}\n      <span className={styles.number}>{Math.floor(x / 3600)}</span> H{\" \"}\n      <span className={styles.number}>{Math.floor(x / 60)} </span> M{\" \"}\n      <span className={styles.number}>{x % 60} </span> S{\" \"}\n    </div>\n  ) : (\n    <></>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport {\n  DARK_MODE_OFF,\n  MINI_MAP_ON,\n  selectHP,\n  SPEED_DOWN,\n  SPEED_UP,\n} from \"../reducers/playerStatusSlice\";\nimport styles from \"./playerStatusPanel.module.css\";\n// Ref: https://iconarchive.com/show/love-is-in-the-web-icons-by-succodesign/heart-icon.html\nimport heart from \"../images/heart-icon.png\";\n// Ref: https://commons.wikimedia.org/wiki/File:Stock_alarm.svg\nimport normalclock from \"../images/normalclock.png\";\n// Ref: https://en.wikipedia.org/wiki/File:Out_of_date_clock_icon.svg\nimport outoftimeclock from \"../images/outoftimeclock.png\";\n// Ref: https://www.subpng.com/png-6x43z7/\nimport mapicon from \"../images/mapicon.png\";\n// Ref: https://www.flaticon.com/free-icon/sun_169367\nimport dayIcon from \"../images/sun.png\";\n// Ref: https://www.flaticon.com/free-icon/night_208293\nimport nightIcon from \"../images/night.png\";\n// Ref: https://www.flaticon.com/free-icon/rocket_1356479\nimport rocket from \"../images/rocket.png\";\n// Ref: https://iconarchive.com/show/noto-emoji-animals-nature-icons-by-google/22283-turtle-icon.html\nimport turtleicon from \"../images/turtleicon.png\";\nimport { selectCurNumSeconds } from \"../reducers/elapseTimerSlice\";\nimport ElapseTimer from \"./ElapseTimer\";\n\n// Ref: https://medium.com/@ItsMeDannyZ/how-to-build-a-progress-bar-with-react-8c5e79731d1f\nconst ProgressBar = (props) => {\n  return (\n    <div className={styles.progressBar}>\n      <Filler percentage={props.percentage} color={props.color} />\n    </div>\n  );\n};\n\nconst Filler = (props) => {\n  return (\n    <div\n      className={styles.filler}\n      style={{ width: `${props.percentage}%`, background: props.color }}\n    />\n  );\n};\n\nconst PlayerStatusPanel = ({ buff, debuff, timeout, mode }) => {\n  const hp = useSelector(selectHP);\n  const clock = (timeout - useSelector(selectCurNumSeconds)) / timeout * 100;\n  return (\n    <div className={styles.container}>\n      {mode !== \"pure\" ? (\n        <div className={styles.progressBarSection}>\n          <img className={styles.icon} src={heart} alt=\"HP\" />\n          <ProgressBar percentage={hp} />{\" \"}\n        </div>\n      ) : (\n        <></>\n      )}\n      {mode !== \"pure\" ? (\n        <div className={styles.progressBarSection}>\n          <img\n            className={styles.icon}\n            src={clock > 30 ? normalclock : outoftimeclock}\n            alt=\"Remaining Time\"\n          />\n          <ProgressBar percentage={clock} color=\"blue\" />\n        </div>\n      ) : (\n        <></>\n      )}\n      <ElapseTimer mode={mode} />\n      <div className={styles.buffSection}>\n        <img\n          className={styles.icon}\n          src={buff & DARK_MODE_OFF ? dayIcon : nightIcon}\n          alt=\"day mode\"\n        />\n        {buff & MINI_MAP_ON ? (\n          <img className={styles.icon} src={mapicon} alt=\"minimap mode\" />\n        ) : null}\n        {buff & SPEED_UP ? (\n          <img className={styles.icon} src={rocket} alt=\"speed up\" />\n        ) : null}\n        {debuff & SPEED_DOWN ? (\n          <img className={styles.icon} src={turtleicon} alt=\"speed down\" />\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default PlayerStatusPanel;\n","import React from \"react\";\nimport speedUpIcon from \"../images/rocket.png\";\nimport speedDownIcon from \"../images/turtleicon.png\";\nimport miniMapIcon from \"../images/mapicon.png\";\nimport heartIcon from \"../images/heart-icon.png\";\nimport darkModeIcon from \"../images/night.png\";\nimport brightModeIcon from \"../images/sun.png\";\nimport normalClock from \"../images/normalclock.png\";\nimport outOfTimeClock from \"../images/outoftimeclock.png\";\nimport styles from \"./helperPage.module.css\";\n\nconst IconDescription = () => {\n  return (\n    <div className={styles.iconDescriptionContainer}>\n      <div>\n        <span className={styles.plainText}>\n          <img className={styles.eventIcon} src={heartIcon} alt=\"heart Icon\" />\n          HP\n        </span>\n      </div>\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={normalClock}\n            alt=\"normal clock Icon\"\n          />\n          Clock\n        </span>\n      </div>\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={outOfTimeClock}\n            alt=\"out of time clock Icon\"\n          />\n          Hurry clock\n        </span>\n      </div>\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={miniMapIcon}\n            alt=\"mini map Icon\"\n          />\n          Mini Map\n        </span>\n      </div>\n\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={darkModeIcon}\n            alt=\"dark mode Icon\"\n          />\n          Dark Mode\n        </span>\n      </div>\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={brightModeIcon}\n            alt=\"bright mode Icon\"\n          />\n          Bright Mode\n        </span>\n      </div>\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={speedUpIcon}\n            alt=\"speed up Icon\"\n          />\n          Speed Up\n        </span>\n      </div>\n      <div>\n        <span className={styles.plainText}>\n          <img\n            className={styles.eventIcon}\n            src={speedDownIcon}\n            alt=\"speed down Icon\"\n          />\n          Speed Down\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default IconDescription;\n","export default __webpack_public_path__ + \"static/media/movesGuide.dcee7320.png\";","import React from \"react\";\nimport movesGuide from \"../images/movesGuide.png\";\nimport styles from \"./helperPage.module.css\";\n\nconst OperationDescription = () => {\n  return (\n    <div className={styles.operationDescription}>\n      <p className={styles.plainText}>\n        Use \"W\", \"A\", \"S\", \"D\" to move forward, left, backward, right.\n      </p>\n      <img className={styles.moveGuide} src={movesGuide} alt=\"move guide\" />\n    </div>\n  );\n};\n\nexport default OperationDescription;\n","import React from \"react\";\nimport IconDescription from \"./IconDescription\";\nimport OperationDescription from \"./OperationDescription\";\nimport styles from \"./helperPage.module.css\";\n\nconst HelperPage = () => {\n  return (\n    <div className={styles.helperPage}>\n      <OperationDescription />\n      <IconDescription />\n    </div>\n  );\n};\n\nexport default HelperPage;\n","import styles from \"./navPanel.module.css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faHome,\n  faQuestionCircle,\n  faVolumeMute,\n  faVolumeUp,\n  faSun,\n  faMoon,\n  faMap,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { resumeAction } from \"../reducers/controlSlice\";\nimport { useHistory } from \"react-router\";\nimport {\n  muteBGM,\n  MUTED,\n  selectIsPlaying,\n  stopBGM,\n  TO_MUTE,\n  unmuteBGM,\n} from \"../reducers/backgroundMusicSlice\";\nimport {\n  CONFIRM_WINDOW,\n  disableBigPopUpPresense,\n  enableBigPopUpIsToOpen,\n  HELPER_WINDOW,\n} from \"../reducers/popUpWindowSlice\";\nimport BigPopUpWindow from \"./BigPopUpWindow\";\nimport background from \"../images/bigWindowBackground.png\";\nimport HelperPage from \"./HelperPage\";\nimport {\n  addABuff,\n  addADebuff,\n  DARK_MODE_OFF,\n  DARK_MODE_ON,\n  MINI_MAP_OFF,\n  MINI_MAP_ON,\n  removeABuff,\n  removeADebuff,\n  selectBuff,\n} from \"../reducers/playerStatusSlice\";\n\nfunction HelperPageWindow() {\n  const dispatch = useDispatch();\n  const buttons = (\n    <div\n      onClick={() => {\n        dispatch(disableBigPopUpPresense());\n        dispatch(resumeAction());\n      }}\n    >\n      I see!\n    </div>\n  );\n  return (\n    <BigPopUpWindow\n      buttons={buttons}\n      background={background}\n      openType={HELPER_WINDOW}\n    >\n      <HelperPage />\n    </BigPopUpWindow>\n  );\n}\n\nfunction GobackConfirm() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const buttons = (\n    <>\n      <div\n        onClick={() => {\n          dispatch(stopBGM());\n          dispatch(disableBigPopUpPresense());\n          dispatch(resumeAction());\n          history.push(\"\");\n        }}\n      >\n        Yes\n      </div>\n      <div\n        onClick={() => {\n          dispatch(disableBigPopUpPresense());\n          dispatch(resumeAction());\n        }}\n      >\n        No\n      </div>\n    </>\n  );\n  return (\n    <BigPopUpWindow\n      buttons={buttons}\n      background={background}\n      openType={CONFIRM_WINDOW}\n    >\n      <h1>Are you sure?</h1>\n      <div>\n        You are going back to the welcome page, all your current game progess\n        will be lost, are you sure?\n      </div>\n    </BigPopUpWindow>\n  );\n}\n\nexport function NavPanel({mode}) {\n  const isPlayingBGM = useSelector(selectIsPlaying);\n  const dispatch = useDispatch();\n  const handleGoHome = () => {\n    dispatch(enableBigPopUpIsToOpen(CONFIRM_WINDOW));\n  };\n  const handleHelperPage = () => {\n    dispatch(enableBigPopUpIsToOpen(HELPER_WINDOW));\n  };\n  const handleMute = () => {\n    if (isPlayingBGM === MUTED || isPlayingBGM === TO_MUTE) {\n      dispatch(unmuteBGM());\n    } else {\n      dispatch(muteBGM());\n    }\n  };\n  const buff = useSelector(selectBuff);\n  const handleSwitchDayNight = () => {\n    if (buff & DARK_MODE_OFF) {\n      dispatch(removeABuff(DARK_MODE_OFF));\n      dispatch(addADebuff(DARK_MODE_ON));\n    } else {\n      dispatch(addABuff(DARK_MODE_OFF));\n      dispatch(removeADebuff(DARK_MODE_ON));\n    }\n  };\n  const handleSwitchMinimap = () => {\n    if (buff & MINI_MAP_ON) {\n      dispatch(removeABuff(MINI_MAP_ON));\n      dispatch(addADebuff(MINI_MAP_OFF));\n    } else {\n      dispatch(addABuff(MINI_MAP_ON));\n      dispatch(removeADebuff(MINI_MAP_OFF));\n    }\n  };\n  return (\n    <>\n      <HelperPageWindow />\n      <GobackConfirm />\n      <div className={styles.navPanelContainer}>\n        <FontAwesomeIcon\n          className={styles.icon}\n          icon={faHome}\n          onClick={() => {\n            handleGoHome();\n          }}\n        />\n        <FontAwesomeIcon\n          className={styles.icon}\n          icon={faQuestionCircle}\n          onClick={() => {\n            handleHelperPage();\n          }}\n        />\n\n        <span className={styles.toggle}>\n          {mode === \"pure\" ? (\n            <FontAwesomeIcon\n              className={styles.icon}\n              icon={buff & DARK_MODE_OFF ? faMoon : faSun}\n              onClick={() => {\n                handleSwitchDayNight();\n              }}\n            />\n          ) : (\n            <></>\n          )}\n          {mode === \"pure\" ? (\n            <FontAwesomeIcon\n              className={styles.icon}\n              icon={faMap}\n              onClick={() => {\n                handleSwitchMinimap();\n              }}\n            />\n          ) : (\n            <></>\n          )}\n          <FontAwesomeIcon\n            className={styles.icon}\n            icon={\n              isPlayingBGM === MUTED || isPlayingBGM === TO_MUTE\n                ? faVolumeMute\n                : faVolumeUp\n            }\n            onClick={() => {\n              handleMute();\n            }}\n          />\n        </span>\n      </div>\n    </>\n  );\n}\n","import { useRef } from \"react\";\nimport { GamePanel } from \"../components/GamePanel\";\nimport { LabyrinthView } from \"../components/LabyrinthView\";\nimport { EventManager } from \"../components/EventManager\";\nimport { MiniMap } from \"../components/MiniMap\";\nimport PlayerStatusPanel from \"../components/PlayerStatusPanel\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { initLabyrinthWalls } from \"../components/Walls\";\nimport {\n  assignInit,\n  assignNumX,\n  assignNumZ,\n  assignPosX,\n  assignPosZ,\n  assignWallTop,\n  assignWallLeft,\n  selectIsInit,\n  assignResetCamera,\n  assignResetEvent,\n  resetCurrentAction,\n  selectPosX,\n  selectPosZ,\n  selectWallLeft,\n  selectWallTop,\n  selectAction,\n  selectResetEvent,\n  selectNumX,\n  selectNumZ,\n} from \"../reducers/controlSlice\";\nimport {\n  addABuff,\n  addADebuff,\n  DARK_MODE_OFF,\n  DARK_MODE_ON,\n  MINI_MAP_ON,\n  MINI_MAP_OFF,\n  selectBuff,\n  selectDebuff,\n  selectHP,\n  resetPlayerStatus,\n} from \"../reducers/playerStatusSlice\";\nimport { assignTimeout, resetCount, selectCurNumSeconds, selectTimeout } from \"../reducers/elapseTimerSlice\";\nimport { useParams } from \"react-router-dom\";\nimport { NavPanel } from \"../components/NavPanel\";\nimport styles from \"./labyrinthGame.module.css\";\n\nexport default function LabyrinthGame() {\n  const { gameMode } = useParams();\n  let numX = useSelector(selectNumX);\n  let numZ = useSelector(selectNumZ);\n  let timeout = useSelector(selectTimeout);\n  const blockWidth = 20;\n  const blockDepth = 0.5;\n  const blockHeight = 10;\n  const discovered = useRef(Array(numX * numZ + 1).fill(false));\n  const isInit = useSelector(selectIsInit);\n  const dispatch = useDispatch();\n  // const [gameRoundID, setGameRoundID] = useState(0);\n  // Reset the game when initialization\n  if (!isInit) {\n    switch (gameMode) {\n      case \"easy\":\n        numX = 5;\n        numZ = 5;\n        timeout = 100;\n        break;\n      case \"medium\":\n        numX = 10;\n        numZ = 10;\n        timeout = 200;\n        break;\n      case \"hard\":\n        numX = 15;\n        numZ = 15;\n        timeout = 600;\n        break;\n      case \"pure\":\n        numX = 20;\n        numZ = 20;\n        timeout = 0;\n        break;\n      default:\n      // console.log(\"game mode error: \" + gameMode);\n    }\n    // setGameRoundID(genRandomInt(1024));\n    dispatch(assignNumX(numX));\n    dispatch(assignNumZ(numZ));\n    dispatch(assignTimeout(timeout));\n    dispatch(assignPosX(numX - 1));\n    dispatch(assignPosZ(numZ - 1));\n    dispatch(assignResetCamera(false));\n    const [wallLeft, wallTop] = initLabyrinthWalls(numX, numZ);\n    dispatch(assignWallLeft(wallLeft));\n    dispatch(assignWallTop(wallTop));\n    dispatch(resetCurrentAction());\n    dispatch(resetCount());\n    dispatch(resetPlayerStatus());\n    if (gameMode === \"easy\") {\n      dispatch(addABuff(MINI_MAP_ON));\n      dispatch(addABuff(DARK_MODE_OFF));\n    } else if (gameMode === \"hard\") {\n      dispatch(addADebuff(MINI_MAP_OFF));\n      dispatch(addADebuff(DARK_MODE_ON));\n    } else if (gameMode === \"medium\" || gameMode === \"pure\") {\n      dispatch(addABuff(DARK_MODE_OFF));\n      dispatch(addADebuff(MINI_MAP_OFF));\n    }\n    dispatch(assignInit(true));\n    dispatch(assignResetEvent(true));\n    discovered.current = Array(numX * numZ + 1).fill(false);\n  }\n  const posX = useSelector(selectPosX);\n  const posZ = useSelector(selectPosZ);\n  const wallLeft = useSelector(selectWallLeft);\n  const wallTop = useSelector(selectWallTop);\n  const currentAction = useSelector(selectAction);\n  const buff = useSelector(selectBuff);\n  const debuff = useSelector(selectDebuff);\n  const isResetEvent = useSelector(selectResetEvent);\n  const currentHP = useSelector(selectHP);\n  const currentCurNumSeconds = useSelector(selectCurNumSeconds);\n  const isGameFail =\n    gameMode === \"pure\"\n      ? false\n      : currentHP <= 0 || timeout - currentCurNumSeconds <= 0;\n\n  return (\n    <div className={styles.visContainer}>\n      <LabyrinthView\n        numX={numX}\n        numZ={numZ}\n        blockWidth={blockWidth}\n        blockHeight={blockHeight}\n        blockDepth={blockDepth}\n        mazeDepth={numX * blockWidth}\n        mazeWidth={numZ * blockWidth}\n        wallLeft={wallLeft}\n        wallTop={wallTop}\n        darkModeIsOn={debuff & DARK_MODE_ON}\n      />\n      <GamePanel />\n      <NavPanel mode={gameMode}/>\n      <EventManager\n        discovered={discovered}\n        posX={posX}\n        posZ={posZ}\n        numX={numX}\n        numZ={numZ}\n        currentAction={currentAction}\n        isResetEvent={isResetEvent}\n        isGameFail={isGameFail}\n        gameMode={gameMode}\n      />\n      <MiniMap\n        discovered={discovered}\n        posX={posX}\n        posZ={posZ}\n        numX={numX}\n        numZ={numZ}\n        wallLeft={wallLeft}\n        wallTop={wallTop}\n        currentAction={currentAction}\n        miniMapIsOn={buff & MINI_MAP_ON}\n        isGameFail={isGameFail}\n      />\n      <PlayerStatusPanel buff={buff} debuff={debuff} timeout={timeout} mode={gameMode}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport styles from \"../containers/guide.module.css\";\n\nconst GameModeDescription = () => {\n  return (\n    <div className={styles.description}>\n      <h3 className={styles.smallHeader}>Game mode</h3>\n      <ul className={styles.list}>\n        <li>\n          <span className={styles.gameModeName}>Easy mode:</span>\n          <br />\n          Maze size is 5 X 5.\n        </li>\n        <li>\n          <span className={styles.gameModeName}>Medium mode:</span>\n          <br />\n          Maze size is 10 X 10.\n        </li>\n        <li>\n          <span className={styles.gameModeName}>Hard mode</span>\n          <br />\n          Maze size is 15 X 15. You will enter the maze in Dark mode.\n        </li>\n        <li>\n          <span className={styles.gameModeName}>Pure Maze mode</span>\n          <br />\n          Maze size is 20 X 20, no random events, no time limits and hp limits,\n          you can toggle on/off dark mode and minimap at any time. This is to\n          offer a pure maze wondering pleasure.\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default GameModeDescription;\n","export default __webpack_public_path__ + \"static/media/miniMap.763b6727.png\";","import React from \"react\";\nimport miniMapIcon from \"../images/mapicon.png\";\nimport miniMap from \"../images/miniMap.png\";\nimport styles from \"../containers/guide.module.css\";\n\nconst MiniMapEventDescription = () => {\n  return (\n    <React.Fragment>\n      <div className={styles.liHeaderContainer}>\n        <p className={styles.liHeader}>\n          <span className={styles.liHeaderText}> Minimap ON/OFF </span>{\" \"}\n          <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n          <img\n            className={styles.eventIcon}\n            src={miniMapIcon}\n            alt=\"miniMap Icon\"\n          />\n          <br />\n        </p>\n      </div>\n      <p className={styles.eventDetail}>\n        When you see this icon, It means the Mini Map has been shown for you.\n        You can see the map of the maze on the top left. Like this:\n        <br />\n        <span>\n          <img\n            className={`${styles.eventPicture} ${styles.mimiMapEventPicture}`}\n            src={miniMap}\n            alt=\"MiniMap\"\n          />\n        </span>\n      </p>\n    </React.Fragment>\n  );\n};\n\nexport default MiniMapEventDescription;\n","export default __webpack_public_path__ + \"static/media/darkMode.d01dbca6.png\";","import React from \"react\";\nimport darkModeIcon from \"../images/night.png\";\nimport brightModeIcon from \"../images/sun.png\";\nimport darkModePicture from \"../images/darkMode.png\";\nimport styles from \"../containers/guide.module.css\";\n\nconst DarkModeEventDescription = () => {\n  return (\n    <React.Fragment>\n      <div className={styles.liHeaderContainer}>\n        <p className={styles.liHeader}>\n          <span className={styles.liHeaderText}>Dark/Bright Mode ON/OFF</span>{\" \"}\n          <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n          <img\n            className={styles.eventIcon}\n            src={darkModeIcon}\n            alt=\"dark mode Icon\"\n          />\n          <img\n            className={styles.eventIcon}\n            src={brightModeIcon}\n            alt=\"bright mode Icon\"\n          />\n          <br />\n        </p>\n      </div>\n      <p className={styles.eventDetail}>\n        When you see these icon, It means the dark mode or bright mode has been\n        enabled. These effects will immediately apply. For example, when you\n        invoke the dark mode, your game view will be like this:\n        <br />\n        <span>\n          <img\n            className={styles.eventPicture}\n            src={darkModePicture}\n            alt=\"MiniMap\"\n          />\n        </span>\n      </p>\n    </React.Fragment>\n  );\n};\n\nexport default DarkModeEventDescription;\n","import React from \"react\";\nimport speedUpIcon from \"../images/rocket.png\";\nimport speedDownIcon from \"../images/turtleicon.png\";\nimport styles from \"../containers/guide.module.css\";\n\nconst SpeedChangeEventDescription = () => {\n  return (\n    <React.Fragment>\n      <div className={styles.liHeaderContainer}>\n        <p className={styles.liHeader}>\n          <span className={styles.liHeaderText}> Speed Up/Down ON/OFF </span>{\" \"}\n          <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n          <img\n            className={styles.eventIcon}\n            src={speedUpIcon}\n            alt=\"speed up Icon\"\n          />\n          <img\n            className={styles.eventIcon}\n            src={speedDownIcon}\n            alt=\"speed down Icon\"\n          />\n          <br />\n        </p>\n      </div>\n      <p className={styles.eventDetail}>\n        When you see these icon, It means the some change have been applied to\n        your moving speed. These effects will immediately apply.\n      </p>\n    </React.Fragment>\n  );\n};\n\nexport default SpeedChangeEventDescription;\n","import React from \"react\";\nimport heartIcon from \"../images/heart-icon.png\";\nimport styles from \"../containers/guide.module.css\";\n\nconst HPChangeEventDescription = () => {\n  return (\n    <React.Fragment>\n      <div className={styles.liHeaderContainer}>\n        <p className={styles.liHeader}>\n          <span className={styles.liHeaderText}>HP Gain/Lose</span>\n          <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n          <img className={styles.eventIcon} src={heartIcon} alt=\"heart Icon\" />\n          <br />\n        </p>\n      </div>\n      <p className={styles.eventDetail}>\n        You might also invoke some events related to the change of your HP. Some\n        of them will be positive, however, some won't. Keep an eye on the your\n        health during the game!\n      </p>\n    </React.Fragment>\n  );\n};\n\nexport default HPChangeEventDescription;\n","import React from \"react\";\nimport GameModeDescription from \"../components/GameModeDescription\";\nimport styles from \"./guide.module.css\";\nimport movesGuide from \"../images/movesGuide.png\";\nimport MiniMapEventDescription from \"../components/MiniMapEventDescription\";\nimport DarkModeEventDescription from \"../components/DarkModeEventDescription\";\nimport SpeedChangeEventDescription from \"../components/SpeedChangeEventDescription\";\nimport HPChangeEventDescription from \"../components/HPChangeEventDescription\";\nimport { useHistory } from \"react-router-dom\";\nimport Footer from \"../components/Footer\";\n\nconst Guide = () => {\n  const history = useHistory();\n  const handleGoBack = () => {\n    history.push(\"\");\n  };\n  const goBack = \"< Go Back\";\n\n  return (\n    <div className={styles.guide}>\n      <span\n        className={`${styles.goBackButton} ${styles.topGoBackButton}`}\n        onClick={() => handleGoBack()}\n      >\n        {goBack}\n      </span>\n\n      <div>\n        <h2 className={styles.bigHeader}>\n          Welcome! You have entered a dangerous maze !\n        </h2>\n        <span className={styles.plainText}>\n          The purpose of the game is to find the exit.\n        </span>\n      </div>\n      <div className={styles.description}>\n        <h3 className={styles.smallHeader}> How to play:</h3>\n        <ul className={styles.list}>\n          <li>\n            Use \"W\", \"A\", \"S\", \"D\" to move forward, left, backward, right.\n          </li>\n          <img className={styles.moveGuide} src={movesGuide} alt=\"move guide\" />\n        </ul>\n      </div>\n\n      <div className={styles.description}>\n        <h3 className={styles.smallHeader}> Tips:</h3>\n        <ul className={styles.list}>\n          <li>\n            During your exploration, your moves might invoke different kinds of\n            effects. Some of them are helpful, some of them are not. :)\n          </li>\n          <li>Keep an eye on your HP! If your HP went to 0, you fail!</li>\n          <li>Enjoy!</li>\n          <li>\n            Maybe you already know, but again, trying to go through the walls\n            directly won't work!\n          </li>\n        </ul>\n      </div>\n      <div className={styles.description}>\n        <h3 className={styles.smallHeader}>Effects you might invoke:</h3>\n        <ul className={styles.list}>\n          <li>\n            <MiniMapEventDescription />\n          </li>\n          <li>\n            <DarkModeEventDescription />\n          </li>\n          <li>\n            <SpeedChangeEventDescription />\n          </li>\n          <li>\n            <HPChangeEventDescription />\n          </li>\n        </ul>\n      </div>\n      <GameModeDescription />\n      <span\n        className={`${styles.goBackButton} ${styles.bottomGoBackButton}`}\n        onClick={() => handleGoBack()}\n      >\n        {goBack}\n      </span>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Guide;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { WelcomeScreens } from \"./Welcome\";\nimport styles from \"./welcome.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\n\nconst AboutPage = () => {\n  return (\n    <WelcomeScreens>\n      <div className={`${styles.options} ${styles.aboutPage}`}>\n        <ul className={styles.aboutList}>\n          <li>Author:</li>\n          <ul className={styles.authorList}>\n            <li>\n              Weijia Deng\n              <a\n                className={styles.personalWebsite}\n                href=\"https://weijiadeng.github.io/\"\n              >\n                <FontAwesomeIcon icon={faPaperPlane} size=\"xs\" />\n              </a>\n            </li>\n            <li>\n              Wenhua Yao\n              <a\n                className={styles.personalWebsite}\n                href=\"https://www.linkedin.com/in/wenhua-yao-569013189/\"\n              >\n                <FontAwesomeIcon icon={faPaperPlane} size=\"xs\" />\n              </a>\n            </li>\n          </ul>\n          <li>\n            Music used comes from{\" \"}\n            <a\n              className={styles.creditLink}\n              href=\"https://mixkit.co/free-sound-effects/game/\"\n            >\n              Mixkit\n            </a>\n          </li>\n          <li>Thank you for playing!</li>\n        </ul>\n        <NavLink to=\"/\" className={styles.buttons}>\n          Go back\n        </NavLink>\n      </div>\n    </WelcomeScreens>\n  );\n};\n\nexport default AboutPage;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Welcome } from \"./containers/Welcome\";\nimport { ModeSelection } from \"./containers/ModeSelection\";\nimport LabyrinthGame from \"./containers/LabyrinthGame\";\nimport Guide from \"./containers/Guide\";\nimport AboutPage from \"./containers/AboutPage\";\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Welcome />\n      </Route>\n      <Route exact path=\"/game\">\n        <ModeSelection />\n      </Route>\n      <Route exact path=\"/game/:gameMode\">\n        <LabyrinthGame />\n      </Route>\n      <Route exact path=\"/guide\">\n        <Guide />\n      </Route>\n      <Route exact path=\"/about\">\n        <AboutPage />\n      </Route>\n      ;{/* Finally, catch all unmatched routes */}\n      <Route>\n        <Welcome />\n      </Route>\n    </Switch>\n  );\n}\n","import Modal from \"react-modal\";\nimport { BackgroundMusic } from \"./commons/BackgroundMusic\";\nimport Routes from \"./Routes\";\n\nimport \"./styles.css\";\n\nModal.setAppElement(\"#root\");\n\nexport default function App() {\n  return (\n    <>\n      <BackgroundMusic />\n      <Routes />\n    </>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nconst INITIAL_HELPER_PAGE_SHOWN_STATUS = false;\n\nexport const helperPageSlice = createSlice({\n  name: \"helperPage\",\n  initialState: {\n    shown: INITIAL_HELPER_PAGE_SHOWN_STATUS,\n  },\n  reducers: {\n    toggleShown: (state) => {\n      state.shown = !state.shown;\n    },\n  },\n});\n\nexport const { toggleShown } = helperPageSlice.actions;\n\nexport const selectShown = (state) => state.helperPage.shown;\n\nexport default helperPageSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport controlReducer from \"./reducers/controlSlice\";\nimport elapseTimerReducer from \"./reducers/elapseTimerSlice\";\nimport backgroundMusicReducer from \"./reducers/backgroundMusicSlice\";\nimport playerStatusReducer from \"./reducers/playerStatusSlice\";\nimport popUpWindowReducer from \"./reducers/popUpWindowSlice\";\nimport leaderboardReducer from \"./reducers/leaderboardSlice\";\nimport helperPageReducer from \"./reducers/helperPageSlice\";\n\nexport default configureStore({\n  reducer: {\n    control: controlReducer,\n    elapseTimer: elapseTimerReducer,\n    backgroundMusic: backgroundMusicReducer,\n    playerStatus: playerStatusReducer,\n    popUpWindow: popUpWindowReducer,\n    leaderboard: leaderboardReducer,\n    helperPage: helperPageReducer,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"guide\":\"guide_guide__2aWi3\",\"moveGuide\":\"guide_moveGuide__V3I7F\",\"eventIcon\":\"guide_eventIcon__2a3RW\",\"eventPicture\":\"guide_eventPicture__3Mf1z\",\"mimiMapEventPicture\":\"guide_mimiMapEventPicture__3lCyW\",\"liHeaderContainer\":\"guide_liHeaderContainer__Z6SBI\",\"eventDetail\":\"guide_eventDetail__m0GkN\",\"bigHeader\":\"guide_bigHeader__2IMBJ\",\"smallHeader\":\"guide_smallHeader__GaiSr\",\"plainText\":\"guide_plainText__3DOqX\",\"list\":\"guide_list__1_KNE\",\"liHeader\":\"guide_liHeader__Gs8PT\",\"liHeaderText\":\"guide_liHeaderText__m4uHA\",\"gameModeName\":\"guide_gameModeName__2bmcY\",\"description\":\"guide_description__fmMtg\",\"topGoBackButton\":\"guide_topGoBackButton__3RSNH\",\"bottomGoBackButton\":\"guide_bottomGoBackButton__1PA6J\",\"goBackButton\":\"guide_goBackButton__15s7P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"helperPage\":\"helperPage_helperPage__3CVt5\",\"moveGuide\":\"helperPage_moveGuide__30Pob\",\"operationDescription\":\"helperPage_operationDescription__nn3h2\",\"iconDescriptionContainer\":\"helperPage_iconDescriptionContainer__3KEOE\",\"eventIcon\":\"helperPage_eventIcon__2huNr\",\"plainText\":\"helperPage_plainText__DKd71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"welcome_container__p4cQA\",\"title\":\"welcome_title__1dzLW\",\"options\":\"welcome_options__3AWfN\",\"buttons\":\"welcome_buttons__kcjFU\",\"aboutPage\":\"welcome_aboutPage__nFBMW\",\"personalWebsite\":\"welcome_personalWebsite__3Ye7x\",\"aboutList\":\"welcome_aboutList__35xbZ\",\"authorList\":\"welcome_authorList__T8DOB\",\"creditLink\":\"welcome_creditLink__LkJfq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"eventManager_icon__3lCSx\",\"negativeKeywords\":\"eventManager_negativeKeywords__2PiNG\",\"positiveKeywords\":\"eventManager_positiveKeywords__3ymhx\",\"neutralKeywords\":\"eventManager_neutralKeywords__JeO5s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"playerStatusPanel_container__3gKUU\",\"progressBar\":\"playerStatusPanel_progressBar__2OczX\",\"icon\":\"playerStatusPanel_icon__LoCU4\",\"progressBarSection\":\"playerStatusPanel_progressBarSection__25ZUm\",\"filler\":\"playerStatusPanel_filler__A1WSr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navPanelContainer\":\"navPanel_navPanelContainer__1vfli\",\"icon\":\"navPanel_icon__3X4Ey\",\"toggle\":\"navPanel_toggle__2X23e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelContainer\":\"gamePanel_panelContainer__2I-11\",\"forwardButton\":\"gamePanel_forwardButton__3wqGa\",\"backwardButton\":\"gamePanel_backwardButton__2mBmK\",\"turnLeftButton\":\"gamePanel_turnLeftButton__1neex\",\"turnRightButton\":\"gamePanel_turnRightButton__8HIPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"bigPopUpWindow_popup__3Y6BH\",\"overlay\":\"bigPopUpWindow_overlay__2vXM3\",\"backgroundPic\":\"bigPopUpWindow_backgroundPic__JlTZ5\",\"content\":\"bigPopUpWindow_content__3lEcr\",\"buttonsection\":\"bigPopUpWindow_buttonsection__DsooY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"miniMap_container__203Xp\",\"map\":\"miniMap_map__3sY0k\",\"broadRow\":\"miniMap_broadRow__ccNrJ\",\"square\":\"miniMap_square__z_h7H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leaderSection\":\"leaderboard_leaderSection__2u1-4\",\"leaderRow\":\"leaderboard_leaderRow__1Xvnk\",\"entry\":\"leaderboard_entry__3ArCZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"elapseTimer_timer__3BFpc\",\"number\":\"elapseTimer_number__36Aia\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"smallPopUpWindow_content__1_Cd_\",\"buttonsection\":\"smallPopUpWindow_buttonsection__1qAGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__13GXH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasDiv\":\"labyrinthView_canvasDiv__1DGyV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"visContainer\":\"labyrinthGame_visContainer__Vqj_T\"};"],"sourceRoot":""}