(this.webpackJsonplabyrinth=this.webpackJsonplabyrinth||[]).push([[0],{35:function(t,e,r){},36:function(t,e,r){"use strict";r.r(e);var n=r(2),a=r(22),o=r.n(a),i=r(6),s=r(11),c=r(26),u=r(3),h=r(4);Object(s.b)({TrackballControls:c.a});var f=function(t,e){var r=n.useRef(),a=Object(s.d)(),o=a.camera,c=a.gl,f=n.useState(180),l=Object(i.a)(f,2),b=l[0],j=l[1],p=n.useState(180),m=Object(i.a)(p,2),d=m[0],O=m[1],g=n.useState(0),x=Object(i.a)(g,2),v=x[0],k=x[1],y=n.useState(0),w=Object(i.a)(y,2),M=w[0],R=w[1];return n.useImperativeHandle(e,(function(){return{moveForward:function(t,e,r){j(t),O(e),k(r)},turnLeft:function(t,e,r){j(t),O(e),k(r),R(90+M)},turnRight:function(t,e,r){j(t),O(e),k(r),R(M-90)}}})),Object(s.c)((function(){switch(v){case 0:o.position.z>d&&(o.position.z-=.5,o.lookAt(o.position.x,0,d-10));break;case 3:o.position.x<b&&(o.position.x+=.5,o.lookAt(b+10,0,o.position.z));break;case 2:o.position.z<d&&(o.position.z+=.5,o.lookAt(o.position.x,0,d+10));break;case 1:o.position.x>b&&(o.position.x-=.5,o.lookAt(b-10,0,o.position.z));break;default:console.log("direction error!")}o.updateProjectionMatrix(),M>0?(o.rotateY(u.Math.degToRad(-2)),R(M-2)):M<0&&(o.rotateY(u.Math.degToRad(2)),R(M+2))})),Object(h.jsx)("trackballControls",{ref:r,args:[o,c.domElement],dynamicDampingFactor:.1})},l=n.forwardRef(f),b=r(0),j=r(1),p=function(){function t(e){Object(b.a)(this,t),this.partsCount=e,this.path=Array.apply(null,{length:e}).map(Number.call,Number),this.rank=Array.apply(0,{length:e})}return Object(j.a)(t,[{key:"find",value:function(t){for(;t!==this.path[t];)this.path[t]=this.path[this.path[t]],t=this.path[t];return t}},{key:"union",value:function(t,e){var r=this.find(t),n=this.find(e);r!==n&&(this.partsCount-=1,this.rank[r]<this.rank[n]?this.path[r]=n:this.rank[r]>this.rank[n]?this.path[n]=r:(this.path[r]=n,this.rank[n]+=1))}}]),t}();function m(t,e,r){return r<e?[r-t,r]:[r-e-1,r-e]}function d(t,e){for(var r=t*e,n=new p(r),a=[],o=[],s=t;s<r;s++)a.push(s);for(var c=r;c<2*r;c++)c%t!==0&&a.push(c);var u=(a=function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}(a)).length-1;do{var h=a[u],f=m(t,r,h),l=Object(i.a)(f,2),b=l[0],j=l[1];n.find(b)===n.find(j)?o.push(h):n.union(b,j),u-=1}while(1!==n.partsCount);for(;u>=0;)o.push(a[u]),u-=1;for(var d=Array.apply(null,{length:r}).fill(!1),O=Array.apply(null,{length:r}).fill(!1),g=0;g<t;g++)O[g]=!0;for(var x=0;x<e;x++)d[x*t]=!0;for(var v=0;v<o.length;v++)o[v]<r?O[o[v]]=!0:d[o[v]-r]=!0;return[d,O]}function O(t,e,r,n,a){return Object(h.jsxs)("mesh",{position:[t+r/2,0,e],rotation:[0,0,0],children:[Object(h.jsx)("boxBufferGeometry",{attach:"geometry",args:[r,n,a]}),Object(h.jsx)("meshLambertMaterial",{attach:"material",color:"orange"})]})}function g(t,e,r,n,a){return Object(h.jsxs)("mesh",{position:[t,0,e+r/2],rotation:[0,.5*Math.PI,0],children:[Object(h.jsx)("boxBufferGeometry",{attach:"geometry",args:[r,n,a]}),Object(h.jsx)("meshLambertMaterial",{attach:"material",color:"orange"})]})}function x(t,e,r,n,a,o,i,s,c){for(var u=[],h=0;h<t;h++)for(var f=0;f<e;f++)r[h+t*f]&&u.push(O(h*a-s-i/2,f*a-c,a+i,o,i)),0===h&&0===f||n[h+t*f]&&u.push(g(h*a-s,f*a-c-i/2,a+i,o,i));for(var l=0;l<t-1;l++)u.push(O(l*a-s-i/2,e*a-c,a+i,o,i));for(var b=0;b<e;b++)u.push(g(t*a-s,b*a-c-i/2,a+i,o,i));return u}function v(t,e){var r=t.numX,a=t.numZ,o=t.blockWidth,c=t.blockHeight,u=t.blockDepth,f=t.mazeDepth,b=t.mazeWidth,j=n.useState(d(r,a)),p=Object(i.a)(j,1),m=Object(i.a)(p[0],2),O=m[0],g=m[1],v=n.useState(0),k=Object(i.a)(v,2),y=k[0],w=k[1],M=n.useState(r),R=Object(i.a)(M,2),z=R[0],C=R[1],L=n.useState(a),A=Object(i.a)(L,2),S=A[0],N=A[1],D=n.useRef(),F=-r*o/2,I=-a*o/2,T=function(){return-o/2+z*o+F},B=function(){return-o/2+S*o+I};return n.useImperativeHandle(e,(function(){return{moveForward:function(){var t=0,e=0;switch(y){case 0:N(S-1),e=S-1;break;case 1:C(z-1),t=z-1;break;case 2:N(S+1),e=S+1;break;case 3:C(z+1),t=z+1;break;default:console.log("Direction error: ",y)}return D.current.moveForward(-o/2+t*o+F,function(t){return-o/2+t*o+I}(e),y)},turnLeft:function(){return w((y+1)%4),D.current.turnRight(T(),B(),(y+1)%4)},turnRight:function(){return w(((y-1)%4+4)%4),D.current.turnLeft(T(),B(),((y-1)%4+4)%4)}}})),Object(h.jsxs)(s.a,{camera:{fov:80,position:[T(),0,B()+o]},children:[Object(h.jsx)(l,{ref:D}),Object(h.jsx)("ambientLight",{color:"#ffffff",intensity:.1}),Object(h.jsx)("spotLight",{intensity:1,position:[300,300,4e3]}),Object(h.jsx)("hemisphereLight",{color:"#ffffff",skyColor:"#ffffbb",groundColor:"#080820",intensity:1}),x(r,a,g,O,o,c,u,b,f),Object(h.jsxs)("mesh",{position:[0,-10,0],rotation:[.5*Math.PI,0,0],children:[Object(h.jsx)("boxBufferGeometry",{attach:"geometry",args:[400,400,.1]}),Object(h.jsx)("meshToonMaterial",{attach:"material",color:"#405940"})]}),Object(h.jsxs)("mesh",{position:[0,10,0],rotation:[.5*Math.PI,0,0],children:[Object(h.jsx)("boxBufferGeometry",{attach:"geometry",args:[400,400,.1]}),Object(h.jsx)("meshMatcapMaterial",{attach:"material",color:"lightblue"})]})]})}var k=n.forwardRef(v);r(35);function y(){var t=n.useRef();return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{className:"vis-container",children:[Object(h.jsx)(k,{numX:10,numZ:10,blockWidth:40,blockHeight:20,blockDepth:1,mazeDepth:200,mazeWidth:200,ref:t}),Object(h.jsx)("button",{className:"forward-button",onClick:function(){t.current.moveForward()},children:"Move Forward"}),Object(h.jsx)("button",{className:"turn-left-button",onClick:function(){t.current.turnLeft()},children:"Turn Left"}),Object(h.jsx)("button",{className:"turn-right-button",onClick:function(){t.current.turnRight()},children:"Turn Right"})]})})}var w=document.getElementById("root");o.a.render(Object(h.jsx)(y,{}),w)}},[[36,1,2]]]);
//# sourceMappingURL=main.e16fac19.chunk.js.map